// Code generated by assets compiler. DO NOT EDIT.

package assets

var (
	Assets = map[string]string{
		"/css/index.css":           "html, body, #terminal {\n    background: black;\n    height: 100%;\n    width: 100%;\n    padding: 0%;\n    margin: 0%;\n}",
		"/css/xterm.css":           "/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author's permission):\n *   Fabrice Bellard's javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n/**\n *  Default styles for xterm.js\n */\n\n.xterm {\n    font-feature-settings: \"liga\" 0;\n    position: relative;\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n}\n\n.xterm.focus,\n.xterm:focus {\n    outline: none;\n}\n\n.xterm .xterm-helpers {\n    position: absolute;\n    top: 0;\n    /**\n     * The z-index of the helpers must be higher than the canvases in order for\n     * IMEs to appear on top.\n     */\n    z-index: 5;\n}\n\n.xterm .xterm-helper-textarea {\n    /*\n     * HACK: to fix IE's blinking cursor\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\n     */\n    position: absolute;\n    opacity: 0;\n    left: -9999em;\n    top: 0;\n    width: 0;\n    height: 0;\n    z-index: -5;\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\n    white-space: nowrap;\n    overflow: hidden;\n    resize: none;\n}\n\n.xterm .composition-view {\n    /* TODO: Composition position got messed up somewhere */\n    background: #000;\n    color: #FFF;\n    display: none;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 1;\n}\n\n.xterm .composition-view.active {\n    display: block;\n}\n\n.xterm .xterm-viewport {\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\n    background-color: #000;\n    overflow-y: scroll;\n    cursor: default;\n    position: absolute;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: 0;\n}\n\n.xterm .xterm-screen {\n    position: relative;\n}\n\n.xterm .xterm-screen canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.xterm .xterm-scroll-area {\n    visibility: hidden;\n}\n\n.xterm-char-measure-element {\n    display: inline-block;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: -9999em;\n    line-height: normal;\n}\n\n.xterm {\n    cursor: text;\n}\n\n.xterm.enable-mouse-events {\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\n    cursor: default;\n}\n\n.xterm.xterm-cursor-pointer {\n    cursor: pointer;\n}\n\n.xterm.column-select.focus {\n    /* Column selection mode */\n    cursor: crosshair;\n}\n\n.xterm .xterm-accessibility,\n.xterm .xterm-message {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 10;\n    color: transparent;\n}\n\n.xterm .live-region {\n    position: absolute;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n.xterm-dim {\n    opacity: 0.5;\n}\n\n.xterm-underline {\n    text-decoration: underline;\n}\n",
		"/css/xterm_customize.css": ".terminal {\n    font-family: \"DejaVu Sans Mono\", \"Everson Mono\", FreeMono, Menlo, Terminal, monospace, \"Apple Symbols\";\n}\n\n.xterm-overlay {\n    font-family: \"DejaVu Sans Mono\", \"Everson Mono\", FreeMono, Menlo, Terminal, monospace, \"Apple Symbols\";\n    border-radius: 15px;\n    font-size: xx-large;\n    color: black;\n    background: white;\n    opacity: 0.75;\n    padding: 0.2em 0.5em 0.2em 0.5em;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    user-select: none;\n    transition: opacity 180ms ease-in;\n}",
		"/favicon.ico":             "GIF89a\x10\x00\x10\x00\xf1\x00\x00\x00\x00\x00\x00\xe66\x00\x00\x00\x00\x00\x00!\xf9\x04\tF\x00\x02\x00!\xff\vNETSCAPE2.0\x03\x01\x00\x00\x00,\x00\x00\x00\x00\x10\x00\x10\x00\x00\x02\xe7\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x81@ \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\n\x00\x00!\xf9\x04\tF\x00\x02\x00,\x00\x00\x00\x00\x10\x00\x10\x00\x00\x02\xe7\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\n\x00\x00;",
		"/index.html":              "<!doctype html>\n<html>\n  <head>\n    <title></title>\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\">\n    <link rel=\"stylesheet\" href=\"./css/index.css\" />\n    <link rel=\"stylesheet\" href=\"./css/xterm.css\" />\n    <link rel=\"stylesheet\" href=\"./css/xterm_customize.css\" />\n  </head>\n  <body>\n    <div id=\"terminal\"></div>\n    <script src=\"./js/wetty-bundle.js\"></script>\n  </body>\n</html>\n",
		"/js/wetty-bundle.js":      "!function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=2)}([function(e){\n/*!\n * webpack (https://npmjs.com/package/webpack)\n * @license MIT\n * @version 4.41.2\n * ==webpack/LICENSE==\n * Copyright JS Foundation and other contributors\n * \n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n * \n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nvar t=function(){return this}();try{t=t||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(t=window)}e.exports=t},function(e,t,r){\"use strict\";var o=Math.abs,i=Math.max,n=Math.floor,s=Math.ceil,a=Math.round,l=Math.min,c=String.fromCharCode,h=String.prototype;(function(e,r){\n/*!\n * libapps (https://npmjs.com/package/libapps)\n * @license BSD-3-Clause\n * @version 1.0.0\n * ==libapps/LICENSE==\n * Copyright (c) 2006-2009 The Chromium OS Authors. All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n * 3. Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\nconst u={initCallbacks_:[],registerInit:function(e,t){return u.initCallbacks_.push([e,t]),t},init:function(e,t){var r=u.initCallbacks_,o=function(){if(r.length){var i=r.shift();t&&t(\"init: \"+i[0]),i[1](o)}else e()};if(\"function\"!=typeof e)throw new Error(\"Missing or invalid argument: onInit\");setTimeout(o,0)}};if(h.padStart||(h.padStart=function(e,t){return 0>=(e-=this.length)?this+\"\":(void 0===t&&(t=\" \"),e>t.length&&(t=t.repeat(e/t.length+1)),t.slice(0,e)+(this+\"\"))}),h.padEnd||(h.padEnd=function(e,t){return 0>=(e-=this.length)?this+\"\":(void 0===t&&(t=\" \"),e>t.length&&(t=t.repeat(e/t.length+1)),this+\"\"+t.slice(0,e))}),!Object.values||!Object.entries){const e=Function.bind.call(Function.call,Array.prototype.reduce),t=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),r=Function.bind.call(Function.call,Array.prototype.concat);Object.values||(Object.values=function(o){return e(Reflect.ownKeys(o),(e,i)=>r(e,\"string\"==typeof i&&t(o,i)?[o[i]]:[]),[])}),Object.entries||(Object.entries=function(o){return e(Reflect.ownKeys(o),(e,i)=>r(e,\"string\"==typeof i&&t(o,i)?[[i,o[i]]]:[]),[])})}if(\"function\"!=typeof Promise.prototype.finally){const e=function(e,t){if(!e||\"object\"!=typeof e&&\"function\"!=typeof e)throw new TypeError(\"Assertion failed: Type(O) is not Object\");const r=e.constructor;if(void 0===r)return t;if(!r||\"object\"!=typeof r&&\"function\"!=typeof r)throw new TypeError(\"O.constructor is not an Object\");const o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.species?r[Symbol.species]:void 0;if(null==o)return t;if(\"function\"==typeof o&&o.prototype)return o;throw new TypeError(\"no constructor found\")},t={finally(t){const r=this;if(\"object\"!=typeof r||null===r)throw new TypeError('\"this\" value is not an Object');const o=e(r,Promise);return\"function\"==typeof t?Promise.prototype.then.call(r,e=>new o(e=>e(t())).then(()=>e),e=>new o(e=>e(t())).then(()=>{throw e})):Promise.prototype.then.call(r,t,t)}};Object.defineProperty(Promise.prototype,\"finally\",{configurable:!0,writable:!0,value:t.finally})}u.array={},u.array.concatTyped=function(...e){let t=0;for(const r of e)t+=r.length;const r=new e[0].constructor(t);let o=0;for(const t of e)r.set(t,o),o+=t.length;return r},u.array.compare=function(e,t){if(null===e||null===t)return null==e&&null==t;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},u.codec={},u.codec.codeUnitArrayToString=function(e){let t=\"\";for(let r=0;r<e.length;++r)t+=c(e[r]);return t},u.codec.stringToCodeUnitArray=function(e,t=Array){const r=new t(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return r},u.colors={},u.colors.re_={hex16:/#([a-f0-9])([a-f0-9])([a-f0-9])/i,hex24:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/i,rgb:new RegExp(\"^/s*rgb/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*/)/s*$\".replace(/\\//g,\"\\\\\"),\"i\"),rgba:new RegExp(\"^/s*rgba/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$\".replace(/\\//g,\"\\\\\"),\"i\"),rgbx:new RegExp(\"^/s*rgba?/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$\".replace(/\\//g,\"\\\\\"),\"i\"),x11rgb:/^\\s*rgb:([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\s*$/i,name:/[a-z][a-z0-9\\s]+/},u.colors.rgbToX11=function(e){function t(e){return e=(257*l(e,255)).toString(16),u.f.zpad(e,4)}var r=e.match(u.colors.re_.rgbx);return r?\"rgb:\"+t(r[1])+\"/\"+t(r[2])+\"/\"+t(r[3]):null},u.colors.x11HexToCSS=function(e){if(!e.startsWith(\"#\"))return null;if(e=e.substr(1),-1==[3,6,9,12].indexOf(e.length))return null;if(e.match(/[^a-f0-9]/i))return null;var t=e.length/3,r=e.substr(0,t),o=e.substr(t,t),i=e.substr(t+t,t);return u.colors.arrayToRGBA([r,o,i].map((function(e){return e=parseInt(e,16),2==t?e:1==t?e<<4:e>>4*(t-2)})))},u.colors.x11ToCSS=function(e){var t=e.match(u.colors.re_.x11rgb);return t?(t.splice(0,1),u.colors.arrayToRGBA(t.map((function(e){return 1==e.length?parseInt(e+e,16):2==e.length?parseInt(e,16):(3==e.length&&(e+=e.substr(2)),a(parseInt(e,16)/257))})))):e.startsWith(\"#\")?u.colors.x11HexToCSS(e):u.colors.nameToRGB(e)},u.colors.hexToRGB=function(e){function t(e){4==e.length&&(e=e.replace(r,(function(e,t,r,o){return\"#\"+t+t+r+r+o+o})));var t=e.match(o);return t?\"rgb(\"+parseInt(t[1],16)+\", \"+parseInt(t[2],16)+\", \"+parseInt(t[3],16)+\")\":null}var r=u.colors.re_.hex16,o=u.colors.re_.hex24;if(e instanceof Array)for(var i=0;i<e.length;i++)e[i]=t(e[i]);else e=t(e);return e},u.colors.rgbToHex=function(e){function t(e){var t=u.colors.crackRGB(e);return t?\"#\"+u.f.zpad((parseInt(t[0])<<16|parseInt(t[1])<<8|parseInt(t[2])<<0).toString(16),6):null}if(e instanceof Array)for(var r=0;r<e.length;r++)e[r]=t(e[r]);else e=t(e);return e},u.colors.normalizeCSS=function(e){return e.startsWith(\"#\")?u.colors.hexToRGB(e):u.colors.re_.rgbx.test(e)?e:u.colors.nameToRGB(e)},u.colors.arrayToRGBA=function(e){var t=3<e.length?e[3]:1;return\"rgba(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+t+\")\"},u.colors.setAlpha=function(e,t){var r=u.colors.crackRGB(e);return r[3]=t,u.colors.arrayToRGBA(r)},u.colors.mix=function(e,t,r){for(var o,i=u.colors.crackRGB(e),n=u.colors.crackRGB(t),s=0;4>s;++s)o=n[s]-i[s],i[s]=a(parseInt(i[s])+o*r);return u.colors.arrayToRGBA(i)},u.colors.crackRGB=function(e){var t;if(e.startsWith(\"rgba\")){if(t=e.match(u.colors.re_.rgba))return t.shift(),Array.from(t)}else if(t=e.match(u.colors.re_.rgb))return t.shift(),t.push(\"1\"),Array.from(t);return console.error(\"Couldn't crack: \"+e),null},u.colors.nameToRGB=function(e){return e in u.colors.colorNames?u.colors.colorNames[e]:(e=e.toLowerCase())in u.colors.colorNames?u.colors.colorNames[e]:(e=e.replace(/\\s+/g,\"\"))in u.colors.colorNames?u.colors.colorNames[e]:null},u.colors.stockColorPalette=u.colors.hexToRGB([\"#000000\",\"#CC0000\",\"#4E9A06\",\"#C4A000\",\"#3465A4\",\"#75507B\",\"#06989A\",\"#D3D7CF\",\"#555753\",\"#EF2929\",\"#00BA13\",\"#FCE94F\",\"#729FCF\",\"#F200CB\",\"#00B5BD\",\"#EEEEEC\",\"#000000\",\"#00005F\",\"#000087\",\"#0000AF\",\"#0000D7\",\"#0000FF\",\"#005F00\",\"#005F5F\",\"#005F87\",\"#005FAF\",\"#005FD7\",\"#005FFF\",\"#008700\",\"#00875F\",\"#008787\",\"#0087AF\",\"#0087D7\",\"#0087FF\",\"#00AF00\",\"#00AF5F\",\"#00AF87\",\"#00AFAF\",\"#00AFD7\",\"#00AFFF\",\"#00D700\",\"#00D75F\",\"#00D787\",\"#00D7AF\",\"#00D7D7\",\"#00D7FF\",\"#00FF00\",\"#00FF5F\",\"#00FF87\",\"#00FFAF\",\"#00FFD7\",\"#00FFFF\",\"#5F0000\",\"#5F005F\",\"#5F0087\",\"#5F00AF\",\"#5F00D7\",\"#5F00FF\",\"#5F5F00\",\"#5F5F5F\",\"#5F5F87\",\"#5F5FAF\",\"#5F5FD7\",\"#5F5FFF\",\"#5F8700\",\"#5F875F\",\"#5F8787\",\"#5F87AF\",\"#5F87D7\",\"#5F87FF\",\"#5FAF00\",\"#5FAF5F\",\"#5FAF87\",\"#5FAFAF\",\"#5FAFD7\",\"#5FAFFF\",\"#5FD700\",\"#5FD75F\",\"#5FD787\",\"#5FD7AF\",\"#5FD7D7\",\"#5FD7FF\",\"#5FFF00\",\"#5FFF5F\",\"#5FFF87\",\"#5FFFAF\",\"#5FFFD7\",\"#5FFFFF\",\"#870000\",\"#87005F\",\"#870087\",\"#8700AF\",\"#8700D7\",\"#8700FF\",\"#875F00\",\"#875F5F\",\"#875F87\",\"#875FAF\",\"#875FD7\",\"#875FFF\",\"#878700\",\"#87875F\",\"#878787\",\"#8787AF\",\"#8787D7\",\"#8787FF\",\"#87AF00\",\"#87AF5F\",\"#87AF87\",\"#87AFAF\",\"#87AFD7\",\"#87AFFF\",\"#87D700\",\"#87D75F\",\"#87D787\",\"#87D7AF\",\"#87D7D7\",\"#87D7FF\",\"#87FF00\",\"#87FF5F\",\"#87FF87\",\"#87FFAF\",\"#87FFD7\",\"#87FFFF\",\"#AF0000\",\"#AF005F\",\"#AF0087\",\"#AF00AF\",\"#AF00D7\",\"#AF00FF\",\"#AF5F00\",\"#AF5F5F\",\"#AF5F87\",\"#AF5FAF\",\"#AF5FD7\",\"#AF5FFF\",\"#AF8700\",\"#AF875F\",\"#AF8787\",\"#AF87AF\",\"#AF87D7\",\"#AF87FF\",\"#AFAF00\",\"#AFAF5F\",\"#AFAF87\",\"#AFAFAF\",\"#AFAFD7\",\"#AFAFFF\",\"#AFD700\",\"#AFD75F\",\"#AFD787\",\"#AFD7AF\",\"#AFD7D7\",\"#AFD7FF\",\"#AFFF00\",\"#AFFF5F\",\"#AFFF87\",\"#AFFFAF\",\"#AFFFD7\",\"#AFFFFF\",\"#D70000\",\"#D7005F\",\"#D70087\",\"#D700AF\",\"#D700D7\",\"#D700FF\",\"#D75F00\",\"#D75F5F\",\"#D75F87\",\"#D75FAF\",\"#D75FD7\",\"#D75FFF\",\"#D78700\",\"#D7875F\",\"#D78787\",\"#D787AF\",\"#D787D7\",\"#D787FF\",\"#D7AF00\",\"#D7AF5F\",\"#D7AF87\",\"#D7AFAF\",\"#D7AFD7\",\"#D7AFFF\",\"#D7D700\",\"#D7D75F\",\"#D7D787\",\"#D7D7AF\",\"#D7D7D7\",\"#D7D7FF\",\"#D7FF00\",\"#D7FF5F\",\"#D7FF87\",\"#D7FFAF\",\"#D7FFD7\",\"#D7FFFF\",\"#FF0000\",\"#FF005F\",\"#FF0087\",\"#FF00AF\",\"#FF00D7\",\"#FF00FF\",\"#FF5F00\",\"#FF5F5F\",\"#FF5F87\",\"#FF5FAF\",\"#FF5FD7\",\"#FF5FFF\",\"#FF8700\",\"#FF875F\",\"#FF8787\",\"#FF87AF\",\"#FF87D7\",\"#FF87FF\",\"#FFAF00\",\"#FFAF5F\",\"#FFAF87\",\"#FFAFAF\",\"#FFAFD7\",\"#FFAFFF\",\"#FFD700\",\"#FFD75F\",\"#FFD787\",\"#FFD7AF\",\"#FFD7D7\",\"#FFD7FF\",\"#FFFF00\",\"#FFFF5F\",\"#FFFF87\",\"#FFFFAF\",\"#FFFFD7\",\"#FFFFFF\",\"#080808\",\"#121212\",\"#1C1C1C\",\"#262626\",\"#303030\",\"#3A3A3A\",\"#444444\",\"#4E4E4E\",\"#585858\",\"#626262\",\"#6C6C6C\",\"#767676\",\"#808080\",\"#8A8A8A\",\"#949494\",\"#9E9E9E\",\"#A8A8A8\",\"#B2B2B2\",\"#BCBCBC\",\"#C6C6C6\",\"#D0D0D0\",\"#DADADA\",\"#E4E4E4\",\"#EEEEEE\"]),u.colors.colorPalette=u.colors.stockColorPalette,u.colors.colorNames={aliceblue:\"rgb(240, 248, 255)\",antiquewhite:\"rgb(250, 235, 215)\",antiquewhite1:\"rgb(255, 239, 219)\",antiquewhite2:\"rgb(238, 223, 204)\",antiquewhite3:\"rgb(205, 192, 176)\",antiquewhite4:\"rgb(139, 131, 120)\",aquamarine:\"rgb(127, 255, 212)\",aquamarine1:\"rgb(127, 255, 212)\",aquamarine2:\"rgb(118, 238, 198)\",aquamarine3:\"rgb(102, 205, 170)\",aquamarine4:\"rgb(69, 139, 116)\",azure:\"rgb(240, 255, 255)\",azure1:\"rgb(240, 255, 255)\",azure2:\"rgb(224, 238, 238)\",azure3:\"rgb(193, 205, 205)\",azure4:\"rgb(131, 139, 139)\",beige:\"rgb(245, 245, 220)\",bisque:\"rgb(255, 228, 196)\",bisque1:\"rgb(255, 228, 196)\",bisque2:\"rgb(238, 213, 183)\",bisque3:\"rgb(205, 183, 158)\",bisque4:\"rgb(139, 125, 107)\",black:\"rgb(0, 0, 0)\",blanchedalmond:\"rgb(255, 235, 205)\",blue:\"rgb(0, 0, 255)\",blue1:\"rgb(0, 0, 255)\",blue2:\"rgb(0, 0, 238)\",blue3:\"rgb(0, 0, 205)\",blue4:\"rgb(0, 0, 139)\",blueviolet:\"rgb(138, 43, 226)\",brown:\"rgb(165, 42, 42)\",brown1:\"rgb(255, 64, 64)\",brown2:\"rgb(238, 59, 59)\",brown3:\"rgb(205, 51, 51)\",brown4:\"rgb(139, 35, 35)\",burlywood:\"rgb(222, 184, 135)\",burlywood1:\"rgb(255, 211, 155)\",burlywood2:\"rgb(238, 197, 145)\",burlywood3:\"rgb(205, 170, 125)\",burlywood4:\"rgb(139, 115, 85)\",cadetblue:\"rgb(95, 158, 160)\",cadetblue1:\"rgb(152, 245, 255)\",cadetblue2:\"rgb(142, 229, 238)\",cadetblue3:\"rgb(122, 197, 205)\",cadetblue4:\"rgb(83, 134, 139)\",chartreuse:\"rgb(127, 255, 0)\",chartreuse1:\"rgb(127, 255, 0)\",chartreuse2:\"rgb(118, 238, 0)\",chartreuse3:\"rgb(102, 205, 0)\",chartreuse4:\"rgb(69, 139, 0)\",chocolate:\"rgb(210, 105, 30)\",chocolate1:\"rgb(255, 127, 36)\",chocolate2:\"rgb(238, 118, 33)\",chocolate3:\"rgb(205, 102, 29)\",chocolate4:\"rgb(139, 69, 19)\",coral:\"rgb(255, 127, 80)\",coral1:\"rgb(255, 114, 86)\",coral2:\"rgb(238, 106, 80)\",coral3:\"rgb(205, 91, 69)\",coral4:\"rgb(139, 62, 47)\",cornflowerblue:\"rgb(100, 149, 237)\",cornsilk:\"rgb(255, 248, 220)\",cornsilk1:\"rgb(255, 248, 220)\",cornsilk2:\"rgb(238, 232, 205)\",cornsilk3:\"rgb(205, 200, 177)\",cornsilk4:\"rgb(139, 136, 120)\",cyan:\"rgb(0, 255, 255)\",cyan1:\"rgb(0, 255, 255)\",cyan2:\"rgb(0, 238, 238)\",cyan3:\"rgb(0, 205, 205)\",cyan4:\"rgb(0, 139, 139)\",darkblue:\"rgb(0, 0, 139)\",darkcyan:\"rgb(0, 139, 139)\",darkgoldenrod:\"rgb(184, 134, 11)\",darkgoldenrod1:\"rgb(255, 185, 15)\",darkgoldenrod2:\"rgb(238, 173, 14)\",darkgoldenrod3:\"rgb(205, 149, 12)\",darkgoldenrod4:\"rgb(139, 101, 8)\",darkgray:\"rgb(169, 169, 169)\",darkgreen:\"rgb(0, 100, 0)\",darkgrey:\"rgb(169, 169, 169)\",darkkhaki:\"rgb(189, 183, 107)\",darkmagenta:\"rgb(139, 0, 139)\",darkolivegreen:\"rgb(85, 107, 47)\",darkolivegreen1:\"rgb(202, 255, 112)\",darkolivegreen2:\"rgb(188, 238, 104)\",darkolivegreen3:\"rgb(162, 205, 90)\",darkolivegreen4:\"rgb(110, 139, 61)\",darkorange:\"rgb(255, 140, 0)\",darkorange1:\"rgb(255, 127, 0)\",darkorange2:\"rgb(238, 118, 0)\",darkorange3:\"rgb(205, 102, 0)\",darkorange4:\"rgb(139, 69, 0)\",darkorchid:\"rgb(153, 50, 204)\",darkorchid1:\"rgb(191, 62, 255)\",darkorchid2:\"rgb(178, 58, 238)\",darkorchid3:\"rgb(154, 50, 205)\",darkorchid4:\"rgb(104, 34, 139)\",darkred:\"rgb(139, 0, 0)\",darksalmon:\"rgb(233, 150, 122)\",darkseagreen:\"rgb(143, 188, 143)\",darkseagreen1:\"rgb(193, 255, 193)\",darkseagreen2:\"rgb(180, 238, 180)\",darkseagreen3:\"rgb(155, 205, 155)\",darkseagreen4:\"rgb(105, 139, 105)\",darkslateblue:\"rgb(72, 61, 139)\",darkslategray:\"rgb(47, 79, 79)\",darkslategray1:\"rgb(151, 255, 255)\",darkslategray2:\"rgb(141, 238, 238)\",darkslategray3:\"rgb(121, 205, 205)\",darkslategray4:\"rgb(82, 139, 139)\",darkslategrey:\"rgb(47, 79, 79)\",darkturquoise:\"rgb(0, 206, 209)\",darkviolet:\"rgb(148, 0, 211)\",debianred:\"rgb(215, 7, 81)\",deeppink:\"rgb(255, 20, 147)\",deeppink1:\"rgb(255, 20, 147)\",deeppink2:\"rgb(238, 18, 137)\",deeppink3:\"rgb(205, 16, 118)\",deeppink4:\"rgb(139, 10, 80)\",deepskyblue:\"rgb(0, 191, 255)\",deepskyblue1:\"rgb(0, 191, 255)\",deepskyblue2:\"rgb(0, 178, 238)\",deepskyblue3:\"rgb(0, 154, 205)\",deepskyblue4:\"rgb(0, 104, 139)\",dimgray:\"rgb(105, 105, 105)\",dimgrey:\"rgb(105, 105, 105)\",dodgerblue:\"rgb(30, 144, 255)\",dodgerblue1:\"rgb(30, 144, 255)\",dodgerblue2:\"rgb(28, 134, 238)\",dodgerblue3:\"rgb(24, 116, 205)\",dodgerblue4:\"rgb(16, 78, 139)\",firebrick:\"rgb(178, 34, 34)\",firebrick1:\"rgb(255, 48, 48)\",firebrick2:\"rgb(238, 44, 44)\",firebrick3:\"rgb(205, 38, 38)\",firebrick4:\"rgb(139, 26, 26)\",floralwhite:\"rgb(255, 250, 240)\",forestgreen:\"rgb(34, 139, 34)\",gainsboro:\"rgb(220, 220, 220)\",ghostwhite:\"rgb(248, 248, 255)\",gold:\"rgb(255, 215, 0)\",gold1:\"rgb(255, 215, 0)\",gold2:\"rgb(238, 201, 0)\",gold3:\"rgb(205, 173, 0)\",gold4:\"rgb(139, 117, 0)\",goldenrod:\"rgb(218, 165, 32)\",goldenrod1:\"rgb(255, 193, 37)\",goldenrod2:\"rgb(238, 180, 34)\",goldenrod3:\"rgb(205, 155, 29)\",goldenrod4:\"rgb(139, 105, 20)\",gray:\"rgb(190, 190, 190)\",gray0:\"rgb(0, 0, 0)\",gray1:\"rgb(3, 3, 3)\",gray10:\"rgb(26, 26, 26)\",gray100:\"rgb(255, 255, 255)\",gray11:\"rgb(28, 28, 28)\",gray12:\"rgb(31, 31, 31)\",gray13:\"rgb(33, 33, 33)\",gray14:\"rgb(36, 36, 36)\",gray15:\"rgb(38, 38, 38)\",gray16:\"rgb(41, 41, 41)\",gray17:\"rgb(43, 43, 43)\",gray18:\"rgb(46, 46, 46)\",gray19:\"rgb(48, 48, 48)\",gray2:\"rgb(5, 5, 5)\",gray20:\"rgb(51, 51, 51)\",gray21:\"rgb(54, 54, 54)\",gray22:\"rgb(56, 56, 56)\",gray23:\"rgb(59, 59, 59)\",gray24:\"rgb(61, 61, 61)\",gray25:\"rgb(64, 64, 64)\",gray26:\"rgb(66, 66, 66)\",gray27:\"rgb(69, 69, 69)\",gray28:\"rgb(71, 71, 71)\",gray29:\"rgb(74, 74, 74)\",gray3:\"rgb(8, 8, 8)\",gray30:\"rgb(77, 77, 77)\",gray31:\"rgb(79, 79, 79)\",gray32:\"rgb(82, 82, 82)\",gray33:\"rgb(84, 84, 84)\",gray34:\"rgb(87, 87, 87)\",gray35:\"rgb(89, 89, 89)\",gray36:\"rgb(92, 92, 92)\",gray37:\"rgb(94, 94, 94)\",gray38:\"rgb(97, 97, 97)\",gray39:\"rgb(99, 99, 99)\",gray4:\"rgb(10, 10, 10)\",gray40:\"rgb(102, 102, 102)\",gray41:\"rgb(105, 105, 105)\",gray42:\"rgb(107, 107, 107)\",gray43:\"rgb(110, 110, 110)\",gray44:\"rgb(112, 112, 112)\",gray45:\"rgb(115, 115, 115)\",gray46:\"rgb(117, 117, 117)\",gray47:\"rgb(120, 120, 120)\",gray48:\"rgb(122, 122, 122)\",gray49:\"rgb(125, 125, 125)\",gray5:\"rgb(13, 13, 13)\",gray50:\"rgb(127, 127, 127)\",gray51:\"rgb(130, 130, 130)\",gray52:\"rgb(133, 133, 133)\",gray53:\"rgb(135, 135, 135)\",gray54:\"rgb(138, 138, 138)\",gray55:\"rgb(140, 140, 140)\",gray56:\"rgb(143, 143, 143)\",gray57:\"rgb(145, 145, 145)\",gray58:\"rgb(148, 148, 148)\",gray59:\"rgb(150, 150, 150)\",gray6:\"rgb(15, 15, 15)\",gray60:\"rgb(153, 153, 153)\",gray61:\"rgb(156, 156, 156)\",gray62:\"rgb(158, 158, 158)\",gray63:\"rgb(161, 161, 161)\",gray64:\"rgb(163, 163, 163)\",gray65:\"rgb(166, 166, 166)\",gray66:\"rgb(168, 168, 168)\",gray67:\"rgb(171, 171, 171)\",gray68:\"rgb(173, 173, 173)\",gray69:\"rgb(176, 176, 176)\",gray7:\"rgb(18, 18, 18)\",gray70:\"rgb(179, 179, 179)\",gray71:\"rgb(181, 181, 181)\",gray72:\"rgb(184, 184, 184)\",gray73:\"rgb(186, 186, 186)\",gray74:\"rgb(189, 189, 189)\",gray75:\"rgb(191, 191, 191)\",gray76:\"rgb(194, 194, 194)\",gray77:\"rgb(196, 196, 196)\",gray78:\"rgb(199, 199, 199)\",gray79:\"rgb(201, 201, 201)\",gray8:\"rgb(20, 20, 20)\",gray80:\"rgb(204, 204, 204)\",gray81:\"rgb(207, 207, 207)\",gray82:\"rgb(209, 209, 209)\",gray83:\"rgb(212, 212, 212)\",gray84:\"rgb(214, 214, 214)\",gray85:\"rgb(217, 217, 217)\",gray86:\"rgb(219, 219, 219)\",gray87:\"rgb(222, 222, 222)\",gray88:\"rgb(224, 224, 224)\",gray89:\"rgb(227, 227, 227)\",gray9:\"rgb(23, 23, 23)\",gray90:\"rgb(229, 229, 229)\",gray91:\"rgb(232, 232, 232)\",gray92:\"rgb(235, 235, 235)\",gray93:\"rgb(237, 237, 237)\",gray94:\"rgb(240, 240, 240)\",gray95:\"rgb(242, 242, 242)\",gray96:\"rgb(245, 245, 245)\",gray97:\"rgb(247, 247, 247)\",gray98:\"rgb(250, 250, 250)\",gray99:\"rgb(252, 252, 252)\",green:\"rgb(0, 255, 0)\",green1:\"rgb(0, 255, 0)\",green2:\"rgb(0, 238, 0)\",green3:\"rgb(0, 205, 0)\",green4:\"rgb(0, 139, 0)\",greenyellow:\"rgb(173, 255, 47)\",grey:\"rgb(190, 190, 190)\",grey0:\"rgb(0, 0, 0)\",grey1:\"rgb(3, 3, 3)\",grey10:\"rgb(26, 26, 26)\",grey100:\"rgb(255, 255, 255)\",grey11:\"rgb(28, 28, 28)\",grey12:\"rgb(31, 31, 31)\",grey13:\"rgb(33, 33, 33)\",grey14:\"rgb(36, 36, 36)\",grey15:\"rgb(38, 38, 38)\",grey16:\"rgb(41, 41, 41)\",grey17:\"rgb(43, 43, 43)\",grey18:\"rgb(46, 46, 46)\",grey19:\"rgb(48, 48, 48)\",grey2:\"rgb(5, 5, 5)\",grey20:\"rgb(51, 51, 51)\",grey21:\"rgb(54, 54, 54)\",grey22:\"rgb(56, 56, 56)\",grey23:\"rgb(59, 59, 59)\",grey24:\"rgb(61, 61, 61)\",grey25:\"rgb(64, 64, 64)\",grey26:\"rgb(66, 66, 66)\",grey27:\"rgb(69, 69, 69)\",grey28:\"rgb(71, 71, 71)\",grey29:\"rgb(74, 74, 74)\",grey3:\"rgb(8, 8, 8)\",grey30:\"rgb(77, 77, 77)\",grey31:\"rgb(79, 79, 79)\",grey32:\"rgb(82, 82, 82)\",grey33:\"rgb(84, 84, 84)\",grey34:\"rgb(87, 87, 87)\",grey35:\"rgb(89, 89, 89)\",grey36:\"rgb(92, 92, 92)\",grey37:\"rgb(94, 94, 94)\",grey38:\"rgb(97, 97, 97)\",grey39:\"rgb(99, 99, 99)\",grey4:\"rgb(10, 10, 10)\",grey40:\"rgb(102, 102, 102)\",grey41:\"rgb(105, 105, 105)\",grey42:\"rgb(107, 107, 107)\",grey43:\"rgb(110, 110, 110)\",grey44:\"rgb(112, 112, 112)\",grey45:\"rgb(115, 115, 115)\",grey46:\"rgb(117, 117, 117)\",grey47:\"rgb(120, 120, 120)\",grey48:\"rgb(122, 122, 122)\",grey49:\"rgb(125, 125, 125)\",grey5:\"rgb(13, 13, 13)\",grey50:\"rgb(127, 127, 127)\",grey51:\"rgb(130, 130, 130)\",grey52:\"rgb(133, 133, 133)\",grey53:\"rgb(135, 135, 135)\",grey54:\"rgb(138, 138, 138)\",grey55:\"rgb(140, 140, 140)\",grey56:\"rgb(143, 143, 143)\",grey57:\"rgb(145, 145, 145)\",grey58:\"rgb(148, 148, 148)\",grey59:\"rgb(150, 150, 150)\",grey6:\"rgb(15, 15, 15)\",grey60:\"rgb(153, 153, 153)\",grey61:\"rgb(156, 156, 156)\",grey62:\"rgb(158, 158, 158)\",grey63:\"rgb(161, 161, 161)\",grey64:\"rgb(163, 163, 163)\",grey65:\"rgb(166, 166, 166)\",grey66:\"rgb(168, 168, 168)\",grey67:\"rgb(171, 171, 171)\",grey68:\"rgb(173, 173, 173)\",grey69:\"rgb(176, 176, 176)\",grey7:\"rgb(18, 18, 18)\",grey70:\"rgb(179, 179, 179)\",grey71:\"rgb(181, 181, 181)\",grey72:\"rgb(184, 184, 184)\",grey73:\"rgb(186, 186, 186)\",grey74:\"rgb(189, 189, 189)\",grey75:\"rgb(191, 191, 191)\",grey76:\"rgb(194, 194, 194)\",grey77:\"rgb(196, 196, 196)\",grey78:\"rgb(199, 199, 199)\",grey79:\"rgb(201, 201, 201)\",grey8:\"rgb(20, 20, 20)\",grey80:\"rgb(204, 204, 204)\",grey81:\"rgb(207, 207, 207)\",grey82:\"rgb(209, 209, 209)\",grey83:\"rgb(212, 212, 212)\",grey84:\"rgb(214, 214, 214)\",grey85:\"rgb(217, 217, 217)\",grey86:\"rgb(219, 219, 219)\",grey87:\"rgb(222, 222, 222)\",grey88:\"rgb(224, 224, 224)\",grey89:\"rgb(227, 227, 227)\",grey9:\"rgb(23, 23, 23)\",grey90:\"rgb(229, 229, 229)\",grey91:\"rgb(232, 232, 232)\",grey92:\"rgb(235, 235, 235)\",grey93:\"rgb(237, 237, 237)\",grey94:\"rgb(240, 240, 240)\",grey95:\"rgb(242, 242, 242)\",grey96:\"rgb(245, 245, 245)\",grey97:\"rgb(247, 247, 247)\",grey98:\"rgb(250, 250, 250)\",grey99:\"rgb(252, 252, 252)\",honeydew:\"rgb(240, 255, 240)\",honeydew1:\"rgb(240, 255, 240)\",honeydew2:\"rgb(224, 238, 224)\",honeydew3:\"rgb(193, 205, 193)\",honeydew4:\"rgb(131, 139, 131)\",hotpink:\"rgb(255, 105, 180)\",hotpink1:\"rgb(255, 110, 180)\",hotpink2:\"rgb(238, 106, 167)\",hotpink3:\"rgb(205, 96, 144)\",hotpink4:\"rgb(139, 58, 98)\",indianred:\"rgb(205, 92, 92)\",indianred1:\"rgb(255, 106, 106)\",indianred2:\"rgb(238, 99, 99)\",indianred3:\"rgb(205, 85, 85)\",indianred4:\"rgb(139, 58, 58)\",ivory:\"rgb(255, 255, 240)\",ivory1:\"rgb(255, 255, 240)\",ivory2:\"rgb(238, 238, 224)\",ivory3:\"rgb(205, 205, 193)\",ivory4:\"rgb(139, 139, 131)\",khaki:\"rgb(240, 230, 140)\",khaki1:\"rgb(255, 246, 143)\",khaki2:\"rgb(238, 230, 133)\",khaki3:\"rgb(205, 198, 115)\",khaki4:\"rgb(139, 134, 78)\",lavender:\"rgb(230, 230, 250)\",lavenderblush:\"rgb(255, 240, 245)\",lavenderblush1:\"rgb(255, 240, 245)\",lavenderblush2:\"rgb(238, 224, 229)\",lavenderblush3:\"rgb(205, 193, 197)\",lavenderblush4:\"rgb(139, 131, 134)\",lawngreen:\"rgb(124, 252, 0)\",lemonchiffon:\"rgb(255, 250, 205)\",lemonchiffon1:\"rgb(255, 250, 205)\",lemonchiffon2:\"rgb(238, 233, 191)\",lemonchiffon3:\"rgb(205, 201, 165)\",lemonchiffon4:\"rgb(139, 137, 112)\",lightblue:\"rgb(173, 216, 230)\",lightblue1:\"rgb(191, 239, 255)\",lightblue2:\"rgb(178, 223, 238)\",lightblue3:\"rgb(154, 192, 205)\",lightblue4:\"rgb(104, 131, 139)\",lightcoral:\"rgb(240, 128, 128)\",lightcyan:\"rgb(224, 255, 255)\",lightcyan1:\"rgb(224, 255, 255)\",lightcyan2:\"rgb(209, 238, 238)\",lightcyan3:\"rgb(180, 205, 205)\",lightcyan4:\"rgb(122, 139, 139)\",lightgoldenrod:\"rgb(238, 221, 130)\",lightgoldenrod1:\"rgb(255, 236, 139)\",lightgoldenrod2:\"rgb(238, 220, 130)\",lightgoldenrod3:\"rgb(205, 190, 112)\",lightgoldenrod4:\"rgb(139, 129, 76)\",lightgoldenrodyellow:\"rgb(250, 250, 210)\",lightgray:\"rgb(211, 211, 211)\",lightgreen:\"rgb(144, 238, 144)\",lightgrey:\"rgb(211, 211, 211)\",lightpink:\"rgb(255, 182, 193)\",lightpink1:\"rgb(255, 174, 185)\",lightpink2:\"rgb(238, 162, 173)\",lightpink3:\"rgb(205, 140, 149)\",lightpink4:\"rgb(139, 95, 101)\",lightsalmon:\"rgb(255, 160, 122)\",lightsalmon1:\"rgb(255, 160, 122)\",lightsalmon2:\"rgb(238, 149, 114)\",lightsalmon3:\"rgb(205, 129, 98)\",lightsalmon4:\"rgb(139, 87, 66)\",lightseagreen:\"rgb(32, 178, 170)\",lightskyblue:\"rgb(135, 206, 250)\",lightskyblue1:\"rgb(176, 226, 255)\",lightskyblue2:\"rgb(164, 211, 238)\",lightskyblue3:\"rgb(141, 182, 205)\",lightskyblue4:\"rgb(96, 123, 139)\",lightslateblue:\"rgb(132, 112, 255)\",lightslategray:\"rgb(119, 136, 153)\",lightslategrey:\"rgb(119, 136, 153)\",lightsteelblue:\"rgb(176, 196, 222)\",lightsteelblue1:\"rgb(202, 225, 255)\",lightsteelblue2:\"rgb(188, 210, 238)\",lightsteelblue3:\"rgb(162, 181, 205)\",lightsteelblue4:\"rgb(110, 123, 139)\",lightyellow:\"rgb(255, 255, 224)\",lightyellow1:\"rgb(255, 255, 224)\",lightyellow2:\"rgb(238, 238, 209)\",lightyellow3:\"rgb(205, 205, 180)\",lightyellow4:\"rgb(139, 139, 122)\",limegreen:\"rgb(50, 205, 50)\",linen:\"rgb(250, 240, 230)\",magenta:\"rgb(255, 0, 255)\",magenta1:\"rgb(255, 0, 255)\",magenta2:\"rgb(238, 0, 238)\",magenta3:\"rgb(205, 0, 205)\",magenta4:\"rgb(139, 0, 139)\",maroon:\"rgb(176, 48, 96)\",maroon1:\"rgb(255, 52, 179)\",maroon2:\"rgb(238, 48, 167)\",maroon3:\"rgb(205, 41, 144)\",maroon4:\"rgb(139, 28, 98)\",mediumaquamarine:\"rgb(102, 205, 170)\",mediumblue:\"rgb(0, 0, 205)\",mediumorchid:\"rgb(186, 85, 211)\",mediumorchid1:\"rgb(224, 102, 255)\",mediumorchid2:\"rgb(209, 95, 238)\",mediumorchid3:\"rgb(180, 82, 205)\",mediumorchid4:\"rgb(122, 55, 139)\",mediumpurple:\"rgb(147, 112, 219)\",mediumpurple1:\"rgb(171, 130, 255)\",mediumpurple2:\"rgb(159, 121, 238)\",mediumpurple3:\"rgb(137, 104, 205)\",mediumpurple4:\"rgb(93, 71, 139)\",mediumseagreen:\"rgb(60, 179, 113)\",mediumslateblue:\"rgb(123, 104, 238)\",mediumspringgreen:\"rgb(0, 250, 154)\",mediumturquoise:\"rgb(72, 209, 204)\",mediumvioletred:\"rgb(199, 21, 133)\",midnightblue:\"rgb(25, 25, 112)\",mintcream:\"rgb(245, 255, 250)\",mistyrose:\"rgb(255, 228, 225)\",mistyrose1:\"rgb(255, 228, 225)\",mistyrose2:\"rgb(238, 213, 210)\",mistyrose3:\"rgb(205, 183, 181)\",mistyrose4:\"rgb(139, 125, 123)\",moccasin:\"rgb(255, 228, 181)\",navajowhite:\"rgb(255, 222, 173)\",navajowhite1:\"rgb(255, 222, 173)\",navajowhite2:\"rgb(238, 207, 161)\",navajowhite3:\"rgb(205, 179, 139)\",navajowhite4:\"rgb(139, 121, 94)\",navy:\"rgb(0, 0, 128)\",navyblue:\"rgb(0, 0, 128)\",oldlace:\"rgb(253, 245, 230)\",olivedrab:\"rgb(107, 142, 35)\",olivedrab1:\"rgb(192, 255, 62)\",olivedrab2:\"rgb(179, 238, 58)\",olivedrab3:\"rgb(154, 205, 50)\",olivedrab4:\"rgb(105, 139, 34)\",orange:\"rgb(255, 165, 0)\",orange1:\"rgb(255, 165, 0)\",orange2:\"rgb(238, 154, 0)\",orange3:\"rgb(205, 133, 0)\",orange4:\"rgb(139, 90, 0)\",orangered:\"rgb(255, 69, 0)\",orangered1:\"rgb(255, 69, 0)\",orangered2:\"rgb(238, 64, 0)\",orangered3:\"rgb(205, 55, 0)\",orangered4:\"rgb(139, 37, 0)\",orchid:\"rgb(218, 112, 214)\",orchid1:\"rgb(255, 131, 250)\",orchid2:\"rgb(238, 122, 233)\",orchid3:\"rgb(205, 105, 201)\",orchid4:\"rgb(139, 71, 137)\",palegoldenrod:\"rgb(238, 232, 170)\",palegreen:\"rgb(152, 251, 152)\",palegreen1:\"rgb(154, 255, 154)\",palegreen2:\"rgb(144, 238, 144)\",palegreen3:\"rgb(124, 205, 124)\",palegreen4:\"rgb(84, 139, 84)\",paleturquoise:\"rgb(175, 238, 238)\",paleturquoise1:\"rgb(187, 255, 255)\",paleturquoise2:\"rgb(174, 238, 238)\",paleturquoise3:\"rgb(150, 205, 205)\",paleturquoise4:\"rgb(102, 139, 139)\",palevioletred:\"rgb(219, 112, 147)\",palevioletred1:\"rgb(255, 130, 171)\",palevioletred2:\"rgb(238, 121, 159)\",palevioletred3:\"rgb(205, 104, 137)\",palevioletred4:\"rgb(139, 71, 93)\",papayawhip:\"rgb(255, 239, 213)\",peachpuff:\"rgb(255, 218, 185)\",peachpuff1:\"rgb(255, 218, 185)\",peachpuff2:\"rgb(238, 203, 173)\",peachpuff3:\"rgb(205, 175, 149)\",peachpuff4:\"rgb(139, 119, 101)\",peru:\"rgb(205, 133, 63)\",pink:\"rgb(255, 192, 203)\",pink1:\"rgb(255, 181, 197)\",pink2:\"rgb(238, 169, 184)\",pink3:\"rgb(205, 145, 158)\",pink4:\"rgb(139, 99, 108)\",plum:\"rgb(221, 160, 221)\",plum1:\"rgb(255, 187, 255)\",plum2:\"rgb(238, 174, 238)\",plum3:\"rgb(205, 150, 205)\",plum4:\"rgb(139, 102, 139)\",powderblue:\"rgb(176, 224, 230)\",purple:\"rgb(160, 32, 240)\",purple1:\"rgb(155, 48, 255)\",purple2:\"rgb(145, 44, 238)\",purple3:\"rgb(125, 38, 205)\",purple4:\"rgb(85, 26, 139)\",red:\"rgb(255, 0, 0)\",red1:\"rgb(255, 0, 0)\",red2:\"rgb(238, 0, 0)\",red3:\"rgb(205, 0, 0)\",red4:\"rgb(139, 0, 0)\",rosybrown:\"rgb(188, 143, 143)\",rosybrown1:\"rgb(255, 193, 193)\",rosybrown2:\"rgb(238, 180, 180)\",rosybrown3:\"rgb(205, 155, 155)\",rosybrown4:\"rgb(139, 105, 105)\",royalblue:\"rgb(65, 105, 225)\",royalblue1:\"rgb(72, 118, 255)\",royalblue2:\"rgb(67, 110, 238)\",royalblue3:\"rgb(58, 95, 205)\",royalblue4:\"rgb(39, 64, 139)\",saddlebrown:\"rgb(139, 69, 19)\",salmon:\"rgb(250, 128, 114)\",salmon1:\"rgb(255, 140, 105)\",salmon2:\"rgb(238, 130, 98)\",salmon3:\"rgb(205, 112, 84)\",salmon4:\"rgb(139, 76, 57)\",sandybrown:\"rgb(244, 164, 96)\",seagreen:\"rgb(46, 139, 87)\",seagreen1:\"rgb(84, 255, 159)\",seagreen2:\"rgb(78, 238, 148)\",seagreen3:\"rgb(67, 205, 128)\",seagreen4:\"rgb(46, 139, 87)\",seashell:\"rgb(255, 245, 238)\",seashell1:\"rgb(255, 245, 238)\",seashell2:\"rgb(238, 229, 222)\",seashell3:\"rgb(205, 197, 191)\",seashell4:\"rgb(139, 134, 130)\",sienna:\"rgb(160, 82, 45)\",sienna1:\"rgb(255, 130, 71)\",sienna2:\"rgb(238, 121, 66)\",sienna3:\"rgb(205, 104, 57)\",sienna4:\"rgb(139, 71, 38)\",skyblue:\"rgb(135, 206, 235)\",skyblue1:\"rgb(135, 206, 255)\",skyblue2:\"rgb(126, 192, 238)\",skyblue3:\"rgb(108, 166, 205)\",skyblue4:\"rgb(74, 112, 139)\",slateblue:\"rgb(106, 90, 205)\",slateblue1:\"rgb(131, 111, 255)\",slateblue2:\"rgb(122, 103, 238)\",slateblue3:\"rgb(105, 89, 205)\",slateblue4:\"rgb(71, 60, 139)\",slategray:\"rgb(112, 128, 144)\",slategray1:\"rgb(198, 226, 255)\",slategray2:\"rgb(185, 211, 238)\",slategray3:\"rgb(159, 182, 205)\",slategray4:\"rgb(108, 123, 139)\",slategrey:\"rgb(112, 128, 144)\",snow:\"rgb(255, 250, 250)\",snow1:\"rgb(255, 250, 250)\",snow2:\"rgb(238, 233, 233)\",snow3:\"rgb(205, 201, 201)\",snow4:\"rgb(139, 137, 137)\",springgreen:\"rgb(0, 255, 127)\",springgreen1:\"rgb(0, 255, 127)\",springgreen2:\"rgb(0, 238, 118)\",springgreen3:\"rgb(0, 205, 102)\",springgreen4:\"rgb(0, 139, 69)\",steelblue:\"rgb(70, 130, 180)\",steelblue1:\"rgb(99, 184, 255)\",steelblue2:\"rgb(92, 172, 238)\",steelblue3:\"rgb(79, 148, 205)\",steelblue4:\"rgb(54, 100, 139)\",tan:\"rgb(210, 180, 140)\",tan1:\"rgb(255, 165, 79)\",tan2:\"rgb(238, 154, 73)\",tan3:\"rgb(205, 133, 63)\",tan4:\"rgb(139, 90, 43)\",thistle:\"rgb(216, 191, 216)\",thistle1:\"rgb(255, 225, 255)\",thistle2:\"rgb(238, 210, 238)\",thistle3:\"rgb(205, 181, 205)\",thistle4:\"rgb(139, 123, 139)\",tomato:\"rgb(255, 99, 71)\",tomato1:\"rgb(255, 99, 71)\",tomato2:\"rgb(238, 92, 66)\",tomato3:\"rgb(205, 79, 57)\",tomato4:\"rgb(139, 54, 38)\",turquoise:\"rgb(64, 224, 208)\",turquoise1:\"rgb(0, 245, 255)\",turquoise2:\"rgb(0, 229, 238)\",turquoise3:\"rgb(0, 197, 205)\",turquoise4:\"rgb(0, 134, 139)\",violet:\"rgb(238, 130, 238)\",violetred:\"rgb(208, 32, 144)\",violetred1:\"rgb(255, 62, 150)\",violetred2:\"rgb(238, 58, 140)\",violetred3:\"rgb(205, 50, 120)\",violetred4:\"rgb(139, 34, 82)\",wheat:\"rgb(245, 222, 179)\",wheat1:\"rgb(255, 231, 186)\",wheat2:\"rgb(238, 216, 174)\",wheat3:\"rgb(205, 186, 150)\",wheat4:\"rgb(139, 126, 102)\",white:\"rgb(255, 255, 255)\",whitesmoke:\"rgb(245, 245, 245)\",yellow:\"rgb(255, 255, 0)\",yellow1:\"rgb(255, 255, 0)\",yellow2:\"rgb(238, 238, 0)\",yellow3:\"rgb(205, 205, 0)\",yellow4:\"rgb(139, 139, 0)\",yellowgreen:\"rgb(154, 205, 50)\"},u.f={},u.f.replaceVars=function(e,t){return e.replace(/%([a-z]*)\\(([^\\)]+)\\)/gi,(function(e,r,o){if(void 0===t[o])throw\"Unknown variable: \"+o;var i=t[o];if(r in u.f.replaceVars.functions)i=u.f.replaceVars.functions[r](i);else if(r)throw\"Unknown escape function: \"+r;return i}))},u.f.replaceVars.functions={encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escapeHTML:function(e){var t={\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",'\"':\"&quot;\",\"'\":\"&#39;\"};return e.replace(/[<>&\\\"\\']/g,e=>t[e])}},u.f.getURL=function(e){return u.f.getURL.chromeSupported()?chrome.runtime.getURL(e):e},u.f.getURL.chromeSupported=function(){return window.chrome&&chrome.runtime&&chrome.runtime.getURL},u.f.clamp=function(e,t,r){return e<t?t:e>r?r:e},u.f.zpad=function(e,t){return(e+\"\").padStart(t,\"0\")},u.f.getStack=function(e=0,t){const r=(new Error).stack.split(\"\\n\");e+=2;const o=r.length-e;t=void 0===t?o:u.f.clamp(t,0,o);const i=[];for(let o=e;o<t+e;++o)i.push(r[o].replace(/^\\s*at\\s+/,\"\"));return i},u.f.smartFloorDivide=function(e,t){var r=e/t,o=s(r);return 1e-4>o-r?o:n(r)},u.f.randomInt=function(e,t){return n(Math.random()*(t-e+1))+e},u.f.getOs=function(){if(window.browser&&browser.runtime&&browser.runtime.getPlatformInfo)return browser.runtime.getPlatformInfo().then(e=>e.os);if(window.chrome&&chrome.runtime&&chrome.runtime.getPlatformInfo)return new Promise(e=>chrome.runtime.getPlatformInfo(t=>e(t.os)));if(window.navigator&&navigator.userAgent){const e=navigator.userAgent;if(e.includes(\"Mac OS X\"))return Promise.resolve(\"mac\");if(e.includes(\"CrOS\"))return Promise.resolve(\"cros\");if(e.includes(\"Linux\"))return Promise.resolve(\"linux\");if(e.includes(\"Android\"))return Promise.resolve(\"android\");if(e.includes(\"Windows\"))return Promise.resolve(\"windows\")}return void 0===e?Promise.reject(null):Promise.resolve(\"node\")},u.f.getChromeMilestone=function(){if(window.navigator&&navigator.userAgent){const e=navigator.userAgent.match(/\\sChrome\\/(\\d+)/);if(e)return parseInt(e[1])}return NaN},u.f.lastError=function(e=null){let t;return window.browser&&browser.runtime?t=browser.runtime.lastError:window.chrome&&chrome.runtime&&(t=chrome.runtime.lastError),t&&t.message?t.message:e},u.f.openWindow=function(e,t,r){const o=window.open(void 0,t,r);return null!==o&&(o.opener=null,e&&(o.location=e)),o},u.i18n={},u.i18n.browser_=window.browser&&browser.i18n?browser.i18n:window.chrome&&chrome.i18n?chrome.i18n:null,u.i18n.getAcceptLanguages=function(e){u.i18n.browser_?u.i18n.browser_.getAcceptLanguages(e):setTimeout((function(){e([navigator.language.replace(/-/g,\"_\")])}),0)},u.i18n.getMessage=function(e,t=[],r=\"\"){if(u.i18n.browser_){const r=u.i18n.browser_.getMessage(e,t);if(r)return r}return u.i18n.replaceReferences(r,t)},u.i18n.replaceReferences=function(e,t=[]){console.log(\"in replaceReferences:\",e,t),null===t&&(t=[]),t instanceof Array||(t=[t]),console.log(\"args:\",t);let r=e.replace(/\\$(\\d+)/g,(e,r)=>r<=t.length?t[r-1]:\"\");return console.log(r),r},u.MessageManager=function(e){this.languages_=e.map(e=>e.replace(/-/g,\"_\")),-1==this.languages_.indexOf(\"en\")&&this.languages_.unshift(\"en\"),this.messages={}},u.MessageManager.prototype.addMessages=function(e){for(var t in e){var r=e[t];this.messages[t]=r.placeholders?r.message.replace(/\\$([a-z][^\\s\\$]+)\\$/gi,(function(r,o){return e[t].placeholders[o.toLowerCase()].content})):r.message}},u.MessageManager.prototype.findAndLoadMessages=function(e,t){function r(e){e?i=o.shift():n=o.shift(),o.length?s():t(i,n)}var o=this.languages_.concat(),i=[],n=[],s=function(){this.loadMessages(this.replaceReferences(e,o),r.bind(this,!0),r.bind(this,!1))}.bind(this);s()},u.MessageManager.prototype.loadMessages=function(e,t,r){var o=new XMLHttpRequest;o.onload=()=>{this.addMessages(JSON.parse(o.responseText)),t()},r&&(o.onerror=()=>r(o)),o.open(\"GET\",e),o.send()},u.MessageManager.prototype.replaceReferences=u.i18n.replaceReferences,u.MessageManager.prototype.get=function(e,t,r){console.log(e,t);let o=u.i18n.getMessage(e,t);return o?(console.log(\"message found:\",o),o):(console.log(\"searching registered cache next:\",this.messages),(o=this.messages[e])||(console.warn(\"Unknown message: \"+e),o=void 0===r?e:r,this.messages[e]=o),console.log(\"final: message:\",o,t),this.replaceReferences(o,t))},u.MessageManager.prototype.processI18nAttributes=function(e){for(var t=e.querySelectorAll(\"[i18n]\"),r=0;r<t.length;r++)this.processI18nAttribute(t[r])},u.MessageManager.prototype.processI18nAttribute=function(e){const t=e=>e.replace(/-/g,\"_\").toUpperCase();var r=e.getAttribute(\"i18n\");if(r){try{r=JSON.parse(r)}catch(t){throw console.error(\"Can't parse \"+e.tagName+\"#\"+e.id+\": \"+r),t}for(var o in r){var i=o,n=r[o];n.startsWith(\"=\")&&(o=n.substr(1),n=r[o]),n.startsWith(\"$\")&&(n=t(e.getAttribute(n.substr(1))+\"_\"+o));var s=this.get(n);\"_\"==i?e.textContent=s:e.setAttribute(i,s)}}},u.PreferenceManager=function(e,t){this.storage=e,this.storageObserver_=this.onStorageChange_.bind(this),this.isActive_=!1,this.activate(),this.trace=!1;var r=t||\"/\";r.endsWith(\"/\")||(r+=\"/\"),this.prefix=r,this.isImportingJson_=!1,this.prefRecords_={},this.globalObservers_=[],this.childFactories_={},this.childLists_={}},u.PreferenceManager.prototype.DEFAULT_VALUE=Symbol(\"DEFAULT_VALUE\"),u.PreferenceManager.Record=function(e,t){this.name=e,this.defaultValue=t,this.currentValue=this.DEFAULT_VALUE,this.observers=[]},u.PreferenceManager.Record.prototype.DEFAULT_VALUE=u.PreferenceManager.prototype.DEFAULT_VALUE,u.PreferenceManager.Record.prototype.addObserver=function(e){this.observers.push(e)},u.PreferenceManager.Record.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);0<=t&&this.observers.splice(t,1)},u.PreferenceManager.Record.prototype.get=function(){return this.currentValue===this.DEFAULT_VALUE?/^(string|number)$/.test(typeof this.defaultValue)?this.defaultValue:\"object\"==typeof this.defaultValue?JSON.parse(JSON.stringify(this.defaultValue)):this.defaultValue:this.currentValue},u.PreferenceManager.prototype.deactivate=function(){if(!this.isActive_)throw new Error(\"Not activated\");this.isActive_=!1,this.storage.removeObserver(this.storageObserver_)},u.PreferenceManager.prototype.activate=function(){if(this.isActive_)throw new Error(\"Already activated\");this.isActive_=!0,this.storage.addObserver(this.storageObserver_)},u.PreferenceManager.prototype.readStorage=function(e){function t(){0==--r&&e&&e()}var r=0,o=Object.keys(this.prefRecords_).map(e=>this.prefix+e);this.trace&&console.log(\"Preferences read: \"+this.prefix),this.storage.getItems(o,function(o){var i=this.prefix.length;for(var n in o){var s=o[n],a=n.substr(i),l=a in this.childLists_&&JSON.stringify(s)!=JSON.stringify(this.prefRecords_[a].currentValue);this.prefRecords_[a].currentValue=s,l&&(r++,this.syncChildList(a,t))}0==r&&e&&setTimeout(e)}.bind(this))},u.PreferenceManager.prototype.definePreference=function(e,t,r){var o=this.prefRecords_[e];o?this.changeDefault(e,t):o=this.prefRecords_[e]=new u.PreferenceManager.Record(e,t),r&&o.addObserver(r)},u.PreferenceManager.prototype.definePreferences=function(e){for(var t=0;t<e.length;t++)this.definePreference(e[t][0],e[t][1],e[t][2])},u.PreferenceManager.prototype.defineChildren=function(e,t){this.definePreference(e,[],this.onChildListChange_.bind(this,e)),this.childFactories_[e]=t,this.childLists_[e]={}},u.PreferenceManager.prototype.addObservers=function(e,t){if(e&&\"function\"!=typeof e)throw new Error(\"Invalid param: globals\");if(e&&this.globalObservers_.push(e),t)for(var r in t){if(!(r in this.prefRecords_))throw new Error(\"Unknown preference: \"+r);this.prefRecords_[r].addObserver(t[r])}},u.PreferenceManager.prototype.notifyAll=function(){for(var e in this.prefRecords_)this.notifyChange_(e)},u.PreferenceManager.prototype.notifyChange_=function(e){var t=this.prefRecords_[e];if(!t)throw new Error(\"Unknown preference: \"+e);for(var r=t.get(),o=0;o<this.globalObservers_.length;o++)this.globalObservers_[o](e,r);for(o=0;o<t.observers.length;o++)t.observers[o](r,e,this)},u.PreferenceManager.prototype.createChild=function(e,t,r){var o,i=this.get(e);if(r){if(o=r,-1!=i.indexOf(o))throw new Error(\"Duplicate child: \"+e+\": \"+o)}else for(;!o||-1!=i.indexOf(o);)o=u.f.randomInt(1,65535).toString(16),o=u.f.zpad(o,4),t&&(o=t+\":\"+o);var n=this.childFactories_[e](this,o);return n.trace=this.trace,n.resetAll(),this.childLists_[e][o]=n,i.push(o),this.set(e,i,void 0,!this.isImportingJson_),n},u.PreferenceManager.prototype.removeChild=function(e,t){this.getChild(e,t).resetAll();var r=this.get(e),o=r.indexOf(t);-1!=o&&(r.splice(o,1),this.set(e,r,void 0,!this.isImportingJson_)),delete this.childLists_[e][t]},u.PreferenceManager.prototype.getChild=function(e,t,r){if(!(e in this.childLists_))throw new Error(\"Unknown child list: \"+e);var o=this.childLists_[e];if(!(t in o)){if(void 0===r)throw new Error('Unknown \"'+e+'\" child: '+t);return r}return o[t]},u.PreferenceManager.diffChildLists=function(e,t){for(var r={added:{},removed:{},common:{}},o=0;o<e.length;o++)-1==t.indexOf(e[o])?r.added[e[o]]=!0:r.common[e[o]]=!0;for(o=0;o<t.length;o++)t[o]in r.added||t[o]in r.common||(r.removed[t[o]]=!0);return r},u.PreferenceManager.prototype.syncChildList=function(e,t){function r(){0==--o&&t&&t()}for(var o=0,i=this.get(e),n=Object.keys(this.childLists_[e]),s=(u.PreferenceManager.diffChildLists(i,n),0);s<i.length;s++){var a=i[s],l=n.indexOf(a);if(0<=l&&n.splice(l,1),!this.childLists_[e][a]){var c=this.childFactories_[e](this,a);if(!c){console.warn(\"Unable to restore child: \"+e+\": \"+a);continue}c.trace=this.trace,this.childLists_[e][a]=c,o++,c.readStorage(r)}}for(s=0;s<n.length;s++)delete this.childLists_[e][n[s]];!o&&t&&setTimeout(t)},u.PreferenceManager.prototype.reset=function(e){var t=this.prefRecords_[e];if(!t)throw new Error(\"Unknown preference: \"+e);this.storage.removeItem(this.prefix+e),t.currentValue!==this.DEFAULT_VALUE&&(t.currentValue=this.DEFAULT_VALUE,this.notifyChange_(e))},u.PreferenceManager.prototype.resetAll=function(){var e=[];for(var t in this.childLists_){var r=this.childLists_[t];for(var o in r)r[o].resetAll()}for(var i in this.prefRecords_)this.prefRecords_[i].currentValue!==this.DEFAULT_VALUE&&(this.prefRecords_[i].currentValue=this.DEFAULT_VALUE,e.push(i));var n=Object.keys(this.prefRecords_).map(function(e){return this.prefix+e}.bind(this));this.storage.removeItems(n),e.forEach(this.notifyChange_.bind(this))},u.PreferenceManager.prototype.diff=function(e,t){return typeof e!=typeof t||(/^(undefined|boolean|number|string)$/.test(typeof e)?e!==t:null!==e||null!==t)},u.PreferenceManager.prototype.changeDefault=function(e,t){var r=this.prefRecords_[e];if(!r)throw new Error(\"Unknown preference: \"+e);return this.diff(r.defaultValue,t)?r.currentValue===this.DEFAULT_VALUE?(r.defaultValue=t,void this.notifyChange_(e)):void(r.defaultValue=t):void 0},u.PreferenceManager.prototype.changeDefaults=function(e){for(var t in e)this.changeDefault(t,e[t])},u.PreferenceManager.prototype.set=function(e,t,r,o=!0){var i=this.prefRecords_[e];if(!i)throw new Error(\"Unknown preference: \"+e);var n=i.get();this.diff(n,t)&&(this.diff(i.defaultValue,t)?(i.currentValue=t,o&&this.storage.setItem(this.prefix+e,t,r)):(i.currentValue=this.DEFAULT_VALUE,o&&this.storage.removeItem(this.prefix+e,r)),setTimeout(this.notifyChange_.bind(this,e),0))},u.PreferenceManager.prototype.get=function(e){var t=this.prefRecords_[e];if(!t)throw new Error(\"Unknown preference: \"+e);return t.get()},u.PreferenceManager.prototype.exportAsJson=function(){var e={};for(var t in this.prefRecords_)if(t in this.childLists_){e[t]=[];for(var r,o=this.get(t),i=0;i<o.length;i++)r=o[i],e[t].push({id:r,json:this.getChild(t,r).exportAsJson()})}else{var n=this.prefRecords_[t];n.currentValue!=this.DEFAULT_VALUE&&(e[t]=n.currentValue)}return e},u.PreferenceManager.prototype.importFromJson=function(e,t){this.isImportingJson_=!0;let r=0;const o=()=>{if(1>--r){for(let r in t&&t(),e)r in this.childLists_&&this.set(r,this.get(r));this.isImportingJson_=!1}};for(var i in e)if(i in this.childLists_)for(var n=e[i],s=0;s<n.length;s++){var a=n[s].id,l=this.childLists_[i][a];l||(l=this.createChild(i,null,a)),l.importFromJson(n[s].json,o),r++}else this.set(i,e[i]);0==r&&t&&t()},u.PreferenceManager.prototype.onChildListChange_=function(e){this.syncChildList(e)},u.PreferenceManager.prototype.onStorageChange_=function(e){for(var t in e)if(!this.prefix||0==t.lastIndexOf(this.prefix,0)){var r=t.substr(this.prefix.length);if(r in this.prefRecords_){var o=this.prefRecords_[r],i=e[t].newValue,n=o.currentValue;n===o.DEFAULT_VALUE&&(n=void 0),this.diff(n,i)&&(o.currentValue=null==i?o.DEFAULT_VALUE:i,this.notifyChange_(r))}}},u.resource={resources_:{}},u.resource.add=function(e,t,r){u.resource.resources_[e]={type:t,name:e,data:r}},u.resource.get=function(e,t){if(!(e in u.resource.resources_)){if(void 0===t)throw\"Unknown resource: \"+e;return t}return u.resource.resources_[e]},u.resource.getData=function(e,t){if(!(e in u.resource.resources_)){if(void 0===t)throw\"Unknown resource: \"+e;return t}return u.resource.resources_[e].data},u.resource.getDataUrl=function(e,t){var r=u.resource.get(e,t);return\"data:\"+r.type+\",\"+r.data},u.Storage={},u.Storage.Chrome=function(e){this.storage_=e,this.observers_=[],chrome.storage.onChanged.addListener(this.onChanged_.bind(this))},u.Storage.Chrome.prototype.onChanged_=function(e,t){if(chrome.storage[t]==this.storage_)for(var r=0;r<this.observers_.length;r++)this.observers_[r](e)},u.Storage.Chrome.prototype.addObserver=function(e){this.observers_.push(e)},u.Storage.Chrome.prototype.removeObserver=function(e){var t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},u.Storage.Chrome.prototype.clear=function(e){this.storage_.clear(),e&&setTimeout(e,0)},u.Storage.Chrome.prototype.getItem=function(e,t){this.storage_.get(e,t)},u.Storage.Chrome.prototype.getItems=function(e,t){this.storage_.get(e,t)},u.Storage.Chrome.prototype.setItem=function(e,t,r){const o=()=>{const i=u.f.lastError();if(i){if(i.indexOf(\"MAX_WRITE_OPERATIONS\"))return console.warn(`Will retry save of ${e} after exceeding quota: ${i}`),void setTimeout(()=>this.setItem(e,t,o),1e3);console.error(`Unknown runtime error: ${i}`)}r&&r()};var i={};i[e]=t,this.storage_.set(i,o)},u.Storage.Chrome.prototype.setItems=function(e,t){this.storage_.set(e,t)},u.Storage.Chrome.prototype.removeItem=function(e,t){this.storage_.remove(e,t)},u.Storage.Chrome.prototype.removeItems=function(e,t){this.storage_.remove(e,t)},u.Storage.Local=function(){this.observers_=[],this.storage_=window.localStorage,window.addEventListener(\"storage\",this.onStorage_.bind(this))},u.Storage.Local.prototype.onStorage_=function(e){if(e.storageArea==this.storage_){var t=e.oldValue?JSON.parse(e.oldValue):e.oldValue,r=e.newValue?JSON.parse(e.newValue):e.newValue,o={};o[e.key]={oldValue:t,newValue:r};for(var i=0;i<this.observers_.length;i++)this.observers_[i](o)}},u.Storage.Local.prototype.addObserver=function(e){this.observers_.push(e)},u.Storage.Local.prototype.removeObserver=function(e){var t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},u.Storage.Local.prototype.clear=function(e){this.storage_.clear(),e&&setTimeout(e,0)},u.Storage.Local.prototype.getItem=function(e,t){var r=this.storage_.getItem(e);if(\"string\"==typeof r)try{r=JSON.parse(r)}catch(t){}setTimeout(t.bind(null,r),0)},u.Storage.Local.prototype.getItems=function(e,t){for(var r={},o=e.length-1;0<=o;o--){var i=e[o],n=this.storage_.getItem(i);if(\"string\"==typeof n)try{r[i]=JSON.parse(n)}catch(t){r[i]=n}else e.splice(o,1)}setTimeout(t.bind(null,r),0)},u.Storage.Local.prototype.setItem=function(e,t,r){this.storage_.setItem(e,JSON.stringify(t)),r&&setTimeout(r,0)},u.Storage.Local.prototype.setItems=function(e,t){for(var r in e)this.storage_.setItem(r,JSON.stringify(e[r]));t&&setTimeout(t,0)},u.Storage.Local.prototype.removeItem=function(e,t){this.storage_.removeItem(e),t&&setTimeout(t,0)},u.Storage.Local.prototype.removeItems=function(e,t){for(var r=0;r<e.length;r++)this.storage_.removeItem(e[r]);t&&setTimeout(t,0)},u.Storage.Memory=function(){this.observers_=[],this.storage_={}},u.Storage.Memory.prototype.addObserver=function(e){this.observers_.push(e)},u.Storage.Memory.prototype.removeObserver=function(e){var t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},u.Storage.Memory.prototype.clear=function(e){var t={};for(var r in this.storage_)t[r]={oldValue:this.storage_[r],newValue:void 0};this.storage_={},setTimeout(function(){for(var e=0;e<this.observers_.length;e++)this.observers_[e](t)}.bind(this),0),e&&setTimeout(e,0)},u.Storage.Memory.prototype.getItem=function(e,t){var r=this.storage_[e];if(\"string\"==typeof r)try{r=JSON.parse(r)}catch(t){}setTimeout(t.bind(null,r),0)},u.Storage.Memory.prototype.getItems=function(e,t){for(var r={},o=e.length-1;0<=o;o--){var i=e[o],n=this.storage_[i];if(\"string\"==typeof n)try{r[i]=JSON.parse(n)}catch(t){r[i]=n}else e.splice(o,1)}setTimeout(t.bind(null,r),0)},u.Storage.Memory.prototype.setItem=function(e,t,r){var o=this.storage_[e];this.storage_[e]=JSON.stringify(t);var i={};i[e]={oldValue:o,newValue:t},setTimeout(function(){for(var e=0;e<this.observers_.length;e++)this.observers_[e](i)}.bind(this),0),r&&setTimeout(r,0)},u.Storage.Memory.prototype.setItems=function(e,t){var r={};for(var o in e)r[o]={oldValue:this.storage_[o],newValue:e[o]},this.storage_[o]=JSON.stringify(e[o]);setTimeout(function(){for(var e=0;e<this.observers_.length;e++)this.observers_[e](r)}.bind(this)),t&&setTimeout(t,0)},u.Storage.Memory.prototype.removeItem=function(e,t){delete this.storage_[e],t&&setTimeout(t,0)},u.Storage.Memory.prototype.removeItems=function(e,t){for(var r=0;r<e.length;r++)delete this.storage_[e[r]];t&&setTimeout(t,0)},function(e){function t(e=\"utf-8\"){if(\"utf-8\"!==e)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${e}') is invalid.`)}function r(e=\"utf-8\",t={fatal:!1}){if(\"utf-8\"!==e)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${e}') is invalid.`);if(t.fatal)throw new Error(\"Failed to construct 'TextDecoder': the 'fatal' option is unsupported.\")}!(e.TextEncoder&&e.TextDecoder)&&(Object.defineProperty(t.prototype,\"encoding\",{value:\"utf-8\"}),t.prototype.encode=function(e,t={stream:!1}){if(t.stream)throw new Error(\"Failed to encode: the 'stream' option is unsupported.\");let r=0;const o=e.length;let n=0,s=i(32,o+(o>>1)+7),a=new Uint8Array(s>>3<<3);for(;r<o;){let t=e.charCodeAt(r++);if(55296<=t&&56319>=t){if(r<o){const o=e.charCodeAt(r);56320==(64512&o)&&(++r,t=((1023&t)<<10)+(1023&o)+65536)}if(55296<=t&&56319>=t)continue}if(n+4>a.length){s+=8,s=(s*=1+r/e.length*2)>>3<<3;const t=new Uint8Array(s);t.set(a),a=t}if(0!=(4294967168&t)){if(0==(4294965248&t))a[n++]=192|31&t>>6;else if(0==(4294901760&t))a[n++]=224|15&t>>12,a[n++]=128|63&t>>6;else{if(0!=(4292870144&t))continue;a[n++]=240|7&t>>18,a[n++]=128|63&t>>12,a[n++]=128|63&t>>6}a[n++]=128|63&t}else a[n++]=t}return a.slice(0,n)},Object.defineProperty(r.prototype,\"encoding\",{value:\"utf-8\"}),Object.defineProperty(r.prototype,\"fatal\",{value:!1}),Object.defineProperty(r.prototype,\"ignoreBOM\",{value:!1}),r.prototype.decode=function(e,t={stream:!1}){if(t.stream)throw new Error(\"Failed to decode: the 'stream' option is unsupported.\");const r=new Uint8Array(e);let o=0;const i=r.length,n=[];for(;o<i;){const e=r[o++];if(0===e)break;if(0==(128&e))n.push(e);else if(192==(224&e)){const t=63&r[o++];n.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&r[o++],i=63&r[o++];n.push((31&e)<<12|t<<6|i)}else if(240==(248&e)){let t=(7&e)<<18|(63&r[o++])<<12|(63&r[o++])<<6|63&r[o++];65535<t&&(t-=65536,n.push(55296|1023&t>>>10),t=56320|1023&t),n.push(t)}}return c.apply(null,n)},e.TextEncoder=t,e.TextDecoder=r)}(\"undefined\"==typeof window?void 0===r?this:r:window),function(e){function t(e,t){const r={none:0,number:100,letter:200,kana:300,ideo:400,unknown:-1}[e]||0;return\"character\"===t?void 0:\"word\"===t?e:\"sentence\"===t?{0:\"terminator\",100:\"separator\"}[r]||e:\"line\"===t&&{0:\"soft\",100:\"hard\"}[r]||e}function r(r,o,n){const s=[];if(\"v8BreakIterator\"in e.Intl){\"grapheme\"===o&&(o=\"character\");const i=new e.Intl.v8BreakIterator(r,{type:o});i.adoptText(n);for(let e=0,r=i.next();-1!==r;)s.push({pos:i.current(),segment:n.slice(e,r),breakType:t(i.breakType(),o)}),e=r,r=i.next()}else{const e=i[o];for(let t,r=0;r<n.length;){t=!1;for(let i of Object.keys(e)){const a=e[i],l=n.slice(r).match(a);if(l){r+=l[0].length,s.push({pos:r,segment:l[0],breakType:\"grapheme\"===o?void 0:i}),t=!0;break}}t||s.push({pos:r+1,segment:n.slice(r,++r),breakType:\"none\"})}}return s.initial=0,s}if(\"Intl\"in e&&\"Segmenter\"in e.Intl)return;e.Intl=e.Intl||{};const o=[\"grapheme\",\"word\",\"sentence\",\"line\"],i={grapheme:{grapheme:/^(.|\\n)/},word:{letter:/^[a-z](?:'?[a-z])*/i,number:/^\\d+([,.]\\d+)*/},sentence:{terminator:/^[^.?!\\r\\n]+[.?!]+[\\r\\n]?/,separator:/^[^.?!\\r\\n]+[\\r\\n]?/},line:{hard:/^\\S*[\\r\\n]/,soft:/^\\S*\\s*/}};class n{constructor(e,t){this._cur=-1,this._type=void 0,this._breaks=t}[Symbol.iterator](){return this}next(){return this._cur<this._breaks.length&&++this._cur,this._cur>=this._breaks.length?(this._type=void 0,{done:!0,value:void 0}):(this._type=this._breaks[this._cur].breakType,{done:!1,value:{segment:this._breaks[this._cur].segment,breakType:this._breaks[this._cur].breakType}})}following(e){if(!this._breaks.length)return!0;if(void 0===e)this._cur<this._breaks.length&&++this._cur;else for(this._cur=0;this._cur<this._breaks.length&&this._breaks[this._cur].pos<e;++this._cur);return this._type=this._cur<this._breaks.length?this._breaks[this._cur].breakType:void 0,this._cur+1>=this._breaks.length}preceding(e){if(!this._breaks.length)return!0;if(void 0===e)this._cur>=this._breaks.length&&--this._cur,0<=this._cur&&--this._cur;else for(this._cur=this._breaks.length-1;0<=this._cur&&this._breaks[this._cur].pos>=e;--this._cur);return this._type=this._cur+1>=this._breaks.length?void 0:this._breaks[this._cur+1].breakType,0>this._cur}get position(){return 0>this._cur||!this._breaks.length?this._breaks.initial:this._cur>=this._breaks.length?this._breaks[this._breaks.length-1].pos:this._breaks[this._cur].pos}get breakType(){return this._type}}e.Intl.Segmenter=class{constructor(e,t){this._locale=Array.isArray(e)?e.map(e=>e+\"\"):(e||navigator.language)+\"\",t=Object.assign({granularity:\"grapheme\"},t),this._granularity=o.includes(t.granularity)?t.granularity:\"grapheme\"}segment(e){return new n(e,r(this._locale,this._granularity,e))}}}(\"undefined\"==typeof window?void 0===r?this:r:window),u.wc={},u.wc.nulWidth=0,u.wc.controlWidth=0,u.wc.regardCjkAmbiguous=!1,u.wc.cjkAmbiguousWidth=2,u.wc.combining=[[173,173],[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1756],[1759,1764],[1767,1768],[1770,1773],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2273],[2275,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531],[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69446,69456],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],u.wc.ambiguous=[[161,161],[164,164],[167,168],[170,170],[173,174],[176,180],[182,186],[188,191],[198,198],[208,208],[215,216],[222,225],[230,230],[232,234],[236,237],[240,240],[242,243],[247,250],[252,252],[254,254],[257,257],[273,273],[275,275],[283,283],[294,295],[299,299],[305,307],[312,312],[319,322],[324,324],[328,331],[333,333],[338,339],[358,359],[363,363],[462,462],[464,464],[466,466],[468,468],[470,470],[472,472],[474,474],[476,476],[593,593],[609,609],[708,708],[711,711],[713,715],[717,717],[720,720],[728,731],[733,733],[735,735],[768,879],[913,929],[931,937],[945,961],[963,969],[1025,1025],[1040,1103],[1105,1105],[4352,4447],[8208,8208],[8211,8214],[8216,8217],[8220,8221],[8224,8226],[8228,8231],[8240,8240],[8242,8243],[8245,8245],[8251,8251],[8254,8254],[8308,8308],[8319,8319],[8321,8324],[8364,8364],[8451,8451],[8453,8453],[8457,8457],[8467,8467],[8470,8470],[8481,8482],[8486,8486],[8491,8491],[8531,8532],[8539,8542],[8544,8555],[8560,8569],[8585,8585],[8592,8601],[8632,8633],[8658,8658],[8660,8660],[8679,8679],[8704,8704],[8706,8707],[8711,8712],[8715,8715],[8719,8719],[8721,8721],[8725,8725],[8730,8730],[8733,8736],[8739,8739],[8741,8741],[8743,8748],[8750,8750],[8756,8759],[8764,8765],[8776,8776],[8780,8780],[8786,8786],[8800,8801],[8804,8807],[8810,8811],[8814,8815],[8834,8835],[8838,8839],[8853,8853],[8857,8857],[8869,8869],[8895,8895],[8978,8978],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9312,9449],[9451,9547],[9552,9587],[9600,9615],[9618,9621],[9632,9633],[9635,9641],[9650,9651],[9654,9655],[9660,9661],[9664,9665],[9670,9672],[9675,9675],[9678,9681],[9698,9701],[9711,9711],[9725,9726],[9733,9734],[9737,9737],[9742,9743],[9748,9749],[9756,9756],[9758,9758],[9792,9792],[9794,9794],[9800,9811],[9824,9825],[9827,9829],[9831,9834],[9836,9837],[9839,9839],[9855,9855],[9875,9875],[9886,9887],[9889,9889],[9898,9899],[9917,9919],[9924,9953],[9955,9955],[9960,9983],[9989,9989],[9994,9995],[10024,10024],[10045,10045],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10102,10111],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11097],[11904,12255],[12272,12350],[12352,19903],[19968,42191],[43360,43391],[44032,55203],[57344,64255],[65024,65049],[65072,65135],[65281,65376],[65504,65510],[65533,65533],[94176,94179],[94208,101119],[110592,110895],[110928,110930],[110948,110951],[110960,111359],[126980,126980],[127183,127183],[127232,127242],[127248,127277],[127280,127337],[127344,127404],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141],[917760,917999],[983040,1048573],[1048576,1114109]],u.wc.unambiguous=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,12255],[12272,12350],[12352,12871],[12880,19903],[19968,42191],[43360,43391],[44032,55203],[63744,64255],[65040,65049],[65072,65135],[65281,65376],[65504,65510],[94176,94179],[94208,101119],[110592,110895],[110928,110930],[110948,110951],[110960,111359],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141]],u.wc.binaryTableSearch_=function(e,t){var r,o=0,i=t.length-1;if(e<t[o][0]||e>t[i][1])return!1;for(;i>=o;)if(e>t[r=n((o+i)/2)][1])o=r+1;else{if(!(e<t[r][0]))return!0;i=r-1}return!1},u.wc.isSpace=function(e){return u.wc.binaryTableSearch_(e,u.wc.combining)},u.wc.isCjkAmbiguous=function(e){return u.wc.binaryTableSearch_(e,u.wc.ambiguous)},u.wc.charWidth=function(e){return u.wc.regardCjkAmbiguous?u.wc.charWidthRegardAmbiguous(e):u.wc.charWidthDisregardAmbiguous(e)},u.wc.charWidthDisregardAmbiguous=function(e){return 127>e?32<=e?1:0==e?u.wc.nulWidth:u.wc.controlWidth:160>e?u.wc.controlWidth:u.wc.isSpace(e)?0:u.wc.binaryTableSearch_(e,u.wc.unambiguous)?2:1},u.wc.charWidthRegardAmbiguous=function(e){return u.wc.isCjkAmbiguous(e)?u.wc.cjkAmbiguousWidth:u.wc.charWidthDisregardAmbiguous(e)},u.wc.strWidth=function(e){for(var t,r,o=0,i=0;i<e.length;){if(r=e.codePointAt(i),0>(t=u.wc.charWidth(r)))return-1;o+=t,i+=65535>=r?1:2}return o},u.wc.substr=function(e,t,r){var o,i,n=0;if(t)for(i=0;n<e.length;){const r=e.codePointAt(n);if((i+=u.wc.charWidth(r))>t)break;n+=65535>=r?1:2}if(null!=r){for(o=n,i=0;o<e.length;){const t=e.codePointAt(o);if((i+=u.wc.charWidth(t))>r)break;o+=65535>=t?1:2}return e.substring(n,o)}return e.substr(n)},u.wc.substring=function(e,t,r){return u.wc.substr(e,t,r-t)},u.resource.add(\"libdot/changelog/version\",\"text/plain\",\"3.0.0\"),u.resource.add(\"libdot/changelog/date\",\"text/plain\",\"2019-08-06\");var g={windowType:null,os:null,zoomWarningMessage:\"ZOOM != 100%\",notifyCopyMessage:\"✂\",desktopNotificationTitle:\"♪ %(title) ♪\"};u.registerInit(\"hterm\",(function(e){function t(t){g.os=t,e()}function r(){u.i18n.getAcceptLanguages(e=>{g.messageManager||(g.messageManager=new u.MessageManager(e)),console.log(\"new hterm.messageManager\"),u.f.getOs().then(t).catch(t)})}function o(e){g.windowType=e.type,r()}console.log(\"lib.registerInit\"),g.defaultStorage||(window.chrome&&chrome.storage&&chrome.storage.sync?g.defaultStorage=new u.Storage.Chrome(chrome.storage.sync):g.defaultStorage=new u.Storage.Local);var i=!1;if(window.chrome&&chrome.runtime&&chrome.runtime.getManifest){var n=chrome.runtime.getManifest();i=n.app&&n.app.background}i?setTimeout(o.bind(null,{type:\"popup\"}),0):window.chrome&&chrome.tabs?chrome.tabs.getCurrent((function(e){e&&window.chrome?chrome.windows.get(e.windowId,null,o):(g.windowType=\"normal\",r())})):setTimeout(o.bind(null,{type:\"normal\"}),0)})),g.getClientSize=function(e){return e.getBoundingClientRect()},g.getClientWidth=function(e){return e.getBoundingClientRect().width},g.getClientHeight=function(e){return e.getBoundingClientRect().height},g.copySelectionToClipboard=function(e,t){const r=()=>{const r=e.createElement(\"pre\");r.id=\"hterm:copy-to-clipboard-source\",r.textContent=t,r.style.cssText=\"-webkit-user-select: text;-moz-user-select: text;position: absolute;top: -99px\",e.body.appendChild(r);const o=e.getSelection(),i=o.anchorNode,n=o.anchorOffset,s=o.focusNode,a=o.focusOffset;try{o.selectAllChildren(r)}catch(e){}try{e.execCommand(\"copy\")}catch(e){}return o.extend&&(i&&o.collapse(i,n),s&&o.extend(s,a)),r.parentNode.removeChild(r),Promise.resolve()};return(()=>navigator.permissions&&navigator.permissions.query?navigator.permissions.query({name:\"clipboard-write\"}).then(e=>{const t=(r,o)=>{switch(e.state){case\"granted\":return r();case\"denied\":return o();default:return new Promise((r,o)=>{e.onchange=()=>t(r,o)})}};return new Promise(t)}).catch(()=>Promise.resolve()):Promise.resolve())().then(()=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).catch(r):r())},g.pasteFromClipboard=function(e){try{return e.execCommand(\"paste\")}catch(e){return!1}},g.msg=function(e,t=[],r){console.log(\"HTERM_\"+e,t,r),g.messageManager=new u.MessageManager(navigator.languages),g.messageManager.get(\"HTERM_\"+e,t,r)},g.notify=function(e){var t=(e,t)=>void 0===e?t:e;null==e&&(e={});var r={body:e.body,icon:t(e.icon,u.resource.getDataUrl(\"hterm/images/icon-96\"))},o=t(e.title,window.document.title);o||(o=\"hterm\"),o=u.f.replaceVars(g.desktopNotificationTitle,{title:o});var i=new Notification(o,r);return i.onclick=function(){window.focus(),this.close()},i},g.openUrl=function(e){if(window.chrome&&chrome.browser&&chrome.browser.openTab)chrome.browser.openTab({url:e});else{u.f.openWindow(e,\"_blank\").focus()}},g.Size=function(e,t){this.width=e,this.height=t},g.Size.prototype.resize=function(e,t){this.width=e,this.height=t},g.Size.prototype.clone=function(){return new g.Size(this.width,this.height)},g.Size.prototype.setTo=function(e){this.width=e.width,this.height=e.height},g.Size.prototype.equals=function(e){return this.width==e.width&&this.height==e.height},g.Size.prototype.toString=function(){return\"[hterm.Size: \"+this.width+\", \"+this.height+\"]\"},g.RowCol=function(e,t,r){this.row=e,this.column=t,this.overflow=!!r},g.RowCol.prototype.move=function(e,t,r){this.row=e,this.column=t,this.overflow=!!r},g.RowCol.prototype.clone=function(){return new g.RowCol(this.row,this.column,this.overflow)},g.RowCol.prototype.setTo=function(e){this.row=e.row,this.column=e.column,this.overflow=e.overflow},g.RowCol.prototype.equals=function(e){return this.row==e.row&&this.column==e.column&&this.overflow==e.overflow},g.RowCol.prototype.toString=function(){return\"[hterm.RowCol: \"+this.row+\", \"+this.column+\", \"+this.overflow+\"]\"},g.AccessibilityReader=function(e){this.document_=e.ownerDocument;const t=this.document_.createElement(\"div\");t.id=\"hterm:accessibility-live-region\",t.style.cssText=\"position: absolute;\\n                              width: 0; height: 0;\\n                              overflow: hidden;\\n                              left: 0; top: 0;\",e.appendChild(t),this.accessibilityEnabled=!1,this.liveElement_=this.document_.createElement(\"p\"),this.liveElement_.setAttribute(\"aria-live\",\"polite\"),this.liveElement_.setAttribute(\"aria-label\",\"\"),t.appendChild(this.liveElement_),this.assertiveLiveElement_=this.document_.createElement(\"p\"),this.assertiveLiveElement_.setAttribute(\"aria-live\",\"assertive\"),this.assertiveLiveElement_.setAttribute(\"aria-label\",\"\"),t.appendChild(this.assertiveLiveElement_),this.queue_=[],this.nextReadTimer_=null,this.cursorIsChanging_=!1,this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1},g.AccessibilityReader.DELAY=50,g.AccessibilityReader.prototype.setAccessibilityEnabled=function(e){e||this.clear(),this.accessibilityEnabled=e},g.AccessibilityReader.prototype.decorate=function(e){[\"keydown\",\"keypress\",\"keyup\",\"textInput\"].forEach(t=>{e.addEventListener(t,()=>{this.hasUserGesture=!0})})},g.AccessibilityReader.prototype.beforeCursorChange=function(e,t,r){this.accessibilityEnabled&&this.hasUserGesture&&!this.cursorIsChanging_&&(this.cursorIsChanging_=!0,this.lastCursorRowString_=e,this.lastCursorRow_=t,this.lastCursorColumn_=r)},g.AccessibilityReader.prototype.afterCursorChange=function(e,t,r){if(this.cursorIsChanging_){if(this.cursorIsChanging_=!1,!this.announceAction_(e,t,r))for(let e=0;e<this.cursorChangeQueue_.length;++e)this.announce(this.cursorChangeQueue_[e]);this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1}},g.AccessibilityReader.prototype.announce=function(e){if(this.accessibilityEnabled){if(this.cursorIsChanging_)return void this.cursorChangeQueue_.push(e);if(\"\\n\"==e&&0<this.queue_.length)return void this.queue_.push(\"\");if(0==this.queue_.length)this.queue_.push(e);else{let t=\"\";0!=this.queue_[this.queue_.length-1].length&&(t=\" \"),this.queue_[this.queue_.length-1]+=t+e}if(!this.nextReadTimer_){if(1!=this.queue_.length)throw new Error(\"Expected only one item in queue_ or nextReadTimer_ to be running.\");this.nextReadTimer_=setTimeout(this.addToLiveRegion_.bind(this),g.AccessibilityReader.DELAY)}}},g.AccessibilityReader.prototype.assertiveAnnounce=function(e){this.hasUserGesture&&\" \"==e&&(e=g.msg(\"SPACE_CHARACTER\",[],\"Space\")),(e=e.trim())==this.assertiveLiveElement_.getAttribute(\"aria-label\")&&(e=\"\\n\"+e),this.clear(),this.assertiveLiveElement_.setAttribute(\"aria-label\",e)},g.AccessibilityReader.prototype.newLine=function(){this.announce(\"\\n\")},g.AccessibilityReader.prototype.clear=function(){this.liveElement_.setAttribute(\"aria-label\",\"\"),this.assertiveLiveElement_.setAttribute(\"aria-label\",\"\"),clearTimeout(this.nextReadTimer_),this.nextReadTimer_=null,this.queue_=[],this.cursorIsChanging_=!1,this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1},g.AccessibilityReader.prototype.announceAction_=function(e,t,r){if(this.lastCursorRow_!=t)return!1;if(this.lastCursorRowString_==e){if(this.lastCursorColumn_!=r&&\"\"==this.cursorChangeQueue_.join(\"\").trim()){const e=l(this.lastCursorColumn_,r),t=o(r-this.lastCursorColumn_);return this.assertiveAnnounce(u.wc.substr(this.lastCursorRowString_,e,t)),!0}return!1}if(this.lastCursorRowString_!=e){if(this.lastCursorColumn_+1==r&&\" \"==u.wc.substr(e,r-1,1)&&0<this.cursorChangeQueue_.length&&\" \"==this.cursorChangeQueue_[0])return this.assertiveAnnounce(\" \"),!0;const t=r;if(u.wc.strWidth(e)<=u.wc.strWidth(this.lastCursorRowString_)&&u.wc.substr(this.lastCursorRowString_,0,t)==u.wc.substr(e,0,t)){let r=u.wc.strWidth(e);for(;0<r&&r!=t&&\" \"==u.wc.substr(e,r-1,1);--r);const o=u.wc.strWidth(this.lastCursorRowString_)-r,i=r-t;if(u.wc.substr(this.lastCursorRowString_,t+o,i)==u.wc.substr(e,t,i)){const e=u.wc.substr(this.lastCursorRowString_,t,o);if(\"\"!=e)return this.assertiveAnnounce(e),!0}}return!1}return!1},g.AccessibilityReader.prototype.addToLiveRegion_=function(){this.nextReadTimer_=null;let e=this.queue_.join(\"\\n\").trim();e==this.liveElement_.getAttribute(\"aria-label\")&&(e=\"\\n\"+e),this.liveElement_.setAttribute(\"aria-label\",e),this.queue_=[]},g.ContextMenu=function(){this.document_=null,this.element_=null,this.menu_=[]},g.ContextMenu.SEPARATOR={},g.ContextMenu.prototype.setDocument=function(e){this.element_&&(this.element_.remove(),this.element_=null),this.document_=e,this.regenerate_(),this.document_.body.appendChild(this.element_)},g.ContextMenu.prototype.regenerate_=function(){for(this.element_?this.hide():(this.element_=this.document_.createElement(\"menu\"),this.element_.id=\"hterm:context-menu\",this.element_.style.cssText=\"\\n        display: none;\\n        border: solid 1px;\\n        position: absolute;\\n    \");this.element_.firstChild;)this.element_.removeChild(this.element_.firstChild);this.menu_.forEach(([e,t])=>{const r=this.document_.createElement(\"menuitem\");e===g.ContextMenu.SEPARATOR?(r.innerHTML=\"<hr>\",r.className=\"separator\"):(r.innerText=e,r.addEventListener(\"mousedown\",(function(e){e.preventDefault(),t(e)}))),this.element_.appendChild(r)})},g.ContextMenu.prototype.setItems=function(e){this.menu_=e,this.regenerate_()},g.ContextMenu.prototype.show=function(e,t){if(0!=this.menu_.length){t&&(this.element_.style.backgroundColor=t.getBackgroundColor(),this.element_.style.color=t.getForegroundColor(),this.element_.style.fontSize=t.getFontSize(),this.element_.style.fontFamily=t.getFontFamily()),this.element_.style.top=`${e.clientY}px`,this.element_.style.left=`${e.clientX}px`;const r=g.getClientSize(this.document_.body);this.element_.style.display=\"block\";const o=g.getClientSize(this.element_),n=i(0,r.height-o.height),s=i(0,r.width-o.width);n<e.clientY&&(this.element_.style.top=`${n}px`),s<e.clientX&&(this.element_.style.left=`${s}px`)}},g.ContextMenu.prototype.hide=function(){this.element_&&(this.element_.style.display=\"none\")},g.Frame=function(e,t,r){this.terminal_=e,this.div_=e.div_,this.url=t,this.options=r||{},this.iframe_=null,this.container_=null,this.messageChannel_=null},g.Frame.prototype.onMessage_=function(e){switch(e.data.name){case\"ipc-init-ok\":return void this.sendTerminalInfo_();case\"terminal-info-ok\":return this.container_.style.display=\"flex\",this.postMessage(\"visible\"),this.messageChannel_.port1.onmessage=this.onMessage.bind(this),void this.onLoad();default:return void console.log(\"Unknown message from frame:\",e.data)}},g.Frame.prototype.onMessage=function(){},g.Frame.prototype.onLoad_=function(){this.messageChannel_=new MessageChannel,this.messageChannel_.port1.onmessage=this.onMessage_.bind(this),this.messageChannel_.port1.start(),this.iframe_.contentWindow.postMessage({name:\"ipc-init\",argv:[{messagePort:this.messageChannel_.port2}]},this.url,[this.messageChannel_.port2])},g.Frame.prototype.onLoad=function(){},g.Frame.prototype.sendTerminalInfo_=function(){u.i18n.getAcceptLanguages(function(e){this.postMessage(\"terminal-info\",[{acceptLanguages:e,foregroundColor:this.terminal_.getForegroundColor(),backgroundColor:this.terminal_.getBackgroundColor(),cursorColor:this.terminal_.getCursorColor(),fontSize:this.terminal_.getFontSize(),fontFamily:this.terminal_.getFontFamily(),baseURL:u.f.getURL(\"/\")}])}.bind(this))},g.Frame.prototype.onCloseClicked_=function(){this.close()},g.Frame.prototype.close=function(){this.container_&&this.container_.parentNode&&(this.container_.parentNode.removeChild(this.container_),this.onClose())},g.Frame.prototype.onClose=function(){},g.Frame.prototype.postMessage=function(e,t){if(!this.messageChannel_)throw new Error(\"Message channel is not set up.\");this.messageChannel_.port1.postMessage({name:e,argv:t})},g.Frame.prototype.show=function(){function e(e,r){return e in t.options?t.options[e]:r}var t=this;t=this;if(this.container_&&this.container_.parentNode)console.error(\"Frame already visible\");else{var r=g.getClientSize(this.div_),o=e(\"width\",640),i=e(\"height\",480),n=(r.width,r.height,this.terminal_.document_),s=this.container_=n.createElement(\"div\");s.style.cssText=\"position: absolute;display: none;flex-direction: column;top: 10%;left: 4%;width: 90%;height: 80%;min-height: 20%;max-height: 80%;box-shadow: 0 0 2px \"+this.terminal_.getForegroundColor()+\";border: 2px \"+this.terminal_.getForegroundColor()+\" solid;\";var a=this.iframe_=n.createElement(\"iframe\");a.onload=this.onLoad_.bind(this),a.style.cssText=\"display: flex;flex: 1;width: 100%\",a.setAttribute(\"src\",this.url),a.setAttribute(\"seamless\",!0),s.appendChild(a),this.div_.appendChild(s)}},g.Keyboard=function(e){this.terminal=e,this.keyboardElement_=null,this.handlers_=[[\"focusout\",this.onFocusOut_.bind(this)],[\"keydown\",this.onKeyDown_.bind(this)],[\"keypress\",this.onKeyPress_.bind(this)],[\"keyup\",this.onKeyUp_.bind(this)],[\"textInput\",this.onTextInput_.bind(this)]],this.keyMap=new g.Keyboard.KeyMap(this),this.bindings=new g.Keyboard.Bindings(this),this.altGrMode=\"none\",this.shiftInsertPaste=!0,this.homeKeysScroll=!1,this.pageKeysScroll=!1,this.ctrlPlusMinusZeroZoom=!0,this.ctrlCCopy=!1,this.ctrlVPaste=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.backspaceSendsBackspace=!1,this.metaSendsEscape=!0,this.passMetaV=!0,this.altSendsWhat=\"escape\",this.altIsMeta=!1,this.altBackspaceIsMetaBackspace=!1,this.altKeyPressed=0,this.mediaKeysAreFKeys=!1,this.previousAltSendsWhat_=null},g.Keyboard.KeyActions={CANCEL:Symbol(\"CANCEL\"),DEFAULT:Symbol(\"DEFAULT\"),PASS:Symbol(\"PASS\"),STRIP:Symbol(\"STRIP\")},g.Keyboard.prototype.installKeyboard=function(e){if(e!=this.keyboardElement_){e&&this.keyboardElement_&&this.installKeyboard(null);for(var t,r=0;r<this.handlers_.length;r++)t=this.handlers_[r],e?e.addEventListener(t[0],t[1]):this.keyboardElement_.removeEventListener(t[0],t[1]);this.keyboardElement_=e}},g.Keyboard.prototype.uninstallKeyboard=function(){this.installKeyboard(null)},g.Keyboard.prototype.onTextInput_=function(e){e.data&&this.terminal.onVTKeystroke(e.data)},g.Keyboard.prototype.onKeyPress_=function(e){const t=c(e.which).toLowerCase();if((!e.ctrlKey&&!e.metaKey||\"c\"!=t&&\"v\"!=t)&&9!=e.keyCode){if(e.altKey&&\"browser-key\"==this.altSendsWhat&&0==e.charCode){var r=c(e.keyCode);e.shiftKey||(r=r.toLowerCase())}else 32<=e.charCode&&(r=e.charCode);r&&this.terminal.onVTKeystroke(c(r)),e.preventDefault(),e.stopPropagation()}},g.Keyboard.prototype.preventChromeAppNonCtrlShiftDefault_=function(e){window.chrome&&window.chrome.app&&window.chrome.app.window&&(e.ctrlKey&&e.shiftKey||e.preventDefault())},g.Keyboard.prototype.onFocusOut_=function(){this.altKeyPressed=0},g.Keyboard.prototype.onKeyUp_=function(e){18==e.keyCode&&(this.altKeyPressed&=~(1<<e.location-1)),27==e.keyCode&&this.preventChromeAppNonCtrlShiftDefault_(e)},g.Keyboard.prototype.onKeyDown_=function(e){function t(n){o=n;var a=r[n];return\"function\"==typeof a&&(a=a.apply(i.keyMap,[e,r])),a===s&&\"normal\"!=n&&(a=t(\"normal\")),a}18==e.keyCode&&(this.altKeyPressed|=1<<e.location-1),27==e.keyCode&&this.preventChromeAppNonCtrlShiftDefault_(e);var r=this.keyMap.keyDefs[e.keyCode];r||(console.warn(`No definition for key ${e.key} (keyCode ${e.keyCode})`),r=this.keyMap.keyDefs[0],this.keyMap.addKeyDef(e.keyCode,r));var o=null,i=this,n=g.Keyboard.KeyActions.CANCEL,s=g.Keyboard.KeyActions.DEFAULT,a=g.Keyboard.KeyActions.PASS,l=g.Keyboard.KeyActions.STRIP,h=e.ctrlKey,u=!this.altIsMeta&&e.altKey,f=this.altIsMeta&&e.altKey||e.metaKey,p=!/^\\[\\w+\\]$/.test(r.keyCap);switch(this.altGrMode){case\"ctrl-alt\":p&&h&&u&&(h=!1,u=!1);break;case\"right-alt\":p&&2&this.terminal.keyboard.altKeyPressed&&(h=!1,u=!1);break;case\"left-alt\":p&&1&this.terminal.keyboard.altKeyPressed&&(h=!1,u=!1)}var d=t(h?\"control\":u?\"alt\":f?\"meta\":\"normal\"),_=!e.maskShiftKey&&e.shiftKey,y={keyCode:e.keyCode,shift:e.shiftKey,ctrl:h,alt:u,meta:f},m=this.bindings.getBinding(y);if(m&&(_=h=u=f=!1,o=\"normal\",\"function\"==typeof(d=m.action)&&(d=d.call(this,this.terminal,y))),u&&\"browser-key\"==this.altSendsWhat&&d==s&&(d=a),d!==a&&(d!==s||h||u||f)&&(d===l&&(u=h=!1,\"function\"==typeof(d=r.normal)&&(d=d.apply(this.keyMap,[e,r])),d==s&&2==r.keyCap.length&&(d=r.keyCap.substr(_?1:0,1))),e.preventDefault(),e.stopPropagation(),d!==n)){if(d!==s&&\"string\"!=typeof d)return void console.warn(\"Invalid action: \"+JSON.stringify(d));if(\"control\"==o?h=!1:\"alt\"==o?u=!1:\"meta\"==o&&(f=!1),\"string\"==typeof d&&\"\x1b[\"==d.substr(0,2)&&(u||h||_||f)){let e=1;_&&(e+=1),u&&(e+=2),h&&(e+=4),f&&(e+=8);let t=\";\"+e;d=3==d.length?\"\x1b[1\"+t+d.substr(2,1):d.substr(0,d.length-1)+t+d.substr(d.length-1)}else{if(d===s&&(d=r.keyCap.substr(_?1:0,1),h))64<=(b=r.keyCap.substr(0,1).charCodeAt(0))&&95>=b&&(d=c(b-64));if(u&&\"8-bit\"==this.altSendsWhat&&1==d.length){var b=d.charCodeAt(0)+128;d=c(b)}(u&&\"escape\"==this.altSendsWhat||f&&this.metaSendsEscape)&&(d=\"\x1b\"+d)}this.terminal.onVTKeystroke(d)}},g.Keyboard.Bindings=function(){this.bindings_={}},g.Keyboard.Bindings.prototype.clear=function(){this.bindings_={}},g.Keyboard.Bindings.prototype.addBinding_=function(e,t){var r=null,o=this.bindings_[e.keyCode];if(o)for(var i=0;i<o.length;i++)if(o[i].keyPattern.matchKeyPattern(e)){r=o[i];break}r?r.action=t:(r={keyPattern:e,action:t},o?(this.bindings_[e.keyCode].push(r),o.sort((function(e,t){return g.Keyboard.KeyPattern.sortCompare(e.keyPattern,t.keyPattern)}))):this.bindings_[e.keyCode]=[r])},g.Keyboard.Bindings.prototype.addBinding=function(e,t){if(\"string\"==typeof e){var r,o=new g.Parser;o.reset(e);try{r=o.parseKeySequence()}catch(e){return void console.error(e)}if(o.isComplete()){if(\"string\"==typeof t){o.reset(t);try{t=o.parseKeyAction()}catch(e){return void console.error(e)}}return o.isComplete()?void this.addBinding_(new g.Keyboard.KeyPattern(r),t):void console.error(o.error(\"Expected end of sequence: \"+r))}console.error(o.error(\"Expected end of sequence: \"+r))}else this.addBinding_(e,t)},g.Keyboard.Bindings.prototype.addBindings=function(e){for(var t in e)this.addBinding(t,e[t])},g.Keyboard.Bindings.prototype.getBinding=function(e){var t=this.bindings_[e.keyCode];if(!t)return null;for(var r,o=0;o<t.length;o++)if((r=t[o]).keyPattern.matchKeyDown(e))return r;return null},g.Keyboard.KeyMap=function(e){this.keyboard=e,this.keyDefs={},this.reset()},g.Keyboard.KeyMap.prototype.addKeyDef=function(e,t){e in this.keyDefs&&console.warn(\"Duplicate keyCode: \"+e),this.keyDefs[e]=t},g.Keyboard.KeyMap.prototype.addKeyDefs=function(){for(var e=0;e<arguments.length;e++)this.addKeyDef(arguments[e][0],{keyCap:arguments[e][1],normal:arguments[e][2],control:arguments[e][3],alt:arguments[e][4],meta:arguments[e][5]})},g.Keyboard.KeyMap.prototype.reset=function(){function e(e,t,r){return\"function\"==typeof e?e.apply(h,[t,r]):e}function t(t,r){return function(o,i){return e(o.shiftKey||o.ctrlKey||o.altKey||o.metaKey||!h.keyboard.applicationCursor?t:r,o,i)}}function r(t,r){return function(o,i){return e(h.keyboard.backspaceSendsBackspace?r:t,o,i)}}function o(t,r){return function(o,i){var n=o.shiftKey?r:t;return o.maskShiftKey=!0,e(n,o,i)}}function i(t,r){return function(o,i){return e(o.altKey?r:t,o,i)}}function n(t,r){return function(o,i){return e(o.shiftKey||o.ctrlKey||o.altKey||o.metaKey?r:t,o,i)}}function s(e){return c(e.charCodeAt(0)-64)}function a(e){return function(t,r){return this[e](t,r)}}function l(t){return function(r,o){return h.keyboard.mediaKeysAreFKeys?e(t,r,o):166==r.keyCode||167==r.keyCode||168==r.keyCode?g.Keyboard.KeyActions.CANCEL:g.Keyboard.KeyActions.PASS}}this.keyDefs={};var h=this;if(window.navigator&&navigator.userAgent)if(navigator.userAgent.includes(\"Firefox\")){var u=59,f=61,p=173;this.addKeyDefs([171,\"+*\",d,a(\"onPlusMinusZero_\"),d,a(\"onPlusMinusZero_\")])}else u=186,f=187,p=189;g.Keyboard.KeyActions.CANCEL;var d=g.Keyboard.KeyActions.DEFAULT,_=g.Keyboard.KeyActions.PASS,y=g.Keyboard.KeyActions.STRIP;this.addKeyDefs([0,\"[UNKNOWN]\",_,_,_,_],[27,\"[ESC]\",\"\x1b\",d,d,d],[112,\"[F1]\",n(\"\x1bOP\",\"\x1b[P\"),d,\"\x1b[23~\",d],[113,\"[F2]\",n(\"\x1bOQ\",\"\x1b[Q\"),d,\"\x1b[24~\",d],[114,\"[F3]\",n(\"\x1bOR\",\"\x1b[R\"),d,\"\x1b[25~\",d],[115,\"[F4]\",n(\"\x1bOS\",\"\x1b[S\"),d,\"\x1b[26~\",d],[116,\"[F5]\",\"\x1b[15~\",d,\"\x1b[28~\",d],[117,\"[F6]\",\"\x1b[17~\",d,\"\x1b[29~\",d],[118,\"[F7]\",\"\x1b[18~\",d,\"\x1b[31~\",d],[119,\"[F8]\",\"\x1b[19~\",d,\"\x1b[32~\",d],[120,\"[F9]\",\"\x1b[20~\",d,\"\x1b[33~\",d],[121,\"[F10]\",\"\x1b[21~\",d,\"\x1b[34~\",d],[122,\"[F11]\",a(\"onF11_\"),d,\"\x1b[42~\",d],[123,\"[F12]\",\"\x1b[24~\",d,\"\x1b[43~\",d],[192,\"`~\",d,o(s(\"@\"),s(\"^\")),d,_],[49,\"1!\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[50,\"2@\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[51,\"3#\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[52,\"4$\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[53,\"5%\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[54,\"6^\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[55,\"7&\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[56,\"8*\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[57,\"9(\",d,a(\"onCtrlNum_\"),a(\"onAltNum_\"),a(\"onMetaNum_\")],[48,\"0)\",d,a(\"onPlusMinusZero_\"),a(\"onAltNum_\"),a(\"onPlusMinusZero_\")],[p,\"-_\",d,a(\"onPlusMinusZero_\"),d,a(\"onPlusMinusZero_\")],[f,\"=+\",d,a(\"onPlusMinusZero_\"),d,a(\"onPlusMinusZero_\")],[8,\"[BKSP]\",r(\"\u007f\",\"\\b\"),r(\"\\b\",\"\u007f\"),d,d],[9,\"[TAB]\",o(\"\\t\",\"\x1b[Z\"),y,_,d],[81,\"qQ\",d,s(\"Q\"),d,d],[87,\"wW\",d,s(\"W\"),d,d],[69,\"eE\",d,s(\"E\"),d,d],[82,\"rR\",d,s(\"R\"),d,d],[84,\"tT\",d,s(\"T\"),d,d],[89,\"yY\",d,s(\"Y\"),d,d],[85,\"uU\",d,s(\"U\"),d,d],[73,\"iI\",d,s(\"I\"),d,d],[79,\"oO\",d,s(\"O\"),d,d],[80,\"pP\",d,s(\"P\"),d,d],[219,\"[{\",d,s(\"[\"),d,d],[221,\"]}\",d,s(\"]\"),d,d],[220,\"\\\\|\",d,s(\"\\\\\"),d,d],[20,\"[CAPS]\",_,_,_,d],[65,\"aA\",d,s(\"A\"),d,d],[83,\"sS\",d,s(\"S\"),d,d],[68,\"dD\",d,s(\"D\"),d,d],[70,\"fF\",d,s(\"F\"),d,d],[71,\"gG\",d,s(\"G\"),d,d],[72,\"hH\",d,s(\"H\"),d,d],[74,\"jJ\",d,o(s(\"J\"),_),d,d],[75,\"kK\",d,o(s(\"K\"),a(\"onClear_\")),d,d],[76,\"lL\",d,o(s(\"L\"),_),d,d],[u,\";:\",d,y,d,d],[222,\"'\\\"\",d,y,d,d],[13,\"[ENTER]\",\"\\r\",d,d,d],[16,\"[SHIFT]\",_,_,_,d],[90,\"zZ\",d,s(\"Z\"),d,d],[88,\"xX\",d,s(\"X\"),d,d],[67,\"cC\",d,a(\"onCtrlC_\"),d,a(\"onMetaC_\")],[86,\"vV\",d,a(\"onCtrlV_\"),d,a(\"onMetaV_\")],[66,\"bB\",d,o(s(\"B\"),_),d,o(d,_)],[78,\"nN\",d,a(\"onCtrlN_\"),d,a(\"onMetaN_\")],[77,\"mM\",d,s(\"M\"),d,d],[188,\",<\",d,i(y,_),d,d],[190,\".>\",d,i(y,_),d,d],[191,\"/?\",d,o(s(\"_\"),s(\"?\")),d,d],[17,\"[CTRL]\",_,_,_,_],[18,\"[ALT]\",_,_,_,_],[91,\"[LAPL]\",_,_,_,_],[32,\" \",d,s(\"@\"),d,d],[92,\"[RAPL]\",_,_,_,_],[93,\"[RMENU]\",_,_,_,_],[42,\"[PRTSCR]\",_,_,_,_],[145,\"[SCRLK]\",_,_,_,_],[19,\"[BREAK]\",_,_,_,_],[45,\"[INSERT]\",a(\"onKeyInsert_\"),d,d,d],[36,\"[HOME]\",a(\"onKeyHome_\"),d,d,d],[33,\"[PGUP]\",a(\"onKeyPageUp_\"),d,d,d],[46,\"[DEL]\",a(\"onKeyDel_\"),d,d,d],[35,\"[END]\",a(\"onKeyEnd_\"),d,d,d],[34,\"[PGDOWN]\",a(\"onKeyPageDown_\"),d,d,d],[38,\"[UP]\",a(\"onKeyArrowUp_\"),d,d,d],[40,\"[DOWN]\",a(\"onKeyArrowDown_\"),d,d,d],[39,\"[RIGHT]\",t(\"\x1b[C\",\"\x1bOC\"),d,d,d],[37,\"[LEFT]\",t(\"\x1b[D\",\"\x1bOD\"),d,d,d],[144,\"[NUMLOCK]\",_,_,_,_],[12,\"[CLEAR]\",_,_,_,_],[96,\"[KP0]\",d,d,d,d],[97,\"[KP1]\",d,d,d,d],[98,\"[KP2]\",d,d,d,d],[99,\"[KP3]\",d,d,d,d],[100,\"[KP4]\",d,d,d,d],[101,\"[KP5]\",d,d,d,d],[102,\"[KP6]\",d,d,d,d],[103,\"[KP7]\",d,d,d,d],[104,\"[KP8]\",d,d,d,d],[105,\"[KP9]\",d,d,d,d],[107,\"[KP+]\",d,a(\"onPlusMinusZero_\"),d,a(\"onPlusMinusZero_\")],[109,\"[KP-]\",d,a(\"onPlusMinusZero_\"),d,a(\"onPlusMinusZero_\")],[106,\"[KP*]\",d,d,d,d],[111,\"[KP/]\",d,d,d,d],[110,\"[KP.]\",d,d,d,d]),\"cros\"==g.os&&this.addKeyDefs([166,\"[BACK]\",l(n(\"\x1bOP\",\"\x1b[P\")),d,\"\x1b[23~\",d],[167,\"[FWD]\",l(n(\"\x1bOQ\",\"\x1b[Q\")),d,\"\x1b[24~\",d],[168,\"[RELOAD]\",l(n(\"\x1bOR\",\"\x1b[R\")),d,\"\x1b[25~\",d],[183,\"[FSCR]\",l(n(\"\x1bOS\",\"\x1b[S\")),d,\"\x1b[26~\",d],[182,\"[WINS]\",l(\"\x1b[15~\"),d,\"\x1b[28~\",d],[216,\"[BRIT-]\",l(\"\x1b[17~\"),d,\"\x1b[29~\",d],[217,\"[BRIT+]\",l(\"\x1b[18~\"),d,\"\x1b[31~\",d],[173,\"[MUTE]\",l(\"\x1b[19~\"),d,\"\x1b[32~\",d],[174,\"[VOL-]\",l(\"\x1b[20~\"),d,\"\x1b[33~\",d],[175,\"[VOL+]\",l(\"\x1b[21~\"),d,\"\x1b[34~\",d],[152,\"[POWER]\",d,d,d,d],[179,\"[PLAY]\",l(\"\x1b[18~\"),d,\"\x1b[31~\",d],[154,\"[DOGS]\",l(\"\x1b[23~\"),d,\"\x1b[42~\",d],[153,\"[ASSIST]\",d,d,d,d])},g.Keyboard.KeyMap.prototype.onKeyInsert_=function(e){return this.keyboard.shiftInsertPaste&&e.shiftKey?g.Keyboard.KeyActions.PASS:\"\x1b[2~\"},g.Keyboard.KeyMap.prototype.onKeyHome_=function(e){return!this.keyboard.homeKeysScroll^e.shiftKey?e.altey||e.ctrlKey||e.shiftKey||!this.keyboard.applicationCursor?\"\x1b[H\":\"\x1bOH\":(this.keyboard.terminal.scrollHome(),g.Keyboard.KeyActions.CANCEL)},g.Keyboard.KeyMap.prototype.onKeyEnd_=function(e){return!this.keyboard.homeKeysScroll^e.shiftKey?e.altKey||e.ctrlKey||e.shiftKey||!this.keyboard.applicationCursor?\"\x1b[F\":\"\x1bOF\":(this.keyboard.terminal.scrollEnd(),g.Keyboard.KeyActions.CANCEL)},g.Keyboard.KeyMap.prototype.onKeyPageUp_=function(e){return!this.keyboard.pageKeysScroll^e.shiftKey?\"\x1b[5~\":(this.keyboard.terminal.scrollPageUp(),g.Keyboard.KeyActions.CANCEL)},g.Keyboard.KeyMap.prototype.onKeyDel_=function(e){return this.keyboard.altBackspaceIsMetaBackspace&&this.keyboard.altKeyPressed&&!e.altKey?\"\x1b\u007f\":\"\x1b[3~\"},g.Keyboard.KeyMap.prototype.onKeyPageDown_=function(e){return!this.keyboard.pageKeysScroll^e.shiftKey?\"\x1b[6~\":(this.keyboard.terminal.scrollPageDown(),g.Keyboard.KeyActions.CANCEL)},g.Keyboard.KeyMap.prototype.onKeyArrowUp_=function(e){return!this.keyboard.applicationCursor&&e.shiftKey?(this.keyboard.terminal.scrollLineUp(),g.Keyboard.KeyActions.CANCEL):e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||!this.keyboard.applicationCursor?\"\x1b[A\":\"\x1bOA\"},g.Keyboard.KeyMap.prototype.onKeyArrowDown_=function(e){return!this.keyboard.applicationCursor&&e.shiftKey?(this.keyboard.terminal.scrollLineDown(),g.Keyboard.KeyActions.CANCEL):e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||!this.keyboard.applicationCursor?\"\x1b[B\":\"\x1bOB\"},g.Keyboard.KeyMap.prototype.onClear_=function(){return this.keyboard.terminal.wipeContents(),g.Keyboard.KeyActions.CANCEL},g.Keyboard.KeyMap.prototype.onF11_=function(){return\"popup\"==g.windowType?\"\x1b[23~\":g.Keyboard.KeyActions.PASS},g.Keyboard.KeyMap.prototype.onCtrlNum_=function(e,t){function r(e){return c(e.charCodeAt(0)-64)}if(this.keyboard.terminal.passCtrlNumber&&!e.shiftKey)return g.Keyboard.KeyActions.PASS;switch(t.keyCap.substr(0,1)){case\"1\":return\"1\";case\"2\":return r(\"@\");case\"3\":return r(\"[\");case\"4\":return r(\"\\\\\");case\"5\":return r(\"]\");case\"6\":return r(\"^\");case\"7\":return r(\"_\");case\"8\":return\"\u007f\";case\"9\":return\"9\"}},g.Keyboard.KeyMap.prototype.onAltNum_=function(e){return this.keyboard.terminal.passAltNumber&&!e.shiftKey?g.Keyboard.KeyActions.PASS:g.Keyboard.KeyActions.DEFAULT},g.Keyboard.KeyMap.prototype.onMetaNum_=function(e){return this.keyboard.terminal.passMetaNumber&&!e.shiftKey?g.Keyboard.KeyActions.PASS:g.Keyboard.KeyActions.DEFAULT},g.Keyboard.KeyMap.prototype.onCtrlC_=function(e){var t=this.keyboard.terminal.getDocument().getSelection();if(!t.isCollapsed){if(this.keyboard.ctrlCCopy&&!e.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(t.collapseToEnd.bind(t),50),g.Keyboard.KeyActions.PASS;if(!this.keyboard.ctrlCCopy&&e.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(t.collapseToEnd.bind(t),50),this.keyboard.terminal.copySelectionToClipboard(),g.Keyboard.KeyActions.CANCEL}return\"\x03\"},g.Keyboard.KeyMap.prototype.onCtrlN_=function(e){return e.shiftKey?(u.f.openWindow(document.location.href,\"\",\"chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width=\"+window.innerWidth+\",height=\"+window.innerHeight),g.Keyboard.KeyActions.CANCEL):\"\x0e\"},g.Keyboard.KeyMap.prototype.onCtrlV_=function(e){return!e.shiftKey&&this.keyboard.ctrlVPaste||e.shiftKey&&!this.keyboard.ctrlVPaste?this.keyboard.terminal.paste()?g.Keyboard.KeyActions.CANCEL:g.Keyboard.KeyActions.PASS:\"\x16\"},g.Keyboard.KeyMap.prototype.onMetaN_=function(e){return e.shiftKey?(u.f.openWindow(document.location.href,\"\",\"chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width=\"+window.outerWidth+\",height=\"+window.outerHeight),g.Keyboard.KeyActions.CANCEL):g.Keyboard.KeyActions.DEFAULT},g.Keyboard.KeyMap.prototype.onMetaC_=function(e,t){var r=this.keyboard.terminal.getDocument();return e.shiftKey||r.getSelection().isCollapsed?t.keyCap.substr(e.shiftKey?1:0,1):(this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout((function(){r.getSelection().collapseToEnd()}),50),g.Keyboard.KeyActions.PASS)},g.Keyboard.KeyMap.prototype.onMetaV_=function(e){return e.shiftKey?g.Keyboard.KeyActions.PASS:this.keyboard.passMetaV?g.Keyboard.KeyActions.PASS:g.Keyboard.KeyActions.DEFAULT},g.Keyboard.KeyMap.prototype.onPlusMinusZero_=function(e,t){if(!(this.keyboard.ctrlPlusMinusZeroZoom^e.shiftKey))return\"-_\"==t.keyCap?\"\x1f\":g.Keyboard.KeyActions.CANCEL;if(1!=this.keyboard.terminal.getZoomFactor())return g.Keyboard.KeyActions.PASS;var r=t.keyCap.substr(0,1);if(\"0\"==r)this.keyboard.terminal.setFontSize(0);else{var o=this.keyboard.terminal.getFontSize();\"-\"==r||\"[KP-]\"==t.keyCap?o-=1:o+=1,this.keyboard.terminal.setFontSize(o)}return g.Keyboard.KeyActions.CANCEL},g.Keyboard.KeyPattern=function(e){this.wildcardCount=0,this.keyCode=e.keyCode,g.Keyboard.KeyPattern.modifiers.forEach(function(t){this[t]=e[t]||!1,\"*\"==this[t]&&this.wildcardCount++}.bind(this))},g.Keyboard.KeyPattern.modifiers=[\"shift\",\"ctrl\",\"alt\",\"meta\"],g.Keyboard.KeyPattern.sortCompare=function(e,t){return e.wildcardCount<t.wildcardCount?-1:e.wildcardCount>t.wildcardCount?1:0},g.Keyboard.KeyPattern.prototype.match_=function(e,t){if(this.keyCode!=e.keyCode)return!1;var r=!0;return g.Keyboard.KeyPattern.modifiers.forEach(function(o){var i=!!(o in e)&&e[o];r&&(t||\"*\"!=this[o])&&this[o]!=i&&(r=!1)}.bind(this)),r},g.Keyboard.KeyPattern.prototype.matchKeyDown=function(e){return this.match_(e,!1)},g.Keyboard.KeyPattern.prototype.matchKeyPattern=function(e){return this.match_(e,!0)},g.Options=function(e){this.wraparound=!e||e.wraparound,this.reverseWraparound=!!e&&e.reverseWraparound,this.originMode=!!e&&e.originMode,this.autoCarriageReturn=!!e&&e.autoCarriageReturn,this.cursorVisible=!!e&&e.cursorVisible,this.cursorBlink=!!e&&e.cursorBlink,this.insertMode=!!e&&e.insertMode,this.reverseVideo=!!e&&e.reverseVideo,this.bracketedPaste=!!e&&e.bracketedPaste},g.Parser=function(){this.source=\"\",this.pos=0,this.ch=null},g.Parser.prototype.error=function(e){return new Error(\"Parse error at \"+this.pos+\": \"+e)},g.Parser.prototype.isComplete=function(){return this.pos==this.source.length},g.Parser.prototype.reset=function(e,t){this.source=e,this.pos=t||0,this.ch=e.substr(0,1)},g.Parser.prototype.parseKeySequence=function(){var e={keyCode:null};for(var t in g.Parser.identifiers.modifierKeys)e[g.Parser.identifiers.modifierKeys[t]]=!1;for(;this.pos<this.source.length;){this.skipSpace();var r=this.parseToken();if(\"integer\"==r.type)e.keyCode=r.value;else if(\"identifier\"==r.type){var o=r.value.toUpperCase();if(o in g.Parser.identifiers.modifierKeys&&g.Parser.identifiers.modifierKeys.hasOwnProperty(o)){var i=g.Parser.identifiers.modifierKeys[o];if(e[i]&&\"*\"!=e[i])throw this.error(\"Duplicate modifier: \"+r.value);e[i]=!0}else{if(!(o in g.Parser.identifiers.keyCodes&&g.Parser.identifiers.keyCodes.hasOwnProperty(o)))throw this.error(\"Unknown key: \"+r.value);e.keyCode=g.Parser.identifiers.keyCodes[o]}}else{if(\"symbol\"!=r.type)throw this.error(\"Expected integer or identifier\");if(\"*\"!=r.value)throw this.error(\"Unexpected symbol: \"+r.value);for(var n in g.Parser.identifiers.modifierKeys){var s=g.Parser.identifiers.modifierKeys[n];e[s]||(e[s]=\"*\")}}if(this.skipSpace(),\"-\"!=this.ch)break;if(null!=e.keyCode)throw this.error(\"Extra definition after target key\");this.advance(1)}if(null==e.keyCode)throw this.error(\"Missing target key\");return e},g.Parser.prototype.parseKeyAction=function(){this.skipSpace();var e=this.parseToken();if(\"string\"==e.type)return e.value;if(\"identifier\"==e.type){if(e.value in g.Parser.identifiers.actions&&g.Parser.identifiers.actions.hasOwnProperty(e.value))return g.Parser.identifiers.actions[e.value];throw this.error(\"Unknown key action: \"+e.value)}throw this.error(\"Expected string or identifier\")},g.Parser.prototype.peekString=function(){return\"'\"==this.ch||'\"'==this.ch},g.Parser.prototype.peekIdentifier=function(){return this.ch.match(/[a-z_]/i)},g.Parser.prototype.peekInteger=function(){return this.ch.match(/[0-9]/)},g.Parser.prototype.parseToken=function(){if(\"*\"==this.ch){var e={type:\"symbol\",value:this.ch};return this.advance(1),e}if(this.peekIdentifier())return{type:\"identifier\",value:this.parseIdentifier()};if(this.peekString())return{type:\"string\",value:this.parseString()};if(this.peekInteger())return{type:\"integer\",value:this.parseInteger()};throw this.error(\"Unexpected token\")},g.Parser.prototype.parseIdentifier=function(){if(!this.peekIdentifier())throw this.error(\"Expected identifier\");return this.parsePattern(/[a-z0-9_]+/gi)},g.Parser.prototype.parseInteger=function(){return\"0\"==this.ch&&this.pos<this.source.length-1&&\"x\"==this.source.substr(this.pos+1,1)?parseInt(this.parsePattern(/0x[0-9a-f]+/gi)):parseInt(this.parsePattern(/\\d+/g))},g.Parser.prototype.parseString=function(){var e=\"\",t=this.ch;if('\"'!=t&&\"'\"!=t)throw this.error(\"String expected\");this.advance(1);for(var r=new RegExp(\"[\\\\\\\\\"+t+\"]\",\"g\");this.pos<this.source.length;){if(r.lastIndex=this.pos,!r.exec(this.source))throw this.error(\"Unterminated string literal\");if(e+=this.source.substring(this.pos,r.lastIndex-1),this.advance(r.lastIndex-this.pos-1),'\"'!=t||\"\\\\\"!=this.ch)if(\"'\"!=t||\"\\\\\"!=this.ch){if(this.ch==t)return this.advance(1),e}else e+=this.ch,this.advance(1);else this.advance(1),e+=this.parseEscape()}throw this.error(\"Unterminated string literal\")},g.Parser.prototype.parseEscape=function(){var e={'\"':'\"',\"'\":\"'\",\"\\\\\":\"\\\\\",a:\"\a\",b:\"\\b\",e:\"\x1b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\",v:\"\\v\",x:function(){var e=this.parsePattern(/[a-z0-9]{2}/gi);return c(parseInt(e,16))},u:function(){var e=this.parsePattern(/[a-z0-9]{4}/gi);return c(parseInt(e,16))}};if(!(this.ch in e&&e.hasOwnProperty(this.ch)))throw this.error(\"Unknown escape: \"+this.ch);var t=e[this.ch];return this.advance(1),\"function\"==typeof t&&(t=t.call(this)),t},g.Parser.prototype.parsePattern=function(e){if(!e.global)throw this.error(\"Internal error: Span patterns must be global\");e.lastIndex=this.pos;var t=e.exec(this.source);if(!t||e.lastIndex-t[0].length!=this.pos)throw this.error(\"Expected match for: \"+e);return this.pos=e.lastIndex-1,this.advance(1),t[0]},g.Parser.prototype.advance=function(e){this.pos+=e,this.ch=this.source.substr(this.pos,1)},g.Parser.prototype.skipSpace=function(e){if(/\\s/.test(this.ch)){var t=/\\s+/gm;t.lastIndex=this.pos;var r=this.source;if(t.exec(r)&&(this.pos=t.lastIndex),this.ch=this.source.substr(this.pos,1),e&&-1==this.ch.indexOf(e))throw this.error(\"Expected one of \"+e+\", found: \"+this.ch)}},g.Parser.identifiers={},g.Parser.identifiers.modifierKeys={SHIFT:\"shift\",CTRL:\"ctrl\",CONTROL:\"ctrl\",ALT:\"alt\",META:\"meta\"},g.Parser.identifiers.keyCodes={ESCAPE:27,ESC:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,ZERO:48,BACKSPACE:8,BKSP:8,BS:8,TAB:9,Q:81,W:87,E:69,R:82,T:84,Y:89,U:85,I:73,O:79,P:80,CAPS_LOCK:20,CAPSLOCK:20,CAPS:20,A:65,S:83,D:68,F:70,G:71,H:72,J:74,K:75,L:76,ENTER:13,ENT:13,RETURN:13,RET:13,Z:90,X:88,C:67,V:86,B:66,N:78,M:77,SPACE:32,SP:32,PRINT_SCREEN:42,PRTSC:42,SCROLL_LOCK:145,SCRLK:145,BREAK:19,BRK:19,INSERT:45,INS:45,HOME:36,PAGE_UP:33,PGUP:33,DELETE:46,DEL:46,END:35,PAGE_DOWN:34,PGDOWN:34,PGDN:34,UP:38,DOWN:40,RIGHT:39,LEFT:37,NUMLOCK:144,KP0:96,KP1:97,KP2:98,KP3:99,KP4:100,KP5:101,KP6:102,KP7:103,KP8:104,KP9:105,KP_PLUS:107,KP_ADD:107,KP_MINUS:109,KP_SUBTRACT:109,KP_STAR:106,KP_MULTIPLY:106,KP_DIVIDE:111,KP_DECIMAL:110,KP_PERIOD:110,NAVIGATE_BACK:166,NAVIGATE_FORWARD:167,RELOAD:168,FULL_SCREEN:183,WINDOW_OVERVIEW:182,BRIGHTNESS_UP:216,BRIGHTNESS_DOWN:217},g.Parser.identifiers.actions={CANCEL:g.Keyboard.KeyActions.CANCEL,DEFAULT:g.Keyboard.KeyActions.DEFAULT,PASS:g.Keyboard.KeyActions.PASS,scrollLineUp:function(e){return e.scrollLineUp(),g.Keyboard.KeyActions.CANCEL},scrollLineDown:function(e){return e.scrollLineDown(),g.Keyboard.KeyActions.CANCEL},scrollPageUp:function(e){return e.scrollPageUp(),g.Keyboard.KeyActions.CANCEL},scrollPageDown:function(e){return e.scrollPageDown(),g.Keyboard.KeyActions.CANCEL},scrollToTop:function(e){return e.scrollHome(),g.Keyboard.KeyActions.CANCEL},scrollToBottom:function(e){return e.scrollEnd(),g.Keyboard.KeyActions.CANCEL},clearScreen:function(e){return e.clearHome(),g.Keyboard.KeyActions.CANCEL},clearScrollback:function(e){return e.clearScrollback(),g.Keyboard.KeyActions.CANCEL},clearTerminal:function(e){return e.wipeContents(),g.Keyboard.KeyActions.CANCEL},fullReset:function(e){return e.reset(),g.Keyboard.KeyActions.CANCEL},softReset:function(e){return e.softReset(),g.Keyboard.KeyActions.CANCEL}},g.PreferenceManager=function(e){u.PreferenceManager.call(this,g.defaultStorage,g.PreferenceManager.prefix_+e),Object.entries(g.PreferenceManager.defaultPreferences).forEach(([e,t])=>{this.definePreference(e,t.default)})},g.PreferenceManager.prefix_=\"/hterm/profiles/\",g.PreferenceManager.listProfiles=function(e){g.defaultStorage.getItems(null,t=>{const r={};for(let e of Object.keys(t))if(e.startsWith(g.PreferenceManager.prefix_)){r[e.slice(g.PreferenceManager.prefix_.length).split(\"/\",1)[0]]=!0}e(Object.keys(r))})},g.PreferenceManager.categories={},g.PreferenceManager.categories.Keyboard=\"Keyboard\",g.PreferenceManager.categories.Appearance=\"Appearance\",g.PreferenceManager.categories.CopyPaste=\"CopyPaste\",g.PreferenceManager.categories.Sounds=\"Sounds\",g.PreferenceManager.categories.Scrolling=\"Scrolling\",g.PreferenceManager.categories.Encoding=\"Encoding\",g.PreferenceManager.categories.Extensions=\"Extensions\",g.PreferenceManager.categories.Miscellaneous=\"Miscellaneous\",g.PreferenceManager.categoryDefinitions=[{id:g.PreferenceManager.categories.Appearance,text:\"Appearance (fonts, colors, images)\"},{id:g.PreferenceManager.categories.CopyPaste,text:\"Copy & Paste\"},{id:g.PreferenceManager.categories.Encoding,text:\"Encoding\"},{id:g.PreferenceManager.categories.Keyboard,text:\"Keyboard\"},{id:g.PreferenceManager.categories.Scrolling,text:\"Scrolling\"},{id:g.PreferenceManager.categories.Sounds,text:\"Sounds\"},{id:g.PreferenceManager.categories.Extensions,text:\"Extensions\"},{id:g.PreferenceManager.categories.Miscellaneous,text:\"Miscellaneous\"}],g.PreferenceManager.definePref_=function(e,t,r,o,i){return{name:e,category:t,default:r,type:o,help:i}},g.PreferenceManager.defaultPreferences={\"alt-gr-mode\":g.PreferenceManager.definePref_(\"AltGr key mode\",g.PreferenceManager.categories.Keyboard,null,[null,\"none\",\"ctrl-alt\",\"left-alt\",\"right-alt\"],\"Select an AltGr detection heuristic.\\n\\n'null': Autodetect based on navigator.language:\\n      'en-us' => 'none', else => 'right-alt'\\n'none': Disable any AltGr related munging.\\n'ctrl-alt': Assume Ctrl+Alt means AltGr.\\n'left-alt': Assume left Alt means AltGr.\\n'right-alt': Assume right Alt means AltGr.\"),\"alt-backspace-is-meta-backspace\":g.PreferenceManager.definePref_(\"Alt-Backspace is Meta-Backspace\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"If set, undoes the Chrome OS Alt-Backspace->DEL remap, so that Alt-Backspace indeed is Alt-Backspace.\"),\"alt-is-meta\":g.PreferenceManager.definePref_(\"Treat Alt key as Meta key\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"Whether the Alt key acts as a Meta key or as a distinct Alt key.\"),\"alt-sends-what\":g.PreferenceManager.definePref_(\"Alt key modifier handling\",g.PreferenceManager.categories.Keyboard,\"escape\",[\"escape\",\"8-bit\",\"browser-key\"],\"Controls how the Alt key is handled.\\n\\n  escape: Send an ESC prefix.\\n  8-bit: Add 128 to the typed character as in xterm.\\n  browser-key: Wait for the keypress event and see what the browser\\n    says. (This won't work well on platforms where the browser\\n    performs a default action for some Alt sequences.)\"),\"audible-bell-sound\":g.PreferenceManager.definePref_(\"Alert bell sound (URI)\",g.PreferenceManager.categories.Sounds,\"lib-resource:hterm/audio/bell\",\"url\",\"URL of the terminal bell sound. Empty string for no audible bell.\"),\"desktop-notification-bell\":g.PreferenceManager.definePref_(\"Create desktop notifications for alert bells\",g.PreferenceManager.categories.Sounds,!1,\"bool\",'If true, terminal bells in the background will create a Web Notification. https://www.w3.org/TR/notifications/\\n\\nDisplaying notifications requires permission from the user. When this option is set to true, hterm will attempt to ask the user for permission if necessary. Browsers may not show this permission request if it was not triggered by a user action.\\n\\nChrome extensions with the \"notifications\" permission have permission to display notifications.'),\"background-color\":g.PreferenceManager.definePref_(\"Background color\",g.PreferenceManager.categories.Appearance,\"rgb(16, 16, 16)\",\"color\",\"The background color for text with no other color attributes.\"),\"background-image\":g.PreferenceManager.definePref_(\"Background image\",g.PreferenceManager.categories.Appearance,\"\",\"string\",\"CSS value of the background image. Empty string for no image.\\n\\nFor example:\\n  url(https://goo.gl/anedTK)\\n  linear-gradient(top bottom, blue, red)\"),\"background-size\":g.PreferenceManager.definePref_(\"Background image size\",g.PreferenceManager.categories.Appearance,\"\",\"string\",\"CSS value of the background image size.\"),\"background-position\":g.PreferenceManager.definePref_(\"Background image position\",g.PreferenceManager.categories.Appearance,\"\",\"string\",\"CSS value of the background image position.\\n\\nFor example:\\n  10% 10%\\n  center\"),\"backspace-sends-backspace\":g.PreferenceManager.definePref_(\"Backspace key behavior\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"If true, the backspace should send BS ('\\\\x08', aka ^H). Otherwise the backspace key should send '\\\\x7f'.\"),\"character-map-overrides\":g.PreferenceManager.definePref_(\"Character map overrides\",g.PreferenceManager.categories.Appearance,null,\"value\",'This is specified as an object. It is a sparse array, where each property is the character set code and the value is an object that is a sparse array itself. In that sparse array, each property is the received character and the value is the displayed character.\\n\\nFor example:\\n  {\"0\":{\"+\":\"\\\\u2192\",\",\":\"\\\\u2190\",\"-\":\"\\\\u2191\",\".\":\"\\\\u2193\", \"0\":\"\\\\u2588\"}}'),\"close-on-exit\":g.PreferenceManager.definePref_(\"Close window on exit\",g.PreferenceManager.categories.Miscellaneous,!0,\"bool\",\"Whether to close the window when the command finishes executing.\"),\"cursor-blink\":g.PreferenceManager.definePref_(\"Cursor blink\",g.PreferenceManager.categories.Appearance,!1,\"bool\",\"Whether the text cursor blinks by default. This can be toggled at runtime via terminal escape sequences.\"),\"cursor-blink-cycle\":g.PreferenceManager.definePref_(\"Cursor blink rate\",g.PreferenceManager.categories.Appearance,[1e3,500],\"value\",\"The text cursor blink rate in milliseconds.\\n\\nA two element array, the first of which is how long the text cursor should be on, second is how long it should be off.\"),\"cursor-shape\":g.PreferenceManager.definePref_(\"Text cursor shape\",g.PreferenceManager.categories.Appearance,\"BLOCK\",[\"BLOCK\",\"BEAM\",\"UNDERLINE\"],\"The shape of the visible text cursor. This can be toggled at runtime via terminal escape sequences.\"),\"cursor-color\":g.PreferenceManager.definePref_(\"Text cursor color\",g.PreferenceManager.categories.Appearance,\"rgba(255, 0, 0, 0.5)\",\"color\",\"The color of the visible text cursor.\"),\"color-palette-overrides\":g.PreferenceManager.definePref_(\"Initial color palette\",g.PreferenceManager.categories.Appearance,null,\"value\",'Override colors in the default palette.\\n\\nThis can be specified as an array or an object. If specified as an object it is assumed to be a sparse array, where each property is a numeric index into the color palette.\\n\\nValues can be specified as almost any CSS color value. This includes #RGB, #RRGGBB, rgb(...), rgba(...), and any color names that are also part of the standard X11 rgb.txt file.\\n\\nYou can use \\'null\\' to specify that the default value should be not be changed. This is useful for skipping a small number of indices when the value is specified as an array.\\n\\nFor example, these both set color index 1 to blue:\\n  {1: \"#0000ff\"}\\n  [null, \"#0000ff\"]'),\"copy-on-select\":g.PreferenceManager.definePref_(\"Automatically copy selected content\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",\"Automatically copy mouse selection to the clipboard.\"),\"use-default-window-copy\":g.PreferenceManager.definePref_(\"Let the browser handle text copying\",g.PreferenceManager.categories.CopyPaste,!1,\"bool\",\"Whether to use the default browser/OS's copy behavior.\\n\\nAllow the browser/OS to handle the copy event directly which might improve compatibility with some systems (where copying doesn't work at all), but makes the text selection less robust.\\n\\nFor example, long lines that were automatically line wrapped will be copied with the newlines still in them.\"),\"clear-selection-after-copy\":g.PreferenceManager.definePref_(\"Automatically clear text selection\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",\"Whether to clear the selection after copying.\"),\"ctrl-plus-minus-zero-zoom\":g.PreferenceManager.definePref_(\"Ctrl-+/-/0 zoom behavior\",g.PreferenceManager.categories.Keyboard,!0,\"bool\",\"If true, Ctrl-Plus/Minus/Zero controls zoom.\\nIf false, Ctrl-Shift-Plus/Minus/Zero controls zoom, Ctrl-Minus sends ^_, Ctrl-Plus/Zero do nothing.\"),\"ctrl-c-copy\":g.PreferenceManager.definePref_(\"Ctrl-C copy behavior\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"Ctrl-C copies if true, send ^C to host if false.\\nCtrl-Shift-C sends ^C to host if true, copies if false.\"),\"ctrl-v-paste\":g.PreferenceManager.definePref_(\"Ctrl-V paste behavior\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"Ctrl-V pastes if true, send ^V to host if false.\\nCtrl-Shift-V sends ^V to host if true, pastes if false.\"),\"east-asian-ambiguous-as-two-column\":g.PreferenceManager.definePref_(\"East Asian Ambiguous use two columns\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"Whether East Asian Ambiguous characters have two column width.\"),\"enable-8-bit-control\":g.PreferenceManager.definePref_(\"Support non-UTF-8 C1 control characters\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"True to enable 8-bit control characters, false to ignore them.\\n\\nWe'll respect the two-byte versions of these control characters regardless of this setting.\"),\"enable-bold\":g.PreferenceManager.definePref_(\"Bold text behavior\",g.PreferenceManager.categories.Appearance,null,\"tristate\",\"If true, use bold weight font for text with the bold/bright attribute. False to use the normal weight font. Null to autodetect.\"),\"enable-bold-as-bright\":g.PreferenceManager.definePref_(\"Use bright colors with bold text\",g.PreferenceManager.categories.Appearance,!0,\"bool\",\"If true, use bright colors (8-15 on a 16 color palette) for any text with the bold attribute. False otherwise.\"),\"enable-blink\":g.PreferenceManager.definePref_(\"Enable blinking text\",g.PreferenceManager.categories.Appearance,!0,\"bool\",\"If true, respect the blink attribute. False to ignore it.\"),\"enable-clipboard-notice\":g.PreferenceManager.definePref_(\"Show notification when copying content\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",\"Whether to show a message in the terminal when the host writes to the clipboard.\"),\"enable-clipboard-write\":g.PreferenceManager.definePref_(\"Allow remote clipboard writes\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",\"Allow the remote host to write directly to the local system clipboard.\\nRead access is never granted regardless of this setting.\\n\\nThis is used to control access to features like OSC-52.\"),\"enable-dec12\":g.PreferenceManager.definePref_(\"Allow changing of text cursor blinking\",g.PreferenceManager.categories.Miscellaneous,!1,\"bool\",\"Respect the host's attempt to change the text cursor blink status using DEC Private Mode 12.\"),\"enable-csi-j-3\":g.PreferenceManager.definePref_(\"Allow clearing of scrollback buffer (CSI-J-3)\",g.PreferenceManager.categories.Miscellaneous,!0,\"bool\",\"Whether CSI-J (Erase Display) mode 3 may clear the terminal scrollback buffer.\\n\\nEnabling this by default is safe.\"),environment:g.PreferenceManager.definePref_(\"Environment variables\",g.PreferenceManager.categories.Miscellaneous,{NCURSES_NO_UTF8_ACS:\"1\",TERM:\"xterm-256color\",COLORTERM:\"truecolor\"},\"value\",\"The initial set of environment variables, as an object.\"),\"font-family\":g.PreferenceManager.definePref_(\"Text font family\",g.PreferenceManager.categories.Appearance,'\"DejaVu Sans Mono\", \"Noto Sans Mono\", \"Everson Mono\", FreeMono, Menlo, Terminal, monospace',\"string\",\"Default font family for the terminal text.\"),\"font-size\":g.PreferenceManager.definePref_(\"Text font size\",g.PreferenceManager.categories.Appearance,15,\"int\",\"The default font size in pixels.\"),\"font-smoothing\":g.PreferenceManager.definePref_(\"Text font smoothing\",g.PreferenceManager.categories.Appearance,\"antialiased\",\"string\",\"CSS font-smoothing property.\"),\"foreground-color\":g.PreferenceManager.definePref_(\"Text color\",g.PreferenceManager.categories.Appearance,\"rgb(240, 240, 240)\",\"color\",\"The foreground color for text with no other color attributes.\"),\"hide-mouse-while-typing\":g.PreferenceManager.definePref_(\"Hide mouse cursor while typing\",g.PreferenceManager.categories.Keyboard,null,\"tristate\",\"Whether to automatically hide the mouse cursor when typing. By default, autodetect whether the platform/OS handles this.\\n\\nNote: Some operating systems may override this setting and thus you might not be able to always disable it.\"),\"home-keys-scroll\":g.PreferenceManager.definePref_(\"Home/End key scroll behavior\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"If true, Home/End controls the terminal scrollbar and Shift-Home/Shift-End are sent to the remote host. If false, then Home/End are sent to the remote host and Shift-Home/Shift-End scrolls.\"),keybindings:g.PreferenceManager.definePref_(\"Keyboard bindings/shortcuts\",g.PreferenceManager.categories.Keyboard,null,\"value\",'A map of key sequence to key actions. Key sequences include zero or more modifier keys followed by a key code. Key codes can be decimal or hexadecimal numbers, or a key identifier. Key actions can be specified as a string to send to the host, or an action identifier. For a full explanation of the format, see https://goo.gl/LWRndr.\\n\\nSample keybindings:\\n{\\n  \"Ctrl-Alt-K\": \"clearTerminal\",\\n  \"Ctrl-Shift-L\": \"PASS\",\\n  \"Ctrl-H\": \"\\'Hello World\\'\"\\n}'),\"media-keys-are-fkeys\":g.PreferenceManager.definePref_(\"Media keys are Fkeys\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"If true, convert media keys to their Fkey equivalent. If false, let the browser handle the keys.\"),\"meta-sends-escape\":g.PreferenceManager.definePref_(\"Meta key modifier handling\",g.PreferenceManager.categories.Keyboard,!0,\"bool\",\"Send an ESC prefix when pressing a key while holding the Meta key.\\n\\nFor example, when enabled, pressing Meta-K will send ^[k as if you typed Escape then k. When disabled, only k will be sent.\"),\"mouse-right-click-paste\":g.PreferenceManager.definePref_(\"Mouse right clicks paste content\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",'Paste on right mouse button clicks.\\n\\nThis option is independent of the \"mouse-paste-button\" setting.\\n\\nNote: This will handle left & right handed mice correctly.'),\"mouse-paste-button\":g.PreferenceManager.definePref_(\"Mouse button paste\",g.PreferenceManager.categories.CopyPaste,null,[null,0,1,2,3,4,5,6],\"Mouse paste button, or null to autodetect.\\n\\nFor autodetect, we'll use the middle mouse button for non-X11 platforms (including Chrome OS). On X11, we'll use the right mouse button (since the native window manager should paste via the middle mouse button).\\n\\n0 == left (primary) button.\\n1 == middle (auxiliary) button.\\n2 == right (secondary) button.\\n\\nThis option is independent of the setting for right-click paste.\\n\\nNote: This will handle left & right handed mice correctly.\"),\"word-break-match-left\":g.PreferenceManager.definePref_(\"Automatic selection halting (to the left)\",g.PreferenceManager.categories.CopyPaste,\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:`]\",\"string\",'Regular expression to halt matching to the left (start) of a selection.\\n\\nNormally this is a character class to reject specific characters.\\nWe allow \"~\" and \".\" by default as paths frequently start with those.'),\"word-break-match-right\":g.PreferenceManager.definePref_(\"Automatic selection halting (to the right)\",g.PreferenceManager.categories.CopyPaste,\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:~.`]\",\"string\",\"Regular expression to halt matching to the right (end) of a selection.\\n\\nNormally this is a character class to reject specific characters.\"),\"word-break-match-middle\":g.PreferenceManager.definePref_(\"Word break characters\",g.PreferenceManager.categories.CopyPaste,\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^]*\",\"string\",\"Regular expression to match all the characters in the middle.\\n\\nNormally this is a character class to reject specific characters.\\n\\nUsed to expand the selection surrounding the starting point.\"),\"page-keys-scroll\":g.PreferenceManager.definePref_(\"Page Up/Down key scroll behavior\",g.PreferenceManager.categories.Keyboard,!1,\"bool\",\"If true, Page Up/Page Down controls the terminal scrollbar and Shift-Page Up/Shift-Page Down are sent to the remote host. If false, then Page Up/Page Down are sent to the remote host and Shift-Page Up/Shift-Page Down scrolls.\"),\"pass-alt-number\":g.PreferenceManager.definePref_(\"Pass Alt-1..9 key behavior\",g.PreferenceManager.categories.Keyboard,null,\"tristate\",\"Whether Alt-1..9 is passed to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Alt-1..9 will be handled by the browser. If false, Alt-1..9 will be sent to the host. If null, autodetect based on browser platform and window type.\"),\"pass-ctrl-number\":g.PreferenceManager.definePref_(\"Pass Ctrl-1..9 key behavior\",g.PreferenceManager.categories.Keyboard,null,\"tristate\",\"Whether Ctrl-1..9 is passed to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Ctrl-1..9 will be handled by the browser. If false, Ctrl-1..9 will be sent to the host. If null, autodetect based on browser platform and window type.\"),\"pass-meta-number\":g.PreferenceManager.definePref_(\"Pass Meta-1..9 key behavior\",g.PreferenceManager.categories.Keyboard,null,\"tristate\",\"Whether Meta-1..9 is passed to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Meta-1..9 will be handled by the browser. If false, Meta-1..9 will be sent to the host. If null, autodetect based on browser platform and window type.\"),\"pass-meta-v\":g.PreferenceManager.definePref_(\"Pass Meta-V key behavior\",g.PreferenceManager.categories.Keyboard,!0,\"bool\",\"Whether Meta-V gets passed to host.\"),\"paste-on-drop\":g.PreferenceManager.definePref_(\"Allow drag & drop to paste\",g.PreferenceManager.categories.CopyPaste,!0,\"bool\",\"If true, Drag and dropped text will paste into terminal.\\nIf false, dropped text will be ignored.\"),\"receive-encoding\":g.PreferenceManager.definePref_(\"Receive encoding\",g.PreferenceManager.categories.Encoding,\"utf-8\",[\"utf-8\",\"raw\"],\"Set the expected encoding for data received from the host.\\nIf the encodings do not match, visual bugs are likely to be observed.\\n\\nValid values are 'utf-8' and 'raw'.\"),\"scroll-on-keystroke\":g.PreferenceManager.definePref_(\"Scroll to bottom after keystroke\",g.PreferenceManager.categories.Scrolling,!0,\"bool\",\"Whether to scroll to the bottom on any keystroke.\"),\"scroll-on-output\":g.PreferenceManager.definePref_(\"Scroll to bottom after new output\",g.PreferenceManager.categories.Scrolling,!1,\"bool\",\"Whether to scroll to the bottom on terminal output.\"),\"scrollbar-visible\":g.PreferenceManager.definePref_(\"Scrollbar visibility\",g.PreferenceManager.categories.Scrolling,!0,\"bool\",\"The vertical scrollbar mode.\"),\"scroll-wheel-may-send-arrow-keys\":g.PreferenceManager.definePref_(\"Emulate arrow keys with scroll wheel\",g.PreferenceManager.categories.Scrolling,!1,\"bool\",\"When using the alternative screen buffer, and DECCKM (Application Cursor Keys) is active, mouse wheel scroll events will emulate arrow keys.\\n\\nIt can be temporarily disabled by holding the Shift key.\\n\\nThis frequently comes up when using pagers (less) or reading man pages or text editors (vi/nano) or using screen/tmux.\"),\"scroll-wheel-move-multiplier\":g.PreferenceManager.definePref_(\"Mouse scroll wheel multiplier\",g.PreferenceManager.categories.Scrolling,1,\"int\",\"The multiplier for scroll wheel events when measured in pixels.\\n\\nAlters how fast the page scrolls.\"),\"terminal-encoding\":g.PreferenceManager.definePref_(\"Terminal encoding\",g.PreferenceManager.categories.Encoding,\"utf-8\",[\"iso-2022\",\"utf-8\",\"utf-8-locked\"],\"The default terminal encoding (DOCS).\\n\\nISO-2022 enables character map translations (like graphics maps).\\nUTF-8 disables support for those.\\n\\nThe locked variant means the encoding cannot be changed at runtime via terminal escape sequences.\\n\\nYou should stick with UTF-8 unless you notice broken rendering with legacy applications.\"),\"shift-insert-paste\":g.PreferenceManager.definePref_(\"Shift-Insert paste\",g.PreferenceManager.categories.Keyboard,!0,\"bool\",\"Whether Shift-Insert is used for pasting or is sent to the remote host.\"),\"user-css\":g.PreferenceManager.definePref_(\"Custom CSS (URI)\",g.PreferenceManager.categories.Appearance,\"\",\"url\",\"URL of user stylesheet to include in the terminal document.\"),\"user-css-text\":g.PreferenceManager.definePref_(\"Custom CSS (inline text)\",g.PreferenceManager.categories.Appearance,\"\",\"multiline-string\",\"Custom CSS text for styling the terminal.\"),\"allow-images-inline\":g.PreferenceManager.definePref_(\"Allow inline image display\",g.PreferenceManager.categories.Extensions,null,\"tristate\",\"Whether to allow the remote host to display images in the terminal.\\n\\nBy default, we prompt until a choice is made.\")},g.PreferenceManager.prototype=Object.create(u.PreferenceManager.prototype),g.PreferenceManager.constructor=g.PreferenceManager,g.PubSub=function(){this.observers_={}},g.PubSub.addBehavior=function(e){var t=new g.PubSub;for(var r in g.PubSub.prototype)e[r]=g.PubSub.prototype[r].bind(t)},g.PubSub.prototype.subscribe=function(e,t){e in this.observers_||(this.observers_[e]=[]),this.observers_[e].push(t)},g.PubSub.prototype.unsubscribe=function(e,t){var r=this.observers_[e];if(!r)throw\"Invalid subject: \"+e;var o=r.indexOf(t);if(0>o)throw\"Not subscribed: \"+e;r.splice(o,1)},g.PubSub.prototype.publish=function(e,t,r){var o=this.observers_[e];o&&(o=[].concat(o)),r&&(o?o.push(r):o=[r]),o&&setTimeout((function e(r){r<o.length-1&&setTimeout(e,0,r+1),o[r](t)}),0,0)},g.Screen=function(e=0){this.rowsArray=[],this.columnCount_=e,this.textAttributes=new g.TextAttributes(window.document),this.cursorPosition=new g.RowCol(0,0),this.cursorState_=new g.Screen.CursorState(this),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=null,this.wordBreakMatchLeft=null,this.wordBreakMatchRight=null,this.wordBreakMatchMiddle=null},g.Screen.prototype.getSize=function(){return new g.Size(this.columnCount_,this.rowsArray.length)},g.Screen.prototype.getHeight=function(){return this.rowsArray.length},g.Screen.prototype.getWidth=function(){return this.columnCount_},g.Screen.prototype.setColumnCount=function(e){this.columnCount_=e,this.cursorPosition.column>=e&&this.setCursorPosition(this.cursorPosition.row,e-1)},g.Screen.prototype.shiftRow=function(){return this.shiftRows(1)[0]},g.Screen.prototype.shiftRows=function(e){return this.rowsArray.splice(0,e)},g.Screen.prototype.unshiftRow=function(e){this.rowsArray.splice(0,0,e)},g.Screen.prototype.unshiftRows=function(e){this.rowsArray.unshift.apply(this.rowsArray,e)},g.Screen.prototype.popRow=function(){return this.popRows(1)[0]},g.Screen.prototype.popRows=function(e){return this.rowsArray.splice(this.rowsArray.length-e,e)},g.Screen.prototype.pushRow=function(e){this.rowsArray.push(e)},g.Screen.prototype.pushRows=function(e){e.push.apply(this.rowsArray,e)},g.Screen.prototype.insertRow=function(e,t){this.rowsArray.splice(e,0,t)},g.Screen.prototype.insertRows=function(e,t){for(var r=0;r<t.length;r++)this.rowsArray.splice(e+r,0,t[r])},g.Screen.prototype.removeRow=function(e){return this.rowsArray.splice(e,1)[0]},g.Screen.prototype.removeRows=function(e,t){return this.rowsArray.splice(e,t)},g.Screen.prototype.invalidateCursorPosition=function(){this.cursorPosition.move(0,0),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=null},g.Screen.prototype.clearCursorRow=function(){this.cursorRowNode_.innerHTML=\"\",this.cursorRowNode_.removeAttribute(\"line-overflow\"),this.cursorOffset_=0,this.cursorPosition.column=0,this.cursorPosition.overflow=!1;var e=this.textAttributes.isDefault()?\"\":\" \".repeat(this.columnCount_),t=this.textAttributes.inverse;this.textAttributes.inverse=!1,this.textAttributes.syncColors();var r=this.textAttributes.createContainer(e);this.cursorRowNode_.appendChild(r),this.cursorNode_=r,this.textAttributes.inverse=t,this.textAttributes.syncColors()},g.Screen.prototype.commitLineOverflow=function(){this.cursorRowNode_.setAttribute(\"line-overflow\",!0)},g.Screen.prototype.setCursorPosition=function(e,t){if(this.rowsArray.length){e>=this.rowsArray.length?(console.error(\"Row out of bounds: \"+e),e=this.rowsArray.length-1):0>e&&(console.error(\"Row out of bounds: \"+e),e=0),t>=this.columnCount_?(console.error(\"Column out of bounds: \"+t),t=this.columnCount_-1):0>t&&(console.error(\"Column out of bounds: \"+t),t=0),this.cursorPosition.overflow=!1;var r=this.rowsArray[e],o=r.firstChild;o||(o=r.ownerDocument.createTextNode(\"\"),r.appendChild(o));var i=0;for(r==this.cursorRowNode_?t>=this.cursorPosition.column-this.cursorOffset_&&(o=this.cursorNode_,i=this.cursorPosition.column-this.cursorOffset_):this.cursorRowNode_=r,this.cursorPosition.move(e,t);o;){var n=t-i,s=g.TextAttributes.nodeWidth(o);if(!o.nextSibling||s>n)return this.cursorNode_=o,void(this.cursorOffset_=n);i+=s,o=o.nextSibling}}else console.warn(\"Attempt to set cursor position on empty screen.\")},g.Screen.prototype.syncSelectionCaret=function(e){try{e.collapse(this.cursorNode_,this.cursorOffset_)}catch(e){}},g.Screen.prototype.splitNode_=function(e,t){var r=e.cloneNode(!1),o=e.textContent;e.textContent=g.TextAttributes.nodeSubstr(e,0,t),r.textContent=u.wc.substr(o,t),r.textContent&&e.parentNode.insertBefore(r,e.nextSibling),e.textContent||e.parentNode.removeChild(e)},g.Screen.prototype.maybeClipCurrentRow=function(){var e=g.TextAttributes.nodeWidth(this.cursorRowNode_);if(e<=this.columnCount_)this.cursorPosition.column>=this.columnCount_&&(this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),this.cursorPosition.overflow=!0);else{var t=this.cursorPosition.column;this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),e=g.TextAttributes.nodeWidth(this.cursorNode_),this.cursorOffset_<e-1&&(this.cursorNode_.textContent=g.TextAttributes.nodeSubstr(this.cursorNode_,0,this.cursorOffset_+1));for(var r=this.cursorRowNode_,o=this.cursorNode_.nextSibling;o;)r.removeChild(o),o=this.cursorNode_.nextSibling;t<this.columnCount_?this.setCursorPosition(this.cursorPosition.row,t):this.cursorPosition.overflow=!0}},g.Screen.prototype.insertString=function(e,t){var r=this.cursorNode_,o=r.textContent;this.cursorRowNode_.removeAttribute(\"line-overflow\"),void 0===t&&(t=u.wc.strWidth(e)),this.cursorPosition.column+=t;var i=this.cursorOffset_,n=g.TextAttributes.nodeWidth(r)-i;if(0>n){const t=\" \".repeat(-n);if(this.textAttributes.underline||this.textAttributes.strikethrough||this.textAttributes.background||this.textAttributes.wcNode||!this.textAttributes.asciiNode||null!=this.textAttributes.tileData)if(r.nodeType!=Node.TEXT_NODE&&(r.wcNode||!r.asciiNode||r.tileNode||r.style.textDecoration||r.style.textDecorationStyle||r.style.textDecorationLine||r.style.backgroundColor)){var s=r.ownerDocument.createTextNode(t);this.cursorRowNode_.insertBefore(s,r.nextSibling),this.cursorNode_=r=s,this.cursorOffset_=i=-n,o=t}else r.textContent=o+=t;else e=t+e;n=0}if(this.textAttributes.matchesContainer(r))return r.textContent=0==n?o+e:0==i?e+o:g.TextAttributes.nodeSubstr(r,0,i)+e+g.TextAttributes.nodeSubstr(r,i),void(this.cursorOffset_+=t);if(0==i){var a=r.previousSibling;if(a&&this.textAttributes.matchesContainer(a))return a.textContent+=e,this.cursorNode_=a,void(this.cursorOffset_=u.wc.strWidth(a.textContent));var l=this.textAttributes.createContainer(e);return this.cursorRowNode_.insertBefore(l,r),this.cursorNode_=l,void(this.cursorOffset_=t)}if(0==n){var c=r.nextSibling;if(c&&this.textAttributes.matchesContainer(c))return c.textContent=e+c.textContent,this.cursorNode_=c,void(this.cursorOffset_=u.wc.strWidth(e));l=this.textAttributes.createContainer(e);return this.cursorRowNode_.insertBefore(l,c),this.cursorNode_=l,void(this.cursorOffset_=g.TextAttributes.nodeWidth(l))}this.splitNode_(r,i);l=this.textAttributes.createContainer(e);this.cursorRowNode_.insertBefore(l,r.nextSibling),this.cursorNode_=l,this.cursorOffset_=t},g.Screen.prototype.overwriteString=function(e,t){var r=this.columnCount_-this.cursorPosition.column;if(r)return void 0===t&&(t=u.wc.strWidth(e)),this.textAttributes.matchesContainer(this.cursorNode_)&&this.cursorNode_.textContent.substr(this.cursorOffset_)==e?(this.cursorOffset_+=t,void(this.cursorPosition.column+=t)):(this.deleteChars(l(t,r)),void this.insertString(e,t))},g.Screen.prototype.deleteChars=function(e){var t=this.cursorNode_,r=this.cursorOffset_,o=this.cursorPosition.column;if(!(e=l(e,this.columnCount_-o)))return 0;for(var i,n,s=e;t&&e;){if(0>e){console.error(`Deleting ${s} chars went negative: ${e}`);break}if(i=g.TextAttributes.nodeWidth(t),t.textContent=g.TextAttributes.nodeSubstr(t,0,r)+g.TextAttributes.nodeSubstr(t,r+e),n=g.TextAttributes.nodeWidth(t),t.wcNode&&r<i&&(n&&i==n||!n&&1==r)){var a=this.textAttributes.createContainer(\" \");t.parentNode.insertBefore(a,r?t:t.nextSibling),t.textContent=\"\",n=0,e-=1}else e-=i-n;var c=t.nextSibling;0==n&&t!=this.cursorNode_&&t.parentNode.removeChild(t),t=c,r=0}if(this.cursorNode_.nodeType!=Node.TEXT_NODE&&!this.cursorNode_.textContent){var h=this.cursorNode_;if(h.previousSibling)this.cursorNode_=h.previousSibling,this.cursorOffset_=g.TextAttributes.nodeWidth(h.previousSibling);else if(h.nextSibling)this.cursorNode_=h.nextSibling,this.cursorOffset_=0;else{var u=this.cursorRowNode_.ownerDocument.createTextNode(\"\");this.cursorRowNode_.appendChild(u),this.cursorNode_=u,this.cursorOffset_=0}this.cursorRowNode_.removeChild(h)}return s},g.Screen.prototype.getLineStartRow_=function(e){for(;e.previousSibling&&e.previousSibling.hasAttribute(\"line-overflow\");)e=e.previousSibling;return e},g.Screen.prototype.getLineText_=function(e){for(var t=\"\";e&&(t+=e.textContent,e.hasAttribute(\"line-overflow\"));)e=e.nextSibling;return t},g.Screen.prototype.getXRowAncestor_=function(e){for(;e&&\"X-ROW\"!==e.nodeName;)e=e.parentNode;return e},g.Screen.prototype.getPositionWithOverflow_=function(e,t,r){if(!t)return-1;var o=this.getXRowAncestor_(t);if(!o)return-1;for(var i=0;o!=e;){if(i+=g.TextAttributes.nodeWidth(e),!e.hasAttribute(\"line-overflow\")||!e.nextSibling)return-1;e=e.nextSibling}return i+this.getPositionWithinRow_(e,t,r)},g.Screen.prototype.getPositionWithinRow_=function(e,t,r){if(t.parentNode!=e)return null==t.parentNode?-1:this.getPositionWithinRow_(t.parentNode,t,r)+this.getPositionWithinRow_(e,t.parentNode,0);for(var o,i=0,n=0;n<e.childNodes.length;n++){if((o=e.childNodes[n])==t)return i+r;i+=g.TextAttributes.nodeWidth(o)}return-1},g.Screen.prototype.getNodeAndOffsetWithOverflow_=function(e,t){for(;e&&t>g.TextAttributes.nodeWidth(e);){if(!e.hasAttribute(\"line-overflow\")||!e.nextSibling)return-1;t-=g.TextAttributes.nodeWidth(e),e=e.nextSibling}return this.getNodeAndOffsetWithinRow_(e,t)},g.Screen.prototype.getNodeAndOffsetWithinRow_=function(e,t){for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r],i=g.TextAttributes.nodeWidth(o);if(t<=i)return\"SPAN\"===o.nodeName?this.getNodeAndOffsetWithinRow_(o,t):[o,t];t-=i}return null},g.Screen.prototype.setRange_=function(e,t,r,o){var i=this.getNodeAndOffsetWithOverflow_(e,t);if(null!=i){var n=this.getNodeAndOffsetWithOverflow_(e,r);null==n||(o.setStart(i[0],i[1]),o.setEnd(n[0],n[1]))}},g.Screen.prototype.expandSelectionWithWordBreakMatches_=function(e,t,r,o){if(e){var i=e.getRangeAt(0);if(i&&!i.toString().match(/\\s/)){const _=this.getXRowAncestor_(i.startContainer);if(_){const y=this.getLineStartRow_(_);if(y){var n=this.getPositionWithOverflow_(y,i.startContainer,i.startOffset);if(-1!=n){var s=this.getPositionWithOverflow_(y,i.endContainer,i.endOffset);if(-1!=s){var a=this.getLineText_(y),l=u.wc.substring(a,0,s),c=new RegExp(t+o+\"$\"),h=l.search(c);if(!(-1==h||h>n)){var g=u.wc.substring(a,n,u.wc.strWidth(a)),f=new RegExp(\"^\"+o+r),p=g.match(f);if(p){var d=n+u.wc.strWidth(p[0]);-1==d||d<s||(this.setRange_(y,h,d,i),e.addRange(i))}}}}}}}}},g.Screen.prototype.expandSelection=function(e){this.expandSelectionWithWordBreakMatches_(e,this.wordBreakMatchLeft,this.wordBreakMatchRight,this.wordBreakMatchMiddle)},g.Screen.prototype.expandSelectionForUrl=function(e){this.expandSelectionWithWordBreakMatches_(e,\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:`]\",\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:~.`]\",\"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^]*\")},g.Screen.prototype.saveCursorAndState=function(e){this.cursorState_.save(e)},g.Screen.prototype.restoreCursorAndState=function(e){this.cursorState_.restore(e)},g.Screen.CursorState=function(e){this.screen_=e,this.cursor=null,this.textAttributes=null,this.GL=this.GR=this.G0=this.G1=this.G2=this.G3=null},g.Screen.CursorState.prototype.save=function(e){this.cursor=e.terminal.saveCursor(),this.textAttributes=this.screen_.textAttributes.clone(),this.GL=e.GL,this.GR=e.GR,this.G0=e.G0,this.G1=e.G1,this.G2=e.G2,this.G3=e.G3},g.Screen.CursorState.prototype.restore=function(e){e.terminal.restoreCursor(this.cursor);const t=this.textAttributes.clone();t.colorPalette=this.screen_.textAttributes.colorPalette,t.syncColors(),this.screen_.textAttributes=t,e.GL=this.GL,e.GR=this.GR,e.G0=this.G0,e.G1=this.G1,e.G2=this.G2,e.G3=this.G3},g.ScrollPort=function(e){g.PubSub.addBehavior(this),this.rowProvider_=e,this.characterSize=new g.Size(10,10),this.ruler_=null,this.selection=new g.ScrollPort.Selection(this),this.currentRowNodeCache_=null,this.previousRowNodeCache_={},this.lastScreenWidth_=null,this.lastScreenHeight_=null,this.selectionEnabled_=!0,this.lastRowCount_=0,this.scrollWheelMultiplier_=1,this.lastTouch_={},this.isScrolledEnd=!0,this.currentScrollbarWidthPx=16,this.ctrlVPaste=!1,this.pasteOnDrop=!0,this.div_=null,this.document_=null,this.timeouts_={},this.observers_={},this.ariaHiddenSelectionRows_=[],this.DEBUG_=!1},g.ScrollPort.Selection=function(e){this.scrollPort_=e,this.startRow=null,this.endRow=null,this.isMultiline=null,this.isCollapsed=null},g.ScrollPort.Selection.prototype.findFirstChild=function(e,t){for(var r=e.firstChild;r;){if(-1!=t.indexOf(r))return r;if(r.childNodes.length){var o=this.findFirstChild(r,t);if(o)return o}r=r.nextSibling}return null},g.ScrollPort.Selection.prototype.sync=function(){function e(){r.startRow=i,r.startNode=o.anchorNode,r.startOffset=o.anchorOffset,r.endRow=n,r.endNode=o.focusNode,r.endOffset=o.focusOffset}function t(){r.startRow=n,r.startNode=o.focusNode,r.startOffset=o.focusOffset,r.endRow=i,r.endNode=o.anchorNode,r.endOffset=o.anchorOffset}var r=this,o=this.scrollPort_.getDocument().getSelection();if(this.startRow=null,this.endRow=null,this.isMultiline=null,this.isCollapsed=!o||o.isCollapsed,o){const r=this.scrollPort_.accessibilityReader_&&this.scrollPort_.accessibilityReader_.accessibilityEnabled;if(!this.isCollapsed||r){for(var i=o.anchorNode;i&&\"X-ROW\"!=i.nodeName;)i=i.parentNode;if(i){for(var n=o.focusNode;n&&\"X-ROW\"!=n.nodeName;)n=n.parentNode;if(n){if(i.rowIndex<n.rowIndex)e();else if(i.rowIndex>n.rowIndex)t();else if(o.focusNode==o.anchorNode)o.anchorOffset<o.focusOffset?e():t();else{var s=this.findFirstChild(i,[o.anchorNode,o.focusNode]);if(!s)throw new Error(\"Unexpected error syncing selection.\");s==o.anchorNode?e():t()}this.isMultiline=i.rowIndex!=n.rowIndex}}}}},g.ScrollPort.prototype.decorate=function(e,t){this.div_=e,this.iframe_=e.ownerDocument.createElement(\"iframe\"),this.iframe_.style.cssText=\"border: 0;height: 100%;position: absolute;width: 100%\",e.appendChild(this.iframe_);const r=()=>{this.paintIframeContents_(),t&&t()};\"mozInnerScreenX\"in window?this.iframe_.addEventListener(\"load\",()=>r()):r()},g.ScrollPort.prototype.paintIframeContents_=function(){this.iframe_.contentWindow.addEventListener(\"resize\",this.onResize_.bind(this));var e=this.document_=this.iframe_.contentDocument;e.body.style.cssText=\"margin: 0px;padding: 0px;height: 100%;width: 100%;overflow: hidden;cursor: var(--hterm-mouse-cursor-style);-webkit-user-select: none;-moz-user-select: none;\";const t=e.createElement(\"meta\");t.setAttribute(\"charset\",\"utf-8\"),e.head.appendChild(t),this.DEBUG_&&(this.document_.body.style.paddingTop=this.document_.body.style.paddingBottom=\"calc(var(--hterm-charsize-height) * 3)\");var r=e.createElement(\"style\");r.textContent=\"x-row {  display: block;  height: var(--hterm-charsize-height);  line-height: var(--hterm-charsize-height);}\",e.head.appendChild(r),this.userCssLink_=e.createElement(\"link\"),this.userCssLink_.setAttribute(\"rel\",\"stylesheet\"),this.userCssText_=e.createElement(\"style\"),e.head.appendChild(this.userCssText_),this.screen_=e.createElement(\"x-screen\"),this.screen_.setAttribute(\"contenteditable\",\"true\"),this.screen_.setAttribute(\"spellcheck\",\"false\"),this.screen_.setAttribute(\"autocomplete\",\"off\"),this.screen_.setAttribute(\"autocorrect\",\"off\"),this.screen_.setAttribute(\"autocapitalize\",\"none\"),this.screen_.setAttribute(\"role\",\"log\"),this.screen_.setAttribute(\"aria-live\",\"off\"),this.screen_.setAttribute(\"aria-roledescription\",\"Terminal\"),this.screen_.setAttribute(\"aria-readonly\",\"true\"),this.screen_.setAttribute(\"tabindex\",\"-1\"),this.screen_.style.cssText=\"caret-color: transparent;display: block;font-family: monospace;font-size: 15px;font-variant-ligatures: none;height: 100%;overflow-y: scroll; overflow-x: hidden;white-space: pre;width: 100%;outline: none !important\",e.body.appendChild(this.screen_),this.screen_.addEventListener(\"scroll\",this.onScroll_.bind(this)),this.screen_.addEventListener(\"wheel\",this.onScrollWheel_.bind(this)),this.screen_.addEventListener(\"touchstart\",this.onTouch_.bind(this)),this.screen_.addEventListener(\"touchmove\",this.onTouch_.bind(this)),this.screen_.addEventListener(\"touchend\",this.onTouch_.bind(this)),this.screen_.addEventListener(\"touchcancel\",this.onTouch_.bind(this)),this.screen_.addEventListener(\"copy\",this.onCopy_.bind(this)),this.screen_.addEventListener(\"paste\",this.onPaste_.bind(this)),this.screen_.addEventListener(\"drop\",this.onDragAndDrop_.bind(this)),e.body.addEventListener(\"keydown\",this.onBodyKeyDown_.bind(this));const o=\"right: 0px;\\n                             position:fixed;\\n                             z-index: 1;\\n                             text-align: center;\\n                             cursor: pointer;\\n                             height: 30px;\\n                             width: 110px;\\n                             line-height: 30px;\\n                             border-width: 1px;\\n                             border-style: solid;\\n                             font-weight: bold;\";this.scrollUpButton_=this.document_.createElement(\"div\"),this.scrollUpButton_.id=\"hterm:a11y:page-up\",this.scrollUpButton_.innerText=g.msg(\"BUTTON_PAGE_UP\",[],\"Page up\"),this.scrollUpButton_.setAttribute(\"role\",\"button\"),this.scrollUpButton_.style.cssText=o,this.scrollUpButton_.style.top=\"-32px\",this.scrollUpButton_.addEventListener(\"click\",this.scrollPageUp.bind(this)),this.scrollDownButton_=this.document_.createElement(\"div\"),this.scrollDownButton_.id=\"hterm:a11y:page-down\",this.scrollDownButton_.innerText=g.msg(\"BUTTON_PAGE_DOWN\",[],\"Page down\"),this.scrollDownButton_.setAttribute(\"role\",\"button\"),this.scrollDownButton_.style.cssText=o,this.scrollDownButton_.style.bottom=\"-32px\",this.scrollDownButton_.addEventListener(\"click\",this.scrollPageDown.bind(this)),this.allowScrollButtonsToDisplay_=!1,setTimeout(()=>{this.allowScrollButtonsToDisplay_=!0},500),this.document_.addEventListener(\"selectionchange\",()=>{if(this.selection.sync(),this.allowScrollButtonsToDisplay_){const e=this.accessibilityReader_&&this.accessibilityReader_.accessibilityEnabled,t=this.document_.getSelection().anchorNode;this.scrollUpButton_.style.top=e&&t==this.scrollUpButton_?\"0px\":\"-32px\",this.scrollDownButton_.style.bottom=e&&t==this.scrollDownButton_?\"0px\":\"-32px\"}}),this.screen_.appendChild(this.scrollUpButton_),this.rowNodes_=e.createElement(\"div\"),this.rowNodes_.id=\"hterm:row-nodes\",this.rowNodes_.style.cssText=\"display: block;position: fixed;overflow: hidden;-webkit-user-select: text;-moz-user-select: text;\",this.screen_.appendChild(this.rowNodes_),this.screen_.appendChild(this.scrollDownButton_),this.topSelectBag_=e.createElement(\"x-select-bag\"),this.topSelectBag_.style.cssText=\"display: block;overflow: hidden;height: var(--hterm-charsize-height);white-space: pre;\",this.bottomSelectBag_=this.topSelectBag_.cloneNode(),this.topFold_=e.createElement(\"x-fold\"),this.topFold_.id=\"hterm:top-fold-for-row-selection\",this.topFold_.style.cssText=\"display: block;\",this.rowNodes_.appendChild(this.topFold_),this.bottomFold_=this.topFold_.cloneNode(),this.bottomFold_.id=\"hterm:bottom-fold-for-row-selection\",this.rowNodes_.appendChild(this.bottomFold_),this.scrollArea_=e.createElement(\"div\"),this.scrollArea_.id=\"hterm:scrollarea\",this.scrollArea_.style.cssText=\"visibility: hidden\",this.screen_.appendChild(this.scrollArea_);var i=\"http://www.w3.org/2000/svg\";this.svg_=this.div_.ownerDocument.createElementNS(i,\"svg\"),this.svg_.id=\"hterm:zoom-detector\",this.svg_.setAttribute(\"xmlns\",i),this.svg_.setAttribute(\"version\",\"1.1\"),this.svg_.style.cssText=\"position: absolute;top: 0;left: 0;visibility: hidden\",this.pasteTarget_=e.createElement(\"textarea\"),this.pasteTarget_.id=\"hterm:ctrl-v-paste-target\",this.pasteTarget_.setAttribute(\"tabindex\",\"-1\"),this.pasteTarget_.setAttribute(\"aria-hidden\",\"true\"),this.pasteTarget_.style.cssText=\"position: absolute;height: 1px;width: 1px;left: 0px; bottom: 0px;opacity: 0\",this.pasteTarget_.contentEditable=!0,this.screen_.appendChild(this.pasteTarget_),this.pasteTarget_.addEventListener(\"textInput\",this.handlePasteTargetTextInput_.bind(this)),this.resize()},g.ScrollPort.prototype.setAccessibilityReader=function(e){this.accessibilityReader_=e},g.ScrollPort.prototype.scrollPageUp=function(){if(0!=this.getTopRowIndex()){const e=this.getTopRowIndex();this.scrollRowToTop(e-this.visibleRowCount+1),this.assertiveAnnounce_()}},g.ScrollPort.prototype.scrollPageDown=function(){if(!this.isScrolledEnd){const e=this.getTopRowIndex();this.scrollRowToTop(e+this.visibleRowCount-1),this.assertiveAnnounce_()}},g.ScrollPort.prototype.setFontFamily=function(e,t){this.screen_.style.fontFamily=e,this.screen_.style.webkitFontSmoothing=t||\"\",this.syncCharacterSize()},g.ScrollPort.prototype.getFontFamily=function(){return this.screen_.style.fontFamily},g.ScrollPort.prototype.setUserCssUrl=function(e){e?(this.userCssLink_.setAttribute(\"href\",e),!this.userCssLink_.parentNode&&this.document_.head.appendChild(this.userCssLink_)):this.userCssLink_.parentNode&&this.document_.head.removeChild(this.userCssLink_)},g.ScrollPort.prototype.setUserCssText=function(e){this.userCssText_.textContent=e},g.ScrollPort.prototype.focus=function(){this.iframe_.focus(),this.screen_.focus(),this.publish(\"focus\")},g.ScrollPort.prototype.getForegroundColor=function(){return this.screen_.style.color},g.ScrollPort.prototype.setForegroundColor=function(e){this.screen_.style.color=e,this.scrollUpButton_.style.backgroundColor=e,this.scrollDownButton_.style.backgroundColor=e},g.ScrollPort.prototype.getBackgroundColor=function(){return this.screen_.style.backgroundColor},g.ScrollPort.prototype.setBackgroundColor=function(e){this.screen_.style.backgroundColor=e,this.scrollUpButton_.style.color=e,this.scrollDownButton_.style.color=e},g.ScrollPort.prototype.setBackgroundImage=function(e){this.screen_.style.backgroundImage=e},g.ScrollPort.prototype.setBackgroundSize=function(e){this.screen_.style.backgroundSize=e},g.ScrollPort.prototype.setBackgroundPosition=function(e){this.screen_.style.backgroundPosition=e},g.ScrollPort.prototype.setCtrlVPaste=function(e){this.ctrlVPaste=e},g.ScrollPort.prototype.setPasteOnDrop=function(e){this.pasteOnDrop=e},g.ScrollPort.prototype.getScreenSize=function(){var e=g.getClientSize(this.screen_);return{height:e.height,width:e.width-this.currentScrollbarWidthPx}},g.ScrollPort.prototype.getScreenWidth=function(){return this.getScreenSize().width},g.ScrollPort.prototype.getScreenHeight=function(){return this.getScreenSize().height},g.ScrollPort.prototype.getDocument=function(){return this.document_},g.ScrollPort.prototype.getScreenNode=function(){return this.screen_},g.ScrollPort.prototype.resetCache=function(){this.currentRowNodeCache_=null,this.previousRowNodeCache_={}},g.ScrollPort.prototype.setRowProvider=function(e){this.resetCache(),this.rowProvider_=e,this.scheduleRedraw()},g.ScrollPort.prototype.invalidate=function(){for(var e,t=this.topFold_.nextSibling;t!=this.bottomFold_;)e=t.nextSibling,t.parentElement.removeChild(t),t=e;this.previousRowNodeCache_=null;var r=this.getTopRowIndex(),o=this.getBottomRowIndex(r);this.drawVisibleRows_(r,o)},g.ScrollPort.prototype.scheduleInvalidate=function(){if(!this.timeouts_.invalidate){var e=this;this.timeouts_.invalidate=setTimeout((function(){delete e.timeouts_.invalidate,e.invalidate()}),0)}},g.ScrollPort.prototype.setFontSize=function(e){this.screen_.style.fontSize=e+\"px\",this.syncCharacterSize()},g.ScrollPort.prototype.getFontSize=function(){return parseInt(this.screen_.style.fontSize)},g.ScrollPort.prototype.measureCharacterSize=function(e){this.ruler_||(this.ruler_=this.document_.createElement(\"div\"),this.ruler_.id=\"hterm:ruler-character-size\",this.ruler_.style.cssText=\"position: absolute;top: 0;left: 0;visibility: hidden;height: auto !important;width: auto !important;\",this.rulerSpan_=this.document_.createElement(\"span\"),this.rulerSpan_.id=\"hterm:ruler-span-workaround\",this.rulerSpan_.innerHTML=(\"X\".repeat(100)+\"\\r\").repeat(100),this.ruler_.appendChild(this.rulerSpan_),this.rulerBaseline_=this.document_.createElement(\"span\"),this.rulerSpan_.id=\"hterm:ruler-baseline\",this.rulerBaseline_.style.fontSize=\"0px\",this.rulerBaseline_.textContent=\"X\"),this.rulerSpan_.style.fontWeight=e||\"\",this.rowNodes_.appendChild(this.ruler_);var t=g.getClientSize(this.rulerSpan_),r=new g.Size(t.width/100,t.height/100);return this.ruler_.appendChild(this.rulerBaseline_),this.ruler_.removeChild(this.rulerBaseline_),this.rowNodes_.removeChild(this.ruler_),this.div_.ownerDocument.body.appendChild(this.svg_),r.zoomFactor=this.svg_.currentScale,this.div_.ownerDocument.body.removeChild(this.svg_),r},g.ScrollPort.prototype.syncCharacterSize=function(){this.characterSize=this.measureCharacterSize(),this.resize()},g.ScrollPort.prototype.resize=function(){this.currentScrollbarWidthPx=g.getClientWidth(this.screen_)-this.screen_.clientWidth,this.syncScrollHeight(),this.syncRowNodesDimensions_();var e=this;this.publish(\"resize\",{scrollPort:this},(function(){e.scrollRowToBottom(e.rowProvider_.getRowCount()),e.scheduleRedraw()}))},g.ScrollPort.prototype.assertiveAnnounce_=function(){if(!this.accessibilityReader_)return;const e=this.getTopRowIndex(),t=this.getBottomRowIndex(e);let r=100*e/i(1,this.rowProvider_.getRowCount()-this.visibleRowCount);r=l(100,a(r));let o=g.msg(\"ANNOUNCE_CURRENT_SCREEN_HEADER\",[r],\"$1% scrolled,\");o+=\"\\n\";for(let r=e;r<=t;++r){o+=this.fetchRowNode_(r).textContent+\"\\n\"}this.accessibilityReader_.assertiveAnnounce(o)},g.ScrollPort.prototype.syncRowNodesDimensions_=function(){var e=this.getScreenSize();this.lastScreenWidth_=e.width,this.lastScreenHeight_=e.height,this.visibleRowCount=u.f.smartFloorDivide(e.height,this.characterSize.height);var t=this.visibleRowCount*this.characterSize.height;this.visibleRowTopMargin=0,this.visibleRowBottomMargin=e.height-t,this.topFold_.style.marginBottom=this.visibleRowTopMargin+\"px\";for(var r=0,o=this.topFold_.previousSibling;o;)r+=g.getClientHeight(o),o=o.previousSibling;this.rowNodes_.style.width=e.width+\"px\",this.rowNodes_.style.height=t+r+\"px\",this.rowNodes_.style.left=this.screen_.offsetLeft+\"px\",this.rowNodes_.style.top=this.screen_.offsetTop-r+\"px\"},g.ScrollPort.prototype.syncScrollHeight=function(){this.lastRowCount_=this.rowProvider_.getRowCount(),this.scrollArea_.style.height=this.characterSize.height*this.lastRowCount_+this.visibleRowTopMargin+this.visibleRowBottomMargin+\"px\"},g.ScrollPort.prototype.scheduleRedraw=function(){if(!this.timeouts_.redraw){var e=this;this.timeouts_.redraw=setTimeout((function(){delete e.timeouts_.redraw,e.redraw_()}),0)}},g.ScrollPort.prototype.updateScrollButtonState_=function(){const e=(e,t)=>{e.setAttribute(\"aria-disabled\",t?\"true\":\"false\"),e.style.opacity=t?.5:1};e(this.scrollUpButton_,0==this.getTopRowIndex()),e(this.scrollDownButton_,this.isScrolledEnd)},g.ScrollPort.prototype.redraw_=function(){this.resetSelectBags_(),this.selection.sync(),this.syncScrollHeight(),this.currentRowNodeCache_={};var e=this.getTopRowIndex(),t=this.getBottomRowIndex(e);this.drawTopFold_(e),this.drawBottomFold_(t),this.drawVisibleRows_(e,t),this.ariaHideOffscreenSelectionRows_(e,t),this.syncRowNodesDimensions_(),this.previousRowNodeCache_=this.currentRowNodeCache_,this.currentRowNodeCache_=null,this.isScrolledEnd=this.getTopRowIndex()+this.visibleRowCount>=this.lastRowCount_,this.updateScrollButtonState_()},g.ScrollPort.prototype.drawTopFold_=function(e){if(!this.selection.startRow||this.selection.startRow.rowIndex>=e)this.rowNodes_.firstChild!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.rowNodes_.firstChild);else{if(!this.selection.isMultiline||this.selection.endRow.rowIndex>=e)this.selection.startRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.startRow.nextSibling);else for(this.selection.endRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.endRow.nextSibling);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.firstChild!=this.selection.startRow;)this.rowNodes_.removeChild(this.rowNodes_.firstChild)}},g.ScrollPort.prototype.drawBottomFold_=function(e){if(!this.selection.endRow||this.selection.endRow.rowIndex<=e)this.rowNodes_.lastChild!=this.bottomFold_&&this.rowNodes_.appendChild(this.bottomFold_);else{if(!this.selection.isMultiline||this.selection.startRow.rowIndex<=e)this.bottomFold_.nextSibling!=this.selection.endRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.endRow);else for(this.bottomFold_.nextSibling!=this.selection.startRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.startRow);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.lastChild!=this.selection.endRow;)this.rowNodes_.removeChild(this.rowNodes_.lastChild)}},g.ScrollPort.prototype.drawVisibleRows_=function(e){function t(e,t){for(;e!=t;){if(!e)throw\"Did not encounter target node\";if(e==o.bottomFold_)throw\"Encountered bottom fold before target node\";var r=e;e=e.nextSibling,r.parentNode.removeChild(r)}}for(var r,o=this,i=this.selection.startRow,n=this.selection.endRow,s=this.bottomFold_,a=this.topFold_.nextSibling,c=l(this.visibleRowCount,this.rowProvider_.getRowCount()),h=0;h<c;h++)if(r=e+h,a!=s)if(a.rowIndex!=r)if(i&&i.rowIndex==r)t(a,i),a=i.nextSibling;else if(n&&n.rowIndex==r)t(a,n),a=n.nextSibling;else if(a!=i&&a!=n){if(!(u=this.fetchRowNode_(r))){console.log(\"Couldn't fetch row index: \"+r);break}a!=u?(this.rowNodes_.insertBefore(u,a),u.nextSibling,this.rowNodes_.removeChild(a),a=u.nextSibling):a=a.nextSibling}else{if(!(u=this.fetchRowNode_(r))){console.log(\"Couldn't fetch row index: \"+r);break}this.rowNodes_.insertBefore(u,a)}else a=a.nextSibling;else{var u;if(!(u=this.fetchRowNode_(r))){console.log(\"Couldn't fetch row index: \"+r);break}this.rowNodes_.insertBefore(u,a)}a!=this.bottomFold_&&t(a,s)},g.ScrollPort.prototype.ariaHideOffscreenSelectionRows_=function(e,t){function r(r){r&&(r.rowIndex<e||r.rowIndex>t)&&(r.setAttribute(\"aria-hidden\",\"true\"),o.push(r))}const o=this.ariaHiddenSelectionRows_;for(let e;e=o.pop();)e.removeAttribute(\"aria-hidden\");r(this.selection.startRow),r(this.selection.endRow)},g.ScrollPort.prototype.resetSelectBags_=function(){this.topSelectBag_.parentNode&&(this.topSelectBag_.textContent=\"\",this.topSelectBag_.parentNode.removeChild(this.topSelectBag_)),this.bottomSelectBag_.parentNode&&(this.bottomSelectBag_.textContent=\"\",this.bottomSelectBag_.parentNode.removeChild(this.bottomSelectBag_))},g.ScrollPort.prototype.cacheRowNode_=function(e){this.currentRowNodeCache_[e.rowIndex]=e},g.ScrollPort.prototype.fetchRowNode_=function(e){var t;return t=this.previousRowNodeCache_&&e in this.previousRowNodeCache_?this.previousRowNodeCache_[e]:this.rowProvider_.getRowNode(e),this.currentRowNodeCache_&&this.cacheRowNode_(t),t},g.ScrollPort.prototype.selectAll=function(){var e;if(0!=this.topFold_.nextSibling.rowIndex){for(;this.topFold_.previousSibling;)this.rowNodes_.removeChild(this.topFold_.previousSibling);e=this.fetchRowNode_(0),this.rowNodes_.insertBefore(e,this.topFold_),this.syncRowNodesDimensions_()}else e=this.topFold_.nextSibling;var t,r=this.rowProvider_.getRowCount()-1;if(this.bottomFold_.previousSibling.rowIndex!=r){for(;this.bottomFold_.nextSibling;)this.rowNodes_.removeChild(this.bottomFold_.nextSibling);t=this.fetchRowNode_(r),this.rowNodes_.appendChild(t)}else t=this.bottomFold_.previousSibling.rowIndex;var o=this.document_.getSelection();o.collapse(e,0),o.extend(t,t.childNodes.length),this.selection.sync()},g.ScrollPort.prototype.getScrollMax_=function(){return g.getClientHeight(this.scrollArea_)+this.visibleRowTopMargin+this.visibleRowBottomMargin-g.getClientHeight(this.screen_)},g.ScrollPort.prototype.scrollRowToTop=function(e){this.syncScrollHeight(),this.isScrolledEnd=e+this.visibleRowCount>=this.lastRowCount_;var t=e*this.characterSize.height+this.visibleRowTopMargin,r=this.getScrollMax_();t>r&&(t=r),this.screen_.scrollTop==t||(this.screen_.scrollTop=t,this.scheduleRedraw())},g.ScrollPort.prototype.scrollRowToBottom=function(e){this.syncScrollHeight(),this.isScrolledEnd=e+this.visibleRowCount>=this.lastRowCount_;var t=e*this.characterSize.height+this.visibleRowTopMargin+this.visibleRowBottomMargin;0>(t-=this.visibleRowCount*this.characterSize.height)&&(t=0),this.screen_.scrollTop==t||(this.screen_.scrollTop=t)},g.ScrollPort.prototype.getTopRowIndex=function(){return a(this.screen_.scrollTop/this.characterSize.height)},g.ScrollPort.prototype.getBottomRowIndex=function(e){return e+this.visibleRowCount-1},g.ScrollPort.prototype.onScroll_=function(){var e=this.getScreenSize();return e.width!=this.lastScreenWidth_||e.height!=this.lastScreenHeight_?void this.resize():(this.redraw_(),void this.publish(\"scroll\",{scrollPort:this}))},g.ScrollPort.prototype.onScrollWheel=function(){},g.ScrollPort.prototype.onScrollWheel_=function(e){if(this.onScrollWheel(e),e.defaultPrevented||!e.cancelable)return;const t=this.scrollWheelDelta(e);let r=this.screen_.scrollTop-t.y;0>r&&(r=0);var o=this.getScrollMax_();r>o&&(r=o),r!=this.screen_.scrollTop&&(this.screen_.scrollTop=r,e.preventDefault())},g.ScrollPort.prototype.scrollWheelDelta=function(e){const t={x:0,y:0};switch(e.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:t.x=e.deltaX*this.scrollWheelMultiplier_,t.y=e.deltaY*this.scrollWheelMultiplier_;break;case WheelEvent.DOM_DELTA_LINE:t.x=e.deltaX*this.characterSize.width,t.y=e.deltaY*this.characterSize.height;break;case WheelEvent.DOM_DELTA_PAGE:t.x=e.deltaX*this.characterSize.width*this.screen_.getWidth(),t.y=e.deltaY*this.characterSize.height*this.screen_.getHeight()}return t.y*=-1,t},g.ScrollPort.prototype.onTouch=function(){},g.ScrollPort.prototype.onTouch_=function(e){if(this.onTouch(e),!e.defaultPrevented){var t,r,o=function(e){return{id:e.identifier,y:e.clientY,x:e.clientX}};switch(e.type){case\"touchstart\":for(\"cros\"==g.os&&window.chrome&&chrome.windows&&chrome.windows.getCurrent(e=>{e.focused||chrome.windows.update(e.id,{focused:!0})}),t=0;t<e.changedTouches.length;++t)r=o(e.changedTouches[t]),this.lastTouch_[r.id]=r;break;case\"touchcancel\":case\"touchend\":for(t=0;t<e.changedTouches.length;++t)delete this.lastTouch_[e.changedTouches[t].identifier];break;case\"touchmove\":var i=0;for(t=0;t<e.changedTouches.length;++t)r=o(e.changedTouches[t]),i+=this.lastTouch_[r.id].y-r.y,this.lastTouch_[r.id]=r;i*=-1;var n=this.screen_.scrollTop-i;0>n&&(n=0);var s=this.getScrollMax_();n>s&&(n=s),n!=this.screen_.scrollTop&&(this.screen_.scrollTop=n)}e.preventDefault()}},g.ScrollPort.prototype.onResize_=function(){this.syncCharacterSize()},g.ScrollPort.prototype.onCopy=function(){},g.ScrollPort.prototype.onCopy_=function(e){if(!(this.onCopy(e),e.defaultPrevented||(this.resetSelectBags_(),this.selection.sync(),this.selection.isCollapsed||2>this.selection.endRow.rowIndex-this.selection.startRow.rowIndex))){var t,r,o=this.getTopRowIndex(),i=this.getBottomRowIndex(o);if(this.selection.startRow.rowIndex<o)t=this.selection.endRow.rowIndex<o?this.selection.endRow.rowIndex:this.topFold_.nextSibling.rowIndex,this.topSelectBag_.textContent=this.rowProvider_.getRowsText(this.selection.startRow.rowIndex+1,t),this.rowNodes_.insertBefore(this.topSelectBag_,this.selection.startRow.nextSibling),this.syncRowNodesDimensions_();if(this.selection.endRow.rowIndex>i)r=this.selection.startRow.rowIndex>i?this.selection.startRow.rowIndex+1:this.bottomFold_.previousSibling.rowIndex+1,this.bottomSelectBag_.textContent=this.rowProvider_.getRowsText(r,this.selection.endRow.rowIndex),this.rowNodes_.insertBefore(this.bottomSelectBag_,this.selection.endRow)}},g.ScrollPort.prototype.onBodyKeyDown_=function(e){!this.ctrlVPaste||(e.ctrlKey||e.metaKey)&&86==e.keyCode&&this.pasteTarget_.focus()},g.ScrollPort.prototype.onPaste_=function(){this.pasteTarget_.focus();var e=this;setTimeout((function(){e.publish(\"paste\",{text:e.pasteTarget_.value}),e.pasteTarget_.value=\"\",e.focus()}),0)},g.ScrollPort.prototype.handlePasteTargetTextInput_=function(e){e.stopPropagation()},g.ScrollPort.prototype.onDragAndDrop_=function(e){if(!this.pasteOnDrop)return;let t,r;e.preventDefault(),e.shiftKey&&(e.dataTransfer.types.forEach(e=>{!r&&\"text/plain\"!=e&&e.startsWith(\"text/\")&&(r=e)}),r&&(t=e.dataTransfer.getData(r))),t||(t=e.dataTransfer.getData(\"text/plain\")),t&&this.publish(\"paste\",{text:t})},g.ScrollPort.prototype.setScrollbarVisible=function(e){this.screen_.style.overflowY=e?\"scroll\":\"hidden\"},g.ScrollPort.prototype.setScrollWheelMoveMultipler=function(e){this.scrollWheelMultiplier_=e},g.Terminal=function(e){this.profileId_=null,this.primaryScreen_=new g.Screen,this.alternateScreen_=new g.Screen,this.screen_=this.primaryScreen_,this.screenSize=new g.Size(0,0),this.scrollPort_=new g.ScrollPort(this),this.scrollPort_.subscribe(\"resize\",this.onResize_.bind(this)),this.scrollPort_.subscribe(\"scroll\",this.onScroll_.bind(this)),this.scrollPort_.subscribe(\"paste\",this.onPaste_.bind(this)),this.scrollPort_.subscribe(\"focus\",this.onScrollportFocus_.bind(this)),this.scrollPort_.onCopy=this.onCopy_.bind(this),this.div_=null,this.document_=window.document,this.scrollbackRows_=[],this.tabStops_=[],this.defaultTabStops=!0,this.vtScrollTop_=null,this.vtScrollBottom_=null,this.cursorNode_=null,this.cursorShape_=g.Terminal.cursorShape.BLOCK,this.cursorBlinkCycle_=[100,100],this.myOnCursorBlink_=this.onCursorBlink_.bind(this),this.backgroundColor_=null,this.foregroundColor_=null,this.scrollOnOutput_=null,this.scrollOnKeystroke_=null,this.scrollWheelArrowKeys_=null,this.defeatMouseReports_=!1,this.setAutomaticMouseHiding(),this.mouseHideDelay_=null,this.bellAudio_=this.document_.createElement(\"audio\"),this.bellAudio_.id=\"hterm:bell-audio\",this.bellAudio_.setAttribute(\"preload\",\"auto\"),this.accessibilityReader_=null,this.contextMenu=new g.ContextMenu,this.bellNotificationList_=[],this.desktopNotificationBell_=!1,this.savedOptions_={},this.options_=new g.Options,this.timeouts_={},this.vt=new g.VT(this),this.saveCursorAndState(!0),this.keyboard=new g.Keyboard(this),this.io=new g.Terminal.IO(this),this.enableMouseDragScroll=!0,this.copyOnSelect=null,this.mouseRightClickPaste=null,this.mousePasteButton=null,this.useDefaultWindowCopy=!1,this.clearSelectionAfterCopy=!0,this.realizeSize_(80,24),this.setDefaultTabStops(),this.allowImagesInline=null,this.reportFocus=!1,this.setProfile(e||\"default\",function(){this.onTerminalReady()}.bind(this))},g.Terminal.cursorShape={BLOCK:\"BLOCK\",BEAM:\"BEAM\",UNDERLINE:\"UNDERLINE\"},g.Terminal.prototype.onTerminalReady=function(){},g.Terminal.prototype.tabWidth=8,g.Terminal.prototype.setProfile=function(e,t){this.profileId_=e.replace(/\\//g,\"\");var r=this;this.prefs_&&this.prefs_.deactivate(),this.prefs_=new g.PreferenceManager(this.profileId_),this.prefs_.addObservers(null,{\"alt-gr-mode\":function(e){e=null==e?\"en-us\"==navigator.language.toLowerCase()?\"none\":\"right-alt\":\"string\"==typeof e?e.toLowerCase():\"none\",/^(none|ctrl-alt|left-alt|right-alt)$/.test(e)||(e=\"none\"),r.keyboard.altGrMode=e},\"alt-backspace-is-meta-backspace\":function(e){r.keyboard.altBackspaceIsMetaBackspace=e},\"alt-is-meta\":function(e){r.keyboard.altIsMeta=e},\"alt-sends-what\":function(e){/^(escape|8-bit|browser-key)$/.test(e)||(e=\"escape\"),r.keyboard.altSendsWhat=e},\"audible-bell-sound\":function(e){var t=e.match(/^lib-resource:(\\S+)/);t?r.bellAudio_.setAttribute(\"src\",u.resource.getDataUrl(t[1])):r.bellAudio_.setAttribute(\"src\",e)},\"desktop-notification-bell\":function(e){e&&Notification?(r.desktopNotificationBell_=\"granted\"===Notification.permission,!r.desktopNotificationBell_&&console.warn(\"desktop-notification-bell is true but we do not have permission to display notifications.\")):r.desktopNotificationBell_=!1},\"background-color\":function(e){r.setBackgroundColor(e)},\"background-image\":function(e){r.scrollPort_.setBackgroundImage(e)},\"background-size\":function(e){r.scrollPort_.setBackgroundSize(e)},\"background-position\":function(e){r.scrollPort_.setBackgroundPosition(e)},\"backspace-sends-backspace\":function(e){r.keyboard.backspaceSendsBackspace=e},\"character-map-overrides\":function(e){return null==e||e instanceof Object?(r.vt.characterMaps.reset(),void r.vt.characterMaps.setOverrides(e)):void console.warn(\"Preference character-map-modifications is not an object: \"+e)},\"cursor-blink\":function(e){r.setCursorBlink(!!e)},\"cursor-shape\":function(e){r.setCursorShape(e)},\"cursor-blink-cycle\":function(e){r.cursorBlinkCycle_=e instanceof Array&&\"number\"==typeof e[0]&&\"number\"==typeof e[1]?e:\"number\"==typeof e?[e,e]:[100,100]},\"cursor-color\":function(e){r.setCursorColor(e)},\"color-palette-overrides\":function(e){if(null==e||e instanceof Object||e instanceof Array){if(u.colors.colorPalette=u.colors.stockColorPalette.concat(),e)for(var t in e){var o=parseInt(t);if(isNaN(o)||0>o||255<o)console.log(\"Invalid value in palette: \"+t+\": \"+e[t]);else if(e[o]){var i=u.colors.normalizeCSS(e[o]);i&&(u.colors.colorPalette[o]=i)}}r.primaryScreen_.textAttributes.resetColorPalette(),r.alternateScreen_.textAttributes.resetColorPalette()}else console.warn(\"Preference color-palette-overrides is not an array or object: \"+e)},\"copy-on-select\":function(e){r.copyOnSelect=!!e},\"use-default-window-copy\":function(e){r.useDefaultWindowCopy=!!e},\"clear-selection-after-copy\":function(e){r.clearSelectionAfterCopy=!!e},\"ctrl-plus-minus-zero-zoom\":function(e){r.keyboard.ctrlPlusMinusZeroZoom=e},\"ctrl-c-copy\":function(e){r.keyboard.ctrlCCopy=e},\"ctrl-v-paste\":function(e){r.keyboard.ctrlVPaste=e,r.scrollPort_.setCtrlVPaste(e)},\"paste-on-drop\":function(e){r.scrollPort_.setPasteOnDrop(e)},\"east-asian-ambiguous-as-two-column\":function(e){u.wc.regardCjkAmbiguous=e},\"enable-8-bit-control\":function(e){r.vt.enable8BitControl=!!e},\"enable-bold\":function(){r.syncBoldSafeState()},\"enable-bold-as-bright\":function(e){r.primaryScreen_.textAttributes.enableBoldAsBright=!!e,r.alternateScreen_.textAttributes.enableBoldAsBright=!!e},\"enable-blink\":function(e){r.setTextBlink(!!e)},\"enable-clipboard-write\":function(e){r.vt.enableClipboardWrite=!!e},\"enable-dec12\":function(e){r.vt.enableDec12=!!e},\"enable-csi-j-3\":function(e){r.vt.enableCsiJ3=!!e},\"font-family\":function(){r.syncFontFamily()},\"font-size\":function(e){return 0>=(e=parseInt(e))?void console.error(`Invalid font size: ${e}`):void r.setFontSize(e)},\"font-smoothing\":function(){r.syncFontFamily()},\"foreground-color\":function(e){r.setForegroundColor(e)},\"hide-mouse-while-typing\":function(e){r.setAutomaticMouseHiding(e)},\"home-keys-scroll\":function(e){r.keyboard.homeKeysScroll=e},keybindings:function(e){if(r.keyboard.bindings.clear(),e){if(!(e instanceof Object))return void console.error(\"Error in keybindings preference: Expected object\");try{r.keyboard.bindings.addBindings(e)}catch(e){console.error(\"Error in keybindings preference: \"+e)}}},\"media-keys-are-fkeys\":function(e){r.keyboard.mediaKeysAreFKeys=e},\"meta-sends-escape\":function(e){r.keyboard.metaSendsEscape=e},\"mouse-right-click-paste\":function(e){r.mouseRightClickPaste=e},\"mouse-paste-button\":function(){r.syncMousePasteButton()},\"page-keys-scroll\":function(e){r.keyboard.pageKeysScroll=e},\"pass-alt-number\":function(e){null==e&&(e=\"mac\"!=g.os&&\"popup\"!=g.windowType),r.passAltNumber=e},\"pass-ctrl-number\":function(e){null==e&&(e=\"mac\"!=g.os&&\"popup\"!=g.windowType),r.passCtrlNumber=e},\"pass-meta-number\":function(e){null==e&&(e=\"mac\"==g.os&&\"popup\"!=g.windowType),r.passMetaNumber=e},\"pass-meta-v\":function(e){r.keyboard.passMetaV=e},\"receive-encoding\":function(e){/^(utf-8|raw)$/.test(e)||(console.warn('Invalid value for \"receive-encoding\": '+e),e=\"utf-8\"),r.vt.characterEncoding=e},\"scroll-on-keystroke\":function(e){r.scrollOnKeystroke_=e},\"scroll-on-output\":function(e){r.scrollOnOutput_=e},\"scrollbar-visible\":function(e){r.setScrollbarVisible(e)},\"scroll-wheel-may-send-arrow-keys\":function(e){r.scrollWheelArrowKeys_=e},\"scroll-wheel-move-multiplier\":function(e){r.setScrollWheelMoveMultipler(e)},\"shift-insert-paste\":function(e){r.keyboard.shiftInsertPaste=e},\"terminal-encoding\":function(e){r.vt.setEncoding(e)},\"user-css\":function(e){r.scrollPort_.setUserCssUrl(e)},\"user-css-text\":function(e){r.scrollPort_.setUserCssText(e)},\"word-break-match-left\":function(e){r.primaryScreen_.wordBreakMatchLeft=e,r.alternateScreen_.wordBreakMatchLeft=e},\"word-break-match-right\":function(e){r.primaryScreen_.wordBreakMatchRight=e,r.alternateScreen_.wordBreakMatchRight=e},\"word-break-match-middle\":function(e){r.primaryScreen_.wordBreakMatchMiddle=e,r.alternateScreen_.wordBreakMatchMiddle=e},\"allow-images-inline\":function(e){r.allowImagesInline=e}}),this.prefs_.readStorage(function(){this.prefs_.notifyAll(),t&&t()}.bind(this))},g.Terminal.prototype.getPrefs=function(){return this.prefs_},g.Terminal.prototype.setBracketedPaste=function(e){this.options_.bracketedPaste=e},g.Terminal.prototype.setCursorColor=function(e){void 0===e&&(e=this.prefs_.get(\"cursor-color\")),this.setCssVar(\"cursor-color\",e)},g.Terminal.prototype.getCursorColor=function(){return this.getCssVar(\"cursor-color\")},g.Terminal.prototype.setSelectionEnabled=function(e){this.enableMouseDragScroll=e},g.Terminal.prototype.setBackgroundColor=function(e){void 0===e&&(e=this.prefs_.get(\"background-color\")),this.backgroundColor_=u.colors.normalizeCSS(e),this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.scrollPort_.setBackgroundColor(e)},g.Terminal.prototype.getBackgroundColor=function(){return this.backgroundColor_},g.Terminal.prototype.setForegroundColor=function(e){void 0===e&&(e=this.prefs_.get(\"foreground-color\")),this.foregroundColor_=u.colors.normalizeCSS(e),this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.scrollPort_.setForegroundColor(e)},g.Terminal.prototype.getForegroundColor=function(){return this.foregroundColor_},g.Terminal.prototype.runCommandClass=function(e,t){var r=this.prefs_.get(\"environment\");(\"object\"!=typeof r||null==r)&&(r={});var o=this;this.command=new e({argString:t||\"\",io:this.io.push(),environment:r,onExit:function(){o.io.pop(),o.uninstallKeyboard(),o.prefs_.get(\"close-on-exit\")&&window.close()}}),this.installKeyboard(),this.command.run()},g.Terminal.prototype.isPrimaryScreen=function(){return this.screen_==this.primaryScreen_},g.Terminal.prototype.installKeyboard=function(){this.keyboard.installKeyboard(this.scrollPort_.getDocument().body)},g.Terminal.prototype.uninstallKeyboard=function(){this.keyboard.installKeyboard(null)},g.Terminal.prototype.setCssVar=function(e,t,r=\"--hterm-\"){this.document_.documentElement.style.setProperty(`${r}${e}`,t)},g.Terminal.prototype.getCssVar=function(e,t=\"--hterm-\"){return this.document_.documentElement.style.getPropertyValue(`${t}${e}`)},g.Terminal.prototype.setFontSize=function(e){0>=e&&(e=this.prefs_.get(\"font-size\")),this.scrollPort_.setFontSize(e),this.setCssVar(\"charsize-width\",this.scrollPort_.characterSize.width+\"px\"),this.setCssVar(\"charsize-height\",this.scrollPort_.characterSize.height+\"px\")},g.Terminal.prototype.getFontSize=function(){return this.scrollPort_.getFontSize()},g.Terminal.prototype.getFontFamily=function(){return this.scrollPort_.getFontFamily()},g.Terminal.prototype.syncFontFamily=function(){this.scrollPort_.setFontFamily(this.prefs_.get(\"font-family\"),this.prefs_.get(\"font-smoothing\")),this.syncBoldSafeState()},g.Terminal.prototype.syncMousePasteButton=function(){var e=this.prefs_.get(\"mouse-paste-button\");return\"number\"==typeof e?void(this.mousePasteButton=e):void(\"linux\"==g.os?this.mousePasteButton=2:this.mousePasteButton=1)},g.Terminal.prototype.syncBoldSafeState=function(){var e=this.prefs_.get(\"enable-bold\");if(null!==e)return this.primaryScreen_.textAttributes.enableBold=e,void(this.alternateScreen_.textAttributes.enableBold=e);var t=this.scrollPort_.measureCharacterSize(),r=this.scrollPort_.measureCharacterSize(\"bold\"),o=t.equals(r);o||console.warn(\"Bold characters disabled: Size of bold weight differs from normal.  Font family is: \"+this.scrollPort_.getFontFamily()),this.primaryScreen_.textAttributes.enableBold=o,this.alternateScreen_.textAttributes.enableBold=o},g.Terminal.prototype.setTextBlink=function(e){void 0===e&&(e=this.prefs_.get(\"enable-blink\")),this.setCssVar(\"blink-node-duration\",e?\"0.7s\":\"0\")},g.Terminal.prototype.syncMouseStyle=function(){this.setCssVar(\"mouse-cursor-style\",this.vt.mouseReport==this.vt.MOUSE_REPORT_DISABLED?\"var(--hterm-mouse-cursor-text)\":\"var(--hterm-mouse-cursor-default)\")},g.Terminal.prototype.saveCursor=function(){return this.screen_.cursorPosition.clone()},g.Terminal.prototype.getTextAttributes=function(){return this.screen_.textAttributes},g.Terminal.prototype.setTextAttributes=function(e){this.screen_.textAttributes=e},g.Terminal.prototype.getZoomFactor=function(){return this.scrollPort_.characterSize.zoomFactor},g.Terminal.prototype.setWindowTitle=function(e){window.document.title=e},g.Terminal.prototype.restoreCursor=function(e){var t=u.f.clamp(e.row,0,this.screenSize.height-1),r=u.f.clamp(e.column,0,this.screenSize.width-1);this.screen_.setCursorPosition(t,r),(e.column>r||e.column==r&&e.overflow)&&(this.screen_.cursorPosition.overflow=!0)},g.Terminal.prototype.clearCursorOverflow=function(){this.screen_.cursorPosition.overflow=!1},g.Terminal.prototype.saveCursorAndState=function(e){e?(this.primaryScreen_.saveCursorAndState(this.vt),this.alternateScreen_.saveCursorAndState(this.vt)):this.screen_.saveCursorAndState(this.vt)},g.Terminal.prototype.restoreCursorAndState=function(e){e?(this.primaryScreen_.restoreCursorAndState(this.vt),this.alternateScreen_.restoreCursorAndState(this.vt)):this.screen_.restoreCursorAndState(this.vt)},g.Terminal.prototype.setCursorShape=function(e){this.cursorShape_=e,this.restyleCursor_()},g.Terminal.prototype.getCursorShape=function(){return this.cursorShape_},g.Terminal.prototype.setWidth=function(e){return null==e?void(this.div_.style.width=\"100%\"):(this.div_.style.width=s(this.scrollPort_.characterSize.width*e+this.scrollPort_.currentScrollbarWidthPx)+\"px\",this.realizeSize_(e,this.screenSize.height),void this.scheduleSyncCursorPosition_())},g.Terminal.prototype.setHeight=function(e){return null==e?void(this.div_.style.height=\"100%\"):(this.div_.style.height=this.scrollPort_.characterSize.height*e+\"px\",this.realizeSize_(this.screenSize.width,e),void this.scheduleSyncCursorPosition_())},g.Terminal.prototype.realizeSize_=function(e,t){let r=!1;e!=this.screenSize.width&&(r=!0,this.realizeWidth_(e)),t!=this.screenSize.height&&(r=!0,this.realizeHeight_(t)),r&&this.io.onTerminalResize_(e,t)},g.Terminal.prototype.realizeWidth_=function(e){if(0>=e)throw new Error(\"Attempt to realize bad width: \"+e);var t=e-this.screen_.getWidth();if(0!=t){if(this.screenSize.width=e,this.screen_.setColumnCount(e),0<t)this.defaultTabStops&&this.setDefaultTabStops(this.screenSize.width-t);else for(var r=this.tabStops_.length-1;0<=r&&!(this.tabStops_[r]<e);r--)this.tabStops_.pop();this.screen_.setColumnCount(this.screenSize.width)}},g.Terminal.prototype.realizeHeight_=function(e){if(0>=e)throw new Error(\"Attempt to realize bad height: \"+e);var t=e-this.screen_.getHeight();if(0!=t){this.screenSize.height=e;var r=this.saveCursor();if(0>t){for(t*=-1;t;){var o=this.getRowCount()-1;if(o-this.scrollbackRows_.length==r.row)break;if(this.getRowText(o))break;this.screen_.popRow(),t--}var n=this.screen_.shiftRows(t);this.scrollbackRows_.push.apply(this.scrollbackRows_,n),r.row=i(r.row-t,0)}else if(0<t){if(t<=this.scrollbackRows_.length){var s=l(t,this.scrollbackRows_.length),a=this.scrollbackRows_.splice(this.scrollbackRows_.length-s,s);this.screen_.unshiftRows(a),t-=s,r.row+=s}t&&this.appendRows_(t)}this.setVTScrollRegion(null,null),this.restoreCursor(r)}},g.Terminal.prototype.scrollHome=function(){this.scrollPort_.scrollRowToTop(0)},g.Terminal.prototype.scrollEnd=function(){this.scrollPort_.scrollRowToBottom(this.getRowCount())},g.Terminal.prototype.scrollPageUp=function(){this.scrollPort_.scrollPageUp()},g.Terminal.prototype.scrollPageDown=function(){this.scrollPort_.scrollPageDown()},g.Terminal.prototype.scrollLineUp=function(){var e=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(e-1)},g.Terminal.prototype.scrollLineDown=function(){var e=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(e+1)},g.Terminal.prototype.wipeContents=function(){this.clearHome(this.primaryScreen_),this.clearHome(this.alternateScreen_),this.clearScrollback()},g.Terminal.prototype.clearScrollback=function(){this.scrollEnd(),this.scrollbackRows_.length=0,this.scrollPort_.resetCache(),[this.primaryScreen_,this.alternateScreen_].forEach(e=>{const t=e.getHeight();this.renumberRows_(0,t,e)}),this.syncCursorPosition_(),this.scrollPort_.invalidate()},g.Terminal.prototype.reset=function(){this.vt.reset(),this.clearAllTabStops(),this.setDefaultTabStops();const e=e=>{e.textAttributes.reset(),e.textAttributes.resetColorPalette(),this.clearHome(e),e.saveCursorAndState(this.vt)};e(this.primaryScreen_),e(this.alternateScreen_),this.options_=new g.Options,this.setCursorBlink(!!this.prefs_.get(\"cursor-blink\")),this.setVTScrollRegion(null,null),this.setCursorVisible(!0)},g.Terminal.prototype.softReset=function(){this.vt.reset(),this.options_=new g.Options,this.options_.cursorBlink=!!this.timeouts_.cursorBlink;const e=e=>{e.textAttributes.reset(),e.textAttributes.resetColorPalette(),e.saveCursorAndState(this.vt)};e(this.primaryScreen_),e(this.alternateScreen_),this.setVTScrollRegion(null,null),this.setCursorVisible(!0)},g.Terminal.prototype.forwardTabStop=function(){for(var e=this.screen_.cursorPosition.column,t=0;t<this.tabStops_.length;t++)if(this.tabStops_[t]>e)return void this.setCursorColumn(this.tabStops_[t]);var r=this.screen_.cursorPosition.overflow;this.setCursorColumn(this.screenSize.width-1),this.screen_.cursorPosition.overflow=r},g.Terminal.prototype.backwardTabStop=function(){for(var e=this.screen_.cursorPosition.column,t=this.tabStops_.length-1;0<=t;t--)if(this.tabStops_[t]<e)return void this.setCursorColumn(this.tabStops_[t]);this.setCursorColumn(1)},g.Terminal.prototype.setTabStop=function(e){for(var t=this.tabStops_.length-1;0<=t;t--){if(this.tabStops_[t]==e)return;if(this.tabStops_[t]<e)return void this.tabStops_.splice(t+1,0,e)}this.tabStops_.splice(0,0,e)},g.Terminal.prototype.clearTabStopAtCursor=function(){var e=this.screen_.cursorPosition.column,t=this.tabStops_.indexOf(e);-1==t||this.tabStops_.splice(t,1)},g.Terminal.prototype.clearAllTabStops=function(){this.tabStops_.length=0,this.defaultTabStops=!1},g.Terminal.prototype.setDefaultTabStops=function(e){for(var t=e||0,r=this.tabWidth,o=t=t-1-(t-1)%r+r;o<this.screenSize.width;o+=r)this.setTabStop(o);this.defaultTabStops=!0},g.Terminal.prototype.interpret=function(e){this.scheduleSyncCursorPosition_(),this.vt.interpret(e)},g.Terminal.prototype.decorate=function(e){const t=e.ownerDocument.characterSet.toLowerCase();\"utf-8\"!=t&&console.warn(`Document encoding should be set to utf-8, not \"${t}\";`+\" Add <meta charset='utf-8'/> to your HTML <head> to fix.\"),this.div_=e,this.accessibilityReader_=new g.AccessibilityReader(e),this.scrollPort_.decorate(e,()=>this.setupScrollPort_())},g.Terminal.prototype.setupScrollPort_=function(){this.scrollPort_.setBackgroundImage(this.prefs_.get(\"background-image\")),this.scrollPort_.setBackgroundSize(this.prefs_.get(\"background-size\")),this.scrollPort_.setBackgroundPosition(this.prefs_.get(\"background-position\")),this.scrollPort_.setUserCssUrl(this.prefs_.get(\"user-css\")),this.scrollPort_.setUserCssText(this.prefs_.get(\"user-css-text\")),this.scrollPort_.setAccessibilityReader(this.accessibilityReader_),this.div_.focus=this.focus.bind(this),this.setFontSize(this.prefs_.get(\"font-size\")),this.syncFontFamily(),this.setScrollbarVisible(this.prefs_.get(\"scrollbar-visible\")),this.setScrollWheelMoveMultipler(this.prefs_.get(\"scroll-wheel-move-multiplier\")),this.document_=this.scrollPort_.getDocument(),this.accessibilityReader_.decorate(this.document_),this.document_.body.oncontextmenu=function(){return!1},this.contextMenu.setDocument(this.document_);var e=this.onMouse_.bind(this),t=this.scrollPort_.getScreenNode();t.addEventListener(\"mousedown\",e),t.addEventListener(\"mouseup\",e),t.addEventListener(\"mousemove\",e),this.scrollPort_.onScrollWheel=e,t.addEventListener(\"keydown\",this.onKeyboardActivity_.bind(this)),t.addEventListener(\"focus\",this.onFocusChange_.bind(this,!0)),t.addEventListener(\"mousedown\",function(){setTimeout(this.onFocusChange_.bind(this,!0))}.bind(this)),t.addEventListener(\"blur\",this.onFocusChange_.bind(this,!1));var r=this.document_.createElement(\"style\");r.textContent='.cursor-node[focus=\"false\"] {  box-sizing: border-box;  background-color: transparent !important;  border-width: 2px;  border-style: solid;}menu {  margin: 0;  padding: 0;  cursor: var(--hterm-mouse-cursor-pointer);}menuitem {  white-space: nowrap;  border-bottom: 1px dashed;  display: block;  padding: 0.3em 0.3em 0 0.3em;}menuitem.separator {  border-bottom: none;  height: 0.5em;  padding: 0;}menuitem:hover {  color: var(--hterm-cursor-color);}.wc-node {  display: inline-block;  text-align: center;  width: calc(var(--hterm-charsize-width) * 2);  line-height: var(--hterm-charsize-height);}:root {  --hterm-charsize-width: '+this.scrollPort_.characterSize.width+\"px;  --hterm-charsize-height: \"+this.scrollPort_.characterSize.height+\"px;  --hterm-cursor-offset-col: -1;  --hterm-cursor-offset-row: -1;  --hterm-blink-node-duration: 0.7s;  --hterm-mouse-cursor-default: default;  --hterm-mouse-cursor-text: text;  --hterm-mouse-cursor-pointer: pointer;  --hterm-mouse-cursor-style: var(--hterm-mouse-cursor-text);}.uri-node:hover {  text-decoration: underline;  cursor: var(--hterm-mouse-cursor-pointer);}@keyframes blink {  from { opacity: 1.0; }  to { opacity: 0.0; }}.blink-node {  animation-name: blink;  animation-duration: var(--hterm-blink-node-duration);  animation-iteration-count: infinite;  animation-timing-function: ease-in-out;  animation-direction: alternate;}\",this.document_.head.insertBefore(r,this.document_.head.firstChild),this.cursorNode_=this.document_.createElement(\"div\"),this.cursorNode_.id=\"hterm:terminal-cursor\",this.cursorNode_.className=\"cursor-node\",this.cursorNode_.style.cssText=\"position: absolute;left: calc(var(--hterm-charsize-width) * var(--hterm-cursor-offset-col));top: calc(var(--hterm-charsize-height) * var(--hterm-cursor-offset-row));display: \"+(this.options_.cursorVisible?\"\":\"none\")+\";width: var(--hterm-charsize-width);height: var(--hterm-charsize-height);background-color: var(--hterm-cursor-color);border-color: var(--hterm-cursor-color);-webkit-transition: opacity, background-color 100ms linear;-moz-transition: opacity, background-color 100ms linear;\",this.setCursorColor(),this.setCursorBlink(!!this.prefs_.get(\"cursor-blink\")),this.restyleCursor_(),this.document_.body.appendChild(this.cursorNode_),this.scrollBlockerNode_=this.document_.createElement(\"div\"),this.scrollBlockerNode_.id=\"hterm:mouse-drag-scroll-blocker\",this.scrollBlockerNode_.setAttribute(\"aria-hidden\",\"true\"),this.scrollBlockerNode_.style.cssText=\"position: absolute;top: -99px;display: block;width: 10px;height: 10px;\",this.document_.body.appendChild(this.scrollBlockerNode_),this.scrollPort_.onScrollWheel=e,[\"mousedown\",\"mouseup\",\"mousemove\",\"click\",\"dblclick\"].forEach(function(t){this.scrollBlockerNode_.addEventListener(t,e),this.cursorNode_.addEventListener(t,e),this.document_.addEventListener(t,e)}.bind(this)),this.cursorNode_.addEventListener(\"mousedown\",function(){setTimeout(this.focus.bind(this))}.bind(this)),this.setReverseVideo(!1),this.scrollPort_.focus(),this.scrollPort_.scheduleRedraw()},g.Terminal.prototype.getDocument=function(){return this.document_},g.Terminal.prototype.focus=function(){this.scrollPort_.focus()},g.Terminal.prototype.getRowNode=function(e){if(e<this.scrollbackRows_.length)return this.scrollbackRows_[e];var t=e-this.scrollbackRows_.length;return this.screen_.rowsArray[t]},g.Terminal.prototype.getRowsText=function(e,t){for(var r,o=[],i=e;i<t;i++)r=this.getRowNode(i),o.push(r.textContent),i<t-1&&!r.getAttribute(\"line-overflow\")&&o.push(\"\\n\");return o.join(\"\")},g.Terminal.prototype.getRowText=function(e){return this.getRowNode(e).textContent},g.Terminal.prototype.getRowCount=function(){return this.scrollbackRows_.length+this.screen_.rowsArray.length},g.Terminal.prototype.appendRows_=function(e){for(var t,r=this.screen_.rowsArray.length,o=this.scrollbackRows_.length+r,i=0;i<e;i++)(t=this.document_.createElement(\"x-row\")).appendChild(this.document_.createTextNode(\"\")),t.rowIndex=o+i,this.screen_.pushRow(t);var n=this.screen_.rowsArray.length-this.screenSize.height;if(0<n){var s=this.screen_.shiftRows(n);Array.prototype.push.apply(this.scrollbackRows_,s),this.scrollPort_.isScrolledEnd&&this.scheduleScrollDown_()}r>=this.screen_.rowsArray.length&&(r=this.screen_.rowsArray.length-1),this.setAbsoluteCursorPosition(r,0)},g.Terminal.prototype.moveRows_=function(e,t,r){var o,i,n=this.screen_.removeRows(e,t);this.screen_.insertRows(r,n),e<r?(o=e,i=r+t):(o=r,i=e+t),this.renumberRows_(o,i),this.scrollPort_.scheduleInvalidate()},g.Terminal.prototype.renumberRows_=function(e,t,r){for(var o=r||this.screen_,i=this.scrollbackRows_.length,n=e;n<t;n++)o.rowsArray[n].rowIndex=i+n},g.Terminal.prototype.print=function(e){this.scheduleSyncCursorPosition_(),this.accessibilityReader_.announce(e);var t=0,r=u.wc.strWidth(e);for(0==r&&e&&(r=1);t<r;){this.options_.wraparound&&this.screen_.cursorPosition.overflow&&(this.screen_.commitLineOverflow(),this.newLine(!0));var o,i=r-t,n=!1;this.screen_.cursorPosition.column+i>=this.screenSize.width&&(n=!0,i=this.screenSize.width-this.screen_.cursorPosition.column),n&&!this.options_.wraparound?(o=u.wc.substr(e,t,i-1)+u.wc.substr(e,r-1),i=r):o=u.wc.substr(e,t,i);for(var s=g.TextAttributes.splitWidecharString(o),a=0;a<s.length;a++)this.screen_.textAttributes.wcNode=s[a].wcNode,this.screen_.textAttributes.asciiNode=s[a].asciiNode,this.options_.insertMode?this.screen_.insertString(s[a].str,s[a].wcStrWidth):this.screen_.overwriteString(s[a].str,s[a].wcStrWidth),this.screen_.textAttributes.wcNode=!1,this.screen_.textAttributes.asciiNode=!0;this.screen_.maybeClipCurrentRow(),t+=i}this.scrollOnOutput_&&this.scrollPort_.scrollRowToBottom(this.getRowCount())},g.Terminal.prototype.setVTScrollRegion=function(e,t){0==e&&t==this.screenSize.height-1?(this.vtScrollTop_=null,this.vtScrollBottom_=null):(this.vtScrollTop_=e,this.vtScrollBottom_=t)},g.Terminal.prototype.getVTScrollTop=function(){return null==this.vtScrollTop_?0:this.vtScrollTop_},g.Terminal.prototype.getVTScrollBottom=function(){return null==this.vtScrollBottom_?this.screenSize.height-1:this.vtScrollBottom_},g.Terminal.prototype.newLine=function(e=!1){e||this.accessibilityReader_.newLine();var t=this.screen_.cursorPosition.row==this.screen_.rowsArray.length-1;null==this.vtScrollBottom_?t?this.appendRows_(1):this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row+1,0):this.screen_.cursorPosition.row==this.vtScrollBottom_?(this.vtScrollUp(1),this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,0)):t?this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,0):this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row+1,0)},g.Terminal.prototype.lineFeed=function(){var e=this.screen_.cursorPosition.column;this.newLine(),this.setCursorColumn(e)},g.Terminal.prototype.formFeed=function(){this.options_.autoCarriageReturn?this.newLine():this.lineFeed()},g.Terminal.prototype.reverseLineFeed=function(){var e=this.getVTScrollTop(),t=this.screen_.cursorPosition.row;t==e?this.insertLines(1):this.setAbsoluteCursorRow(t-1)},g.Terminal.prototype.eraseToLeft=function(){var e=this.saveCursor();this.setCursorColumn(0);const t=e.column+1;this.screen_.overwriteString(\" \".repeat(t),t),this.restoreCursor(e)},g.Terminal.prototype.eraseToRight=function(e){if(!this.screen_.cursorPosition.overflow){var t=this.screenSize.width-this.screen_.cursorPosition.column,r=e?l(e,t):t;if(this.screen_.textAttributes.background===this.screen_.textAttributes.DEFAULT_COLOR){var o=this.screen_.rowsArray[this.screen_.cursorPosition.row];if(g.TextAttributes.nodeWidth(o)<=this.screen_.cursorPosition.column+r)return this.screen_.deleteChars(r),void this.clearCursorOverflow()}var i=this.saveCursor();this.screen_.overwriteString(\" \".repeat(r),r),this.restoreCursor(i),this.clearCursorOverflow()}},g.Terminal.prototype.eraseLine=function(){var e=this.saveCursor();this.screen_.clearCursorRow(),this.restoreCursor(e),this.clearCursorOverflow()},g.Terminal.prototype.eraseAbove=function(){var e=this.saveCursor();this.eraseToLeft();for(var t=0;t<e.row;t++)this.setAbsoluteCursorPosition(t,0),this.screen_.clearCursorRow();this.restoreCursor(e),this.clearCursorOverflow()},g.Terminal.prototype.eraseBelow=function(){var e=this.saveCursor();this.eraseToRight();for(var t=this.screenSize.height-1,r=e.row+1;r<=t;r++)this.setAbsoluteCursorPosition(r,0),this.screen_.clearCursorRow();this.restoreCursor(e),this.clearCursorOverflow()},g.Terminal.prototype.fill=function(e){var t=this.saveCursor();this.setAbsoluteCursorPosition(0,0);for(var r=0;r<this.screenSize.height;r++)for(var o=0;o<this.screenSize.width;o++)this.setAbsoluteCursorPosition(r,o),this.screen_.overwriteString(e,1);this.restoreCursor(t)},g.Terminal.prototype.clearHome=function(e){var t=e||this.screen_,r=t.getHeight();if(this.accessibilityReader_.clear(),0!=r){for(var o=0;o<r;o++)t.setCursorPosition(o,0),t.clearCursorRow();t.setCursorPosition(0,0)}},g.Terminal.prototype.clear=function(e){var t=e||this.screen_,r=t.cursorPosition.clone();this.clearHome(t),t.setCursorPosition(r.row,r.column)},g.Terminal.prototype.insertLines=function(e){var t=this.screen_.cursorPosition.row,r=this.getVTScrollBottom(),o=r-t-(e=l(e,r-t))+1;o&&this.moveRows_(t,o,t+e);for(var i=e-1;0<=i;i--)this.setAbsoluteCursorPosition(t+i,0),this.screen_.clearCursorRow()},g.Terminal.prototype.deleteLines=function(e){var t=this.saveCursor(),r=t.row,o=this.getVTScrollBottom(),i=o-r+1,n=o-(e=l(e,i))+1;e!=i&&this.moveRows_(r,e,n);for(var s=0;s<e;s++)this.setAbsoluteCursorPosition(n+s,0),this.screen_.clearCursorRow();this.restoreCursor(t),this.clearCursorOverflow()},g.Terminal.prototype.insertSpace=function(e){var t=this.saveCursor();const r=\" \".repeat(e||1);this.screen_.insertString(r,r.length),this.screen_.maybeClipCurrentRow(),this.restoreCursor(t),this.clearCursorOverflow()},g.Terminal.prototype.deleteChars=function(e){var t=this.screen_.deleteChars(e);if(t&&!this.screen_.textAttributes.isDefault()){var r=this.saveCursor();this.setCursorColumn(this.screenSize.width-t),this.screen_.insertString(\" \".repeat(t)),this.restoreCursor(r)}this.clearCursorOverflow()},g.Terminal.prototype.vtScrollUp=function(e){var t=this.saveCursor();this.setAbsoluteCursorRow(this.getVTScrollTop()),this.deleteLines(e),this.restoreCursor(t)},g.Terminal.prototype.vtScrollDown=function(e){var t=this.saveCursor();this.setAbsoluteCursorPosition(this.getVTScrollTop(),0),this.insertLines(e),this.restoreCursor(t)},g.Terminal.prototype.setAccessibilityEnabled=function(e){this.accessibilityReader_.setAccessibilityEnabled(e)},g.Terminal.prototype.setCursorPosition=function(e,t){this.options_.originMode?this.setRelativeCursorPosition(e,t):this.setAbsoluteCursorPosition(e,t)},g.Terminal.prototype.setRelativeCursorPosition=function(e,t){var r=this.getVTScrollTop();e=u.f.clamp(e+r,r,this.getVTScrollBottom()),t=u.f.clamp(t,0,this.screenSize.width-1),this.screen_.setCursorPosition(e,t)},g.Terminal.prototype.setAbsoluteCursorPosition=function(e,t){e=u.f.clamp(e,0,this.screenSize.height-1),t=u.f.clamp(t,0,this.screenSize.width-1),this.screen_.setCursorPosition(e,t)},g.Terminal.prototype.setCursorColumn=function(e){this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,e)},g.Terminal.prototype.getCursorColumn=function(){return this.screen_.cursorPosition.column},g.Terminal.prototype.setAbsoluteCursorRow=function(e){this.setAbsoluteCursorPosition(e,this.screen_.cursorPosition.column)},g.Terminal.prototype.getCursorRow=function(){return this.screen_.cursorPosition.row},g.Terminal.prototype.scheduleRedraw_=function(){if(!this.timeouts_.redraw){var e=this;this.timeouts_.redraw=setTimeout((function(){delete e.timeouts_.redraw,e.scrollPort_.redraw_()}),0)}},g.Terminal.prototype.scheduleScrollDown_=function(){if(!this.timeouts_.scrollDown){var e=this;this.timeouts_.scrollDown=setTimeout((function(){delete e.timeouts_.scrollDown,e.scrollPort_.scrollRowToBottom(e.getRowCount())}),10)}},g.Terminal.prototype.cursorUp=function(e){return this.cursorDown(-(e||1))},g.Terminal.prototype.cursorDown=function(e){e=e||1;var t=this.options_.originMode?this.getVTScrollTop():0,r=this.options_.originMode?this.getVTScrollBottom():this.screenSize.height-1,o=u.f.clamp(this.screen_.cursorPosition.row+e,t,r);this.setAbsoluteCursorRow(o)},g.Terminal.prototype.cursorLeft=function(e){if(!(1>(e=e||1))){var t=this.screen_.cursorPosition.column;if(this.options_.reverseWraparound){if(this.screen_.cursorPosition.overflow&&(e--,this.clearCursorOverflow(),!e))return;var r=this.screen_.cursorPosition.row;0>(o=t-e)&&(0>(r=r-n(e/this.screenSize.width)-1)&&(r=this.screenSize.height+r%this.screenSize.height),o=this.screenSize.width+o%this.screenSize.width),this.setCursorPosition(i(r,0),o)}else{var o=i(t-e,0);this.setCursorColumn(o)}}},g.Terminal.prototype.cursorRight=function(e){if(!(1>(e=e||1))){var t=u.f.clamp(this.screen_.cursorPosition.column+e,0,this.screenSize.width-1);this.setCursorColumn(t)}},g.Terminal.prototype.setReverseVideo=function(e){this.options_.reverseVideo=e,e?(this.scrollPort_.setForegroundColor(this.backgroundColor_),this.scrollPort_.setBackgroundColor(this.foregroundColor_)):(this.scrollPort_.setForegroundColor(this.foregroundColor_),this.scrollPort_.setBackgroundColor(this.backgroundColor_))},g.Terminal.prototype.ringBell=function(){this.cursorNode_.style.backgroundColor=this.scrollPort_.getForegroundColor();var e=this;if(setTimeout((function(){e.restyleCursor_()}),200),!this.bellSquelchTimeout_&&(this.bellAudio_.getAttribute(\"src\")?(this.bellAudio_.play(),this.bellSequelchTimeout_=setTimeout(function(){delete this.bellSquelchTimeout_}.bind(this),500)):delete this.bellSquelchTimeout_,this.desktopNotificationBell_&&!this.document_.hasFocus())){var t=g.notify();this.bellNotificationList_.push(t),t.onclick=function(){e.closeBellNotifications_()}}},g.Terminal.prototype.setOriginMode=function(e){this.options_.originMode=e,this.setCursorPosition(0,0)},g.Terminal.prototype.setInsertMode=function(e){this.options_.insertMode=e},g.Terminal.prototype.setAutoCarriageReturn=function(e){this.options_.autoCarriageReturn=e},g.Terminal.prototype.setWraparound=function(e){this.options_.wraparound=e},g.Terminal.prototype.setReverseWraparound=function(e){this.options_.reverseWraparound=e},g.Terminal.prototype.setAlternateMode=function(e){var t=this.saveCursor();if(this.screen_=e?this.alternateScreen_:this.primaryScreen_,this.screen_.rowsArray.length&&this.screen_.rowsArray[0].rowIndex!=this.scrollbackRows_.length)for(var r=this.scrollbackRows_.length,o=this.screen_.rowsArray,i=0;i<o.length;i++)o[i].rowIndex=r+i;this.realizeWidth_(this.screenSize.width),this.realizeHeight_(this.screenSize.height),this.scrollPort_.syncScrollHeight(),this.scrollPort_.invalidate(),this.restoreCursor(t),this.scrollPort_.resize()},g.Terminal.prototype.setCursorBlink=function(e){this.options_.cursorBlink=e,!e&&this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),this.options_.cursorVisible&&this.setCursorVisible(!0)},g.Terminal.prototype.setCursorVisible=function(e){if(this.options_.cursorVisible=e,!e)return this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),void(this.cursorNode_.style.opacity=\"0\");if(this.syncCursorPosition_(),this.cursorNode_.style.opacity=\"1\",this.options_.cursorBlink){if(this.timeouts_.cursorBlink)return;this.onCursorBlink_()}else this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink)},g.Terminal.prototype.syncCursorPosition_=function(){var e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e),r=this.scrollbackRows_.length+this.screen_.cursorPosition.row;let o=!1;if(this.accessibilityReader_.accessibilityEnabled){const e=this.screen_.cursorPosition.column,t=this.screen_.rowsArray[this.screen_.cursorPosition.row].innerText;o=this.accessibilityReader_.hasUserGesture,this.accessibilityReader_.afterCursorChange(t,r,e)}if(r>t)return this.setCssVar(\"cursor-offset-row\",\"-1\"),!1;this.options_.cursorVisible&&\"none\"==this.cursorNode_.style.display&&(this.cursorNode_.style.display=\"\"),this.setCssVar(\"cursor-offset-row\",`${r-e} + `+`${this.scrollPort_.visibleRowTopMargin}px`),this.setCssVar(\"cursor-offset-col\",this.screen_.cursorPosition.column),this.cursorNode_.setAttribute(\"title\",\"(\"+this.screen_.cursorPosition.column+\", \"+this.screen_.cursorPosition.row+\")\");var i=this.document_.getSelection();return i&&(i.isCollapsed||o)&&this.screen_.syncSelectionCaret(i),!0},g.Terminal.prototype.restyleCursor_=function(){var e=this.cursorShape_;\"false\"==this.cursorNode_.getAttribute(\"focus\")&&(e=g.Terminal.cursorShape.BLOCK);var t=this.cursorNode_.style;e===g.Terminal.cursorShape.BEAM?(t.backgroundColor=\"transparent\",t.borderBottomStyle=null,t.borderLeftStyle=\"solid\"):e===g.Terminal.cursorShape.UNDERLINE?(t.backgroundColor=\"transparent\",t.borderBottomStyle=\"solid\",t.borderLeftStyle=null):(t.backgroundColor=\"var(--hterm-cursor-color)\",t.borderBottomStyle=null,t.borderLeftStyle=null)},g.Terminal.prototype.scheduleSyncCursorPosition_=function(){if(!this.timeouts_.syncCursor){if(this.accessibilityReader_.accessibilityEnabled){const e=this.scrollbackRows_.length+this.screen_.cursorPosition.row,t=this.screen_.cursorPosition.column,r=this.screen_.rowsArray[this.screen_.cursorPosition.row].innerText;this.accessibilityReader_.beforeCursorChange(r,e,t)}var e=this;this.timeouts_.syncCursor=setTimeout((function(){e.syncCursorPosition_(),delete e.timeouts_.syncCursor}),0)}},g.Terminal.prototype.showZoomWarning_=function(e){if(!this.zoomWarningNode_){if(!e)return;this.zoomWarningNode_=this.document_.createElement(\"div\"),this.zoomWarningNode_.id=\"hterm:zoom-warning\",this.zoomWarningNode_.style.cssText=\"color: black;background-color: #ff2222;font-size: large;border-radius: 8px;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;top: 0.5em;right: 1.2em;position: absolute;-webkit-text-size-adjust: none;-webkit-user-select: none;-moz-text-size-adjust: none;-moz-user-select: none;\",this.zoomWarningNode_.addEventListener(\"click\",(function(){this.parentNode.removeChild(this)}))}this.zoomWarningNode_.textContent=u.i18n.replaceReferences(g.zoomWarningMessage,[parseInt(100*this.scrollPort_.characterSize.zoomFactor)]),this.zoomWarningNode_.style.fontFamily=this.prefs_.get(\"font-family\"),e?!this.zoomWarningNode_.parentNode&&this.div_.parentNode.appendChild(this.zoomWarningNode_):this.zoomWarningNode_.parentNode&&this.zoomWarningNode_.parentNode.removeChild(this.zoomWarningNode_)},g.Terminal.prototype.showOverlay=function(e,t){if(!this.overlayNode_){if(!this.div_)return;this.overlayNode_=this.document_.createElement(\"div\"),this.overlayNode_.style.cssText=\"border-radius: 15px;font-size: xx-large;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;position: absolute;-webkit-user-select: none;-webkit-transition: opacity 180ms ease-in;-moz-user-select: none;-moz-transition: opacity 180ms ease-in;\",this.overlayNode_.addEventListener(\"mousedown\",(function(e){e.preventDefault(),e.stopPropagation()}),!0)}this.overlayNode_.style.color=this.prefs_.get(\"background-color\"),this.overlayNode_.style.backgroundColor=this.prefs_.get(\"foreground-color\"),this.overlayNode_.style.fontFamily=this.prefs_.get(\"font-family\"),this.overlayNode_.textContent=e,this.overlayNode_.style.opacity=\"0.75\",this.overlayNode_.parentNode||this.div_.appendChild(this.overlayNode_);var r=g.getClientSize(this.div_),o=g.getClientSize(this.overlayNode_);this.overlayNode_.style.top=(r.height-o.height)/2+\"px\",this.overlayNode_.style.left=(r.width-o.width-this.scrollPort_.currentScrollbarWidthPx)/2+\"px\",this.overlayTimeout_&&clearTimeout(this.overlayTimeout_),this.accessibilityReader_.assertiveAnnounce(e),null===t||(this.overlayTimeout_=setTimeout(()=>{this.overlayNode_.style.opacity=\"0\",this.overlayTimeout_=setTimeout(()=>this.hideOverlay(),200)},t||1500))},g.Terminal.prototype.hideOverlay=function(){this.overlayTimeout_&&clearTimeout(this.overlayTimeout_),this.overlayTimeout_=null,this.overlayNode_.parentNode&&this.overlayNode_.parentNode.removeChild(this.overlayNode_),this.overlayNode_.style.opacity=\"0.75\"},g.Terminal.prototype.paste=function(){return g.pasteFromClipboard(this.document_)},g.Terminal.prototype.copyStringToClipboard=function(e){this.prefs_.get(\"enable-clipboard-notice\")&&setTimeout(this.showOverlay.bind(this,g.notifyCopyMessage,500),200),g.copySelectionToClipboard(this.document_,e)},g.Terminal.prototype.displayImage=function(e,t,r){if(void 0!==e.uri||void 0!==e.buffer||void 0!==e.blob){if(e.name||(e.name=\"\"),!e.type){const t=e.name.split(\".\"),r=t[t.length-1].trim();(\"svg\"===r||\"svgz\"===r)&&(e.type=\"image/svg+xml\")}if(!0!==this.allowImagesInline){this.newLine();const e=this.getRowNode(this.scrollbackRows_.length+this.getCursorRow()-1);if(!1===this.allowImagesInline)return void(e.textContent=g.msg(\"POPUP_INLINE_IMAGE_DISABLED\",[],\"Inline Images Disabled\"));let t;const r=this.document_.createElement(\"span\");return r.innerText=g.msg(\"POPUP_INLINE_IMAGE\",[],\"Inline Images\"),r.style.fontWeight=\"bold\",r.style.borderWidth=\"1px\",r.style.borderStyle=\"dashed\",(t=this.document_.createElement(\"span\")).innerText=g.msg(\"BUTTON_BLOCK\",[],\"block\"),t.style.marginLeft=\"1em\",t.style.borderWidth=\"1px\",t.style.borderStyle=\"solid\",t.addEventListener(\"click\",()=>{this.prefs_.set(\"allow-images-inline\",!1)}),r.appendChild(t),(t=this.document_.createElement(\"span\")).innerText=g.msg(\"BUTTON_ALLOW_SESSION\",[],\"allow this session\"),t.style.marginLeft=\"1em\",t.style.borderWidth=\"1px\",t.style.borderStyle=\"solid\",t.addEventListener(\"click\",()=>{this.allowImagesInline=!0}),r.appendChild(t),(t=this.document_.createElement(\"span\")).innerText=g.msg(\"BUTTON_ALLOW_ALWAYS\",[],\"always allow\"),t.style.marginLeft=\"1em\",t.style.borderWidth=\"1px\",t.style.borderStyle=\"solid\",t.addEventListener(\"click\",()=>{this.prefs_.set(\"allow-images-inline\",!0)}),r.appendChild(t),void e.appendChild(r)}if(e.inline){const o=this.io.push();o.showOverlay(g.msg(\"LOADING_RESOURCE_START\",[e.name],\"Loading $1 ...\"),null),o.onVTKeystroke=o.sendString=()=>{};const i=this.document_.createElement(\"img\");if(void 0!==e.uri)i.src=e.uri;else if(void 0!==e.buffer){const t=new Blob([e.buffer],{type:e.type});i.src=URL.createObjectURL(t)}else new Blob([e.blob],{type:e.type}),i.src=URL.createObjectURL(e.blob);i.title=i.alt=e.name,this.document_.body.appendChild(i),i.onload=()=>{i.style.objectFit=e.preserveAspectRatio?\"scale-down\":\"fill\",i.style.maxWidth=`${this.document_.body.clientWidth}px`,i.style.maxHeight=`${this.document_.body.clientHeight}px`;const r=(e,t,r)=>{if(!e||\"auto\"==e)return\"\";const o=e.match(/^([0-9]+)(px|%)?$/);return o?\"%\"==o[2]?t*parseInt(o[1])/100+\"px\":\"px\"==o[2]?e:`calc(${e} * var(${r}))`:\"\"};i.style.width=r(e.width,this.document_.body.clientWidth,\"--hterm-charsize-width\"),i.style.height=r(e.height,this.document_.body.clientHeight,\"--hterm-charsize-height\");const n=s(i.clientHeight/this.scrollPort_.characterSize.height);for(let e=0;e<n;++e)this.newLine();i.style.maxHeight=`calc(${n} * var(--hterm-charsize-height))`,this.document_.body.removeChild(i);const a=this.document_.createElement(\"div\");a.style.position=\"relative\",a.style.textAlign=e.align,i.style.position=\"absolute\",i.style.bottom=\"calc(0px - var(--hterm-charsize-height))\",a.appendChild(i),this.getRowNode(this.scrollbackRows_.length+this.getCursorRow()-1).appendChild(a),void 0===e.uri&&URL.revokeObjectURL(i.src),o.hideOverlay(),o.pop(),t&&t()},i.onerror=t=>{this.document_.body.removeChild(i),o.showOverlay(g.msg(\"LOADING_RESOURCE_FAILED\",[e.name],\"Loading $1 failed\")),o.pop(),r&&r(t)}}else{const t=this.document_.createElement(\"a\");if(void 0!==e.uri)t.href=e.uri;else if(void 0!==e.buffer){const r=new Blob([e.buffer]);t.href=URL.createObjectURL(r)}else t.href=URL.createObjectURL(e.blob);t.download=e.name,this.document_.body.appendChild(t),t.click(),t.remove(),void 0===e.uri&&URL.revokeObjectURL(t.href)}}},g.Terminal.prototype.getSelectionText=function(){var e=this.scrollPort_.selection;if(e.sync(),e.isCollapsed)return null;var t=e.startOffset,r=e.startNode;if(!r)return null;if(\"X-ROW\"!=r.nodeName)for(\"#text\"==r.nodeName&&\"SPAN\"==r.parentNode.nodeName&&(r=r.parentNode);r.previousSibling;)r=r.previousSibling,t+=g.TextAttributes.nodeWidth(r);var o=g.TextAttributes.nodeWidth(e.endNode)-e.endOffset;if(\"X-ROW\"!=(r=e.endNode).nodeName)for(\"#text\"==r.nodeName&&\"SPAN\"==r.parentNode.nodeName&&(r=r.parentNode);r.nextSibling;)r=r.nextSibling,o+=g.TextAttributes.nodeWidth(r);var i=this.getRowsText(e.startRow.rowIndex,e.endRow.rowIndex+1);return u.wc.substring(i,t,u.wc.strWidth(i)-o)},g.Terminal.prototype.copySelectionToClipboard=function(){var e=this.getSelectionText();null!=e&&this.copyStringToClipboard(e)},g.Terminal.prototype.overlaySize=function(){this.showOverlay(this.screenSize.width+\"x\"+this.screenSize.height)},g.Terminal.prototype.onVTKeystroke=function(e){this.scrollOnKeystroke_&&this.scrollPort_.scrollRowToBottom(this.getRowCount()),this.io.onVTKeystroke(e)},g.Terminal.prototype.openSelectedUrl_=function(){var e=this.getSelectionText();if((null!=e||(this.screen_.expandSelectionForUrl(this.document_.getSelection()),null!=(e=this.getSelectionText())))&&!(2048<e.length||0<=e.search(/[\\s\\[\\](){}<>\"'\\\\^`]/))){if(0>e.search(\"^[a-zA-Z][a-zA-Z0-9+.-]*://\"))switch(e.split(\":\",1)[0]){case\"mailto\":break;default:e=\"http://\"+e}g.openUrl(e)}},g.Terminal.prototype.setAutomaticMouseHiding=function(e=null){null===e&&(e=\"cros\"!=g.os&&\"mac\"!=g.os),this.mouseHideWhileTyping_=!!e},g.Terminal.prototype.onKeyboardActivity_=function(){this.mouseHideWhileTyping_&&!this.mouseHideDelay_&&this.setCssVar(\"mouse-cursor-style\",\"none\")},g.Terminal.prototype.onMouse_=function(e){if(!e.processedByTerminalHandler_){2<e.button&&e.preventDefault();var t=!this.defeatMouseReports_&&this.vt.mouseReport!=this.vt.MOUSE_REPORT_DISABLED;if(e.processedByTerminalHandler_=!0,this.mouseHideWhileTyping_&&!this.mouseHideDelay_&&(this.syncMouseStyle(),this.mouseHideDelay_=setTimeout(()=>this.mouseHideDelay_=null,1e3)),e.terminalRow=parseInt((e.clientY-this.scrollPort_.visibleRowTopMargin)/this.scrollPort_.characterSize.height)+1,e.terminalColumn=parseInt(e.clientX/this.scrollPort_.characterSize.width)+1,!(\"mousedown\"==e.type&&e.terminalColumn>this.screenSize.width)){if(this.options_.cursorVisible&&!t&&(e.terminalRow-1==this.screen_.cursorPosition.row&&e.terminalColumn-1==this.screen_.cursorPosition.column?this.cursorNode_.style.display=\"none\":\"none\"==this.cursorNode_.style.display&&(this.cursorNode_.style.display=\"\")),\"mousedown\"==e.type&&(this.contextMenu.hide(e),e.altKey||!t?(this.defeatMouseReports_=!0,this.setSelectionEnabled(!0)):(this.defeatMouseReports_=!1,this.document_.getSelection().collapseToEnd(),this.setSelectionEnabled(!1),e.preventDefault())),t)this.scrollBlockerNode_.engaged||(\"mousedown\"==e.type?(this.scrollBlockerNode_.engaged=!0,this.scrollBlockerNode_.style.top=e.clientY-5+\"px\",this.scrollBlockerNode_.style.left=e.clientX-5+\"px\"):\"mousemove\"==e.type&&(this.document_.getSelection().collapseToEnd(),e.preventDefault())),this.onMouse(e);else{if(\"dblclick\"==e.type&&(this.screen_.expandSelection(this.document_.getSelection()),this.copyOnSelect&&this.copySelectionToClipboard()),\"click\"==e.type&&!e.shiftKey&&(e.ctrlKey||e.metaKey))return clearTimeout(this.timeouts_.openUrl),void(this.timeouts_.openUrl=setTimeout(this.openSelectedUrl_.bind(this),500));if(\"mousedown\"==e.type&&(e.ctrlKey&&2==e.button?(e.preventDefault(),this.contextMenu.show(e,this)):(e.button==this.mousePasteButton||this.mouseRightClickPaste&&2==e.button)&&!this.paste()&&console.warn(\"Could not paste manually due to web restrictions\")),\"mouseup\"==e.type&&0==e.button&&this.copyOnSelect&&!this.document_.getSelection().isCollapsed&&this.copySelectionToClipboard(),(\"mousemove\"==e.type||\"mouseup\"==e.type)&&this.scrollBlockerNode_.engaged&&(this.scrollBlockerNode_.engaged=!1,this.scrollBlockerNode_.style.top=\"-99px\"),this.scrollWheelArrowKeys_&&!e.shiftKey&&this.keyboard.applicationCursor&&!this.isPrimaryScreen()&&\"wheel\"==e.type){const t=this.scrollPort_.scrollWheelDelta(e),r=(e,t,r,i)=>{if(0==e)return\"\";const n=u.f.smartFloorDivide(o(e),t);return(\"\x1bO\"+(0>e?i:r)).repeat(n)};this.io.sendString(r(t.y,this.scrollPort_.characterSize.height,\"A\",\"B\")+r(t.x,this.scrollPort_.characterSize.width,\"C\",\"D\")),e.preventDefault()}}\"mouseup\"==e.type&&this.document_.getSelection().isCollapsed&&(this.defeatMouseReports_=!1)}}},g.Terminal.prototype.onMouse=function(){},g.Terminal.prototype.onFocusChange_=function(e){this.cursorNode_.setAttribute(\"focus\",e),this.restyleCursor_(),this.reportFocus&&this.io.sendString(!0===e?\"\x1b[I\":\"\x1b[O\"),!0===e&&this.closeBellNotifications_()},g.Terminal.prototype.onScroll_=function(){this.scheduleSyncCursorPosition_()},g.Terminal.prototype.onPaste_=function(e){var t=e.text.replace(/\\n/gm,\"\\r\");if(this.options_.bracketedPaste){const e=e=>e.replace(/[\\x00-\\x07\\x0b-\\x0c\\x0e-\\x1f]/g,\"\");t=\"\x1b[200~\"+e(t)+\"\x1b[201~\"}this.io.sendString(t)},g.Terminal.prototype.onCopy_=function(e){this.useDefaultWindowCopy||(e.preventDefault(),setTimeout(this.copySelectionToClipboard.bind(this),0))},g.Terminal.prototype.onResize_=function(){var e=n(this.scrollPort_.getScreenWidth()/this.scrollPort_.characterSize.width)||0,t=u.f.smartFloorDivide(this.scrollPort_.getScreenHeight(),this.scrollPort_.characterSize.height)||0;if(!(0>=e||0>=t)){var r=e!=this.screenSize.width||t!=this.screenSize.height;this.realizeSize_(e,t),this.showZoomWarning_(1!=this.scrollPort_.characterSize.zoomFactor),r&&this.overlaySize(),this.restyleCursor_(),this.scheduleSyncCursorPosition_()}},g.Terminal.prototype.onCursorBlink_=function(){return this.options_.cursorBlink?void(\"false\"==this.cursorNode_.getAttribute(\"focus\")||\"0\"==this.cursorNode_.style.opacity?(this.cursorNode_.style.opacity=\"1\",this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[0])):(this.cursorNode_.style.opacity=\"0\",this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[1]))):void delete this.timeouts_.cursorBlink},g.Terminal.prototype.setScrollbarVisible=function(e){this.scrollPort_.setScrollbarVisible(e)},g.Terminal.prototype.setScrollWheelMoveMultipler=function(e){this.scrollPort_.setScrollWheelMoveMultipler(e)},g.Terminal.prototype.closeBellNotifications_=function(){this.bellNotificationList_.forEach((function(e){e.close()})),this.bellNotificationList_.length=0},g.Terminal.prototype.onScrollportFocus_=function(){const e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e),r=this.document_.getSelection();!this.syncCursorPosition_()&&r&&r.collapse(this.getRowNode(t))},g.Terminal.IO=function(e){this.terminal_=e,this.previousIO_=null,this.buffered_=\"\",this.textDecoder_=new TextDecoder},g.Terminal.IO.prototype.showOverlay=function(e,t){this.terminal_.showOverlay(e,t)},g.Terminal.IO.prototype.hideOverlay=function(){this.terminal_.hideOverlay()},g.Terminal.IO.prototype.createFrame=function(e,t){return new g.Frame(this.terminal_,e,t)},g.Terminal.IO.prototype.setTerminalProfile=function(e){this.terminal_.setProfile(e)},g.Terminal.IO.prototype.push=function(){var e=new g.Terminal.IO(this.terminal_);return e.keyboardCaptured_=this.keyboardCaptured_,e.columnCount=this.columnCount,e.rowCount=this.rowCount,e.previousIO_=this.terminal_.io,this.terminal_.io=e,e},g.Terminal.IO.prototype.pop=function(){this.terminal_.io=this.previousIO_,this.previousIO_.flush()},g.Terminal.IO.prototype.flush=function(){this.buffered_&&(this.terminal_.interpret(this.buffered_),this.buffered_=\"\")},g.Terminal.IO.prototype.sendString=function(e){console.log(\"Unhandled sendString: \"+e)},g.Terminal.IO.prototype.onVTKeystroke=function(e){console.log(\"Unobserverd VT keystroke: \"+JSON.stringify(e))},g.Terminal.IO.prototype.onTerminalResize_=function(e,t){for(var r=this;r;)r.columnCount=e,r.rowCount=t,r=r.previousIO_;this.onTerminalResize(e,t)},g.Terminal.IO.prototype.onTerminalResize=function(){},g.Terminal.IO.prototype.writeUTF8=function(e){if(\"string\"!=typeof e){const t=new Uint8Array(e);e=\"raw\"==this.terminal_.characterEncoding?u.codec.codeUnitArrayToString(t):this.textDecoder_.decode(t,{stream:!0})}else if(\"raw\"!=this.terminal_.characterEncoding){const t=u.codec.stringToCodeUnitArray(e,Uint8Array);e=this.textDecoder_.decode(t,{stream:!0})}this.print(e)},g.Terminal.IO.prototype.writelnUTF8=function(e){this.writeUTF8(e),this.writeUTF8(\"\\r\\n\")},g.Terminal.IO.prototype.print=g.Terminal.IO.prototype.writeUTF16=function(e){return this.terminal_.io==this?void this.terminal_.interpret(e):void(this.buffered_+=e)},g.Terminal.IO.prototype.println=g.Terminal.IO.prototype.writelnUTF16=function(e){this.print(e+\"\\r\\n\")},g.TextAttributes=function(e){this.document_=e,this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.underlineSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.underlineColor=this.DEFAULT_COLOR,this.defaultForeground=\"rgb(255, 255, 255)\",this.defaultBackground=\"rgb(0, 0, 0)\",this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0,this.tileData=null,this.uri=null,this.uriId=null,this.colorPalette=null,this.resetColorPalette()},g.TextAttributes.prototype.enableBold=!0,g.TextAttributes.prototype.enableBoldAsBright=!0,g.TextAttributes.prototype.DEFAULT_COLOR=Symbol(\"DEFAULT_COLOR\"),g.TextAttributes.prototype.SRC_DEFAULT=Symbol(\"SRC_DEFAULT\"),g.TextAttributes.prototype.setDocument=function(e){this.document_=e},g.TextAttributes.prototype.clone=function(){var e=new g.TextAttributes(null);for(var t in this)e[t]=this[t];return e.colorPalette=this.colorPalette.concat(),e},g.TextAttributes.prototype.reset=function(){this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.underlineSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.underlineColor=this.DEFAULT_COLOR,this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0,this.uri=null,this.uriId=null},g.TextAttributes.prototype.resetColorPalette=function(){this.colorPalette=u.colors.colorPalette.concat(),this.syncColors()},g.TextAttributes.prototype.resetColor=function(e){e=parseInt(e,10),isNaN(e)||e>=this.colorPalette.length||(this.colorPalette[e]=u.colors.stockColorPalette[e],this.syncColors())},g.TextAttributes.prototype.isDefault=function(){return this.foregroundSource==this.SRC_DEFAULT&&this.backgroundSource==this.SRC_DEFAULT&&!this.bold&&!this.faint&&!this.italic&&!this.blink&&!this.underline&&!this.strikethrough&&!this.inverse&&!this.invisible&&!this.wcNode&&this.asciiNode&&null==this.tileData&&null==this.uri},g.TextAttributes.prototype.createContainer=function(e){if(this.isDefault()){const t=this.document_.createTextNode(e);return t.asciiNode=!0,t}var t=this.document_.createElement(\"span\"),r=t.style,o=[];this.foreground!=this.DEFAULT_COLOR&&(r.color=this.foreground),this.background!=this.DEFAULT_COLOR&&(r.backgroundColor=this.background),this.enableBold&&this.bold&&(r.fontWeight=\"bold\"),this.faint&&(t.faint=!0),this.italic&&(r.fontStyle=\"italic\"),this.blink&&(o.push(\"blink-node\"),t.blinkNode=!0);let i=\"\";return t.underline=this.underline,this.underline&&(i+=\" underline\",r.textDecorationStyle=this.underline),this.underlineColor!=this.DEFAULT_COLOR&&(r.textDecorationColor=this.underlineColor),this.strikethrough&&(i+=\" line-through\",t.strikethrough=!0),i&&(r.textDecorationLine=i),this.wcNode&&(o.push(\"wc-node\"),t.wcNode=!0),t.asciiNode=this.asciiNode,null!=this.tileData&&(o.push(\"tile\"),o.push(\"tile_\"+this.tileData),t.tileNode=!0),e&&(t.textContent=e),this.uri&&(o.push(\"uri-node\"),t.uriId=this.uriId,t.title=this.uri,t.addEventListener(\"click\",g.openUrl.bind(this,this.uri))),o.length&&(t.className=o.join(\" \")),t},g.TextAttributes.prototype.matchesContainer=function(e){if(\"string\"==typeof e||e.nodeType==Node.TEXT_NODE)return this.isDefault();var t=e.style;return!(this.wcNode||e.wcNode||this.asciiNode!=e.asciiNode||null!=this.tileData||e.tileNode||this.uriId!=e.uriId||this.foreground!=this.DEFAULT_COLOR||\"\"!=t.color||this.background!=this.DEFAULT_COLOR||\"\"!=t.backgroundColor||this.underlineColor!=this.DEFAULT_COLOR||\"\"!=t.textDecorationColor||(this.enableBold&&this.bold)!=!!t.fontWeight||this.blink!=!!e.blinkNode||this.italic!=!!t.fontStyle||this.underline!=e.underline||!!this.strikethrough!=!!e.strikethrough)},g.TextAttributes.prototype.setDefaults=function(e,t){this.defaultForeground=e,this.defaultBackground=t,this.syncColors()},g.TextAttributes.prototype.syncColors=function(){var e=Number.isInteger;const t=(e,t)=>e==this.DEFAULT_COLOR?t:e;var r=this.foregroundSource,o=this.backgroundSource;if(this.enableBoldAsBright&&this.bold&&e(r)&&(r=function(e){return 8>e?e+8:e}(r)),this.foreground=r==this.SRC_DEFAULT?this.DEFAULT_COLOR:e(r)?this.colorPalette[r]:r,this.faint){const e=t(this.foreground,this.defaultForeground);this.foreground=u.colors.mix(e,\"rgb(0, 0, 0)\",.3333)}if(this.background=o==this.SRC_DEFAULT?this.DEFAULT_COLOR:e(o)?this.colorPalette[o]:o,this.inverse){const e=t(this.foreground,this.defaultForeground);this.foreground=t(this.background,this.defaultBackground),this.background=e}this.invisible&&(this.foreground=this.background),this.underlineColor=this.underlineSource==this.SRC_DEFAULT?this.DEFAULT_COLOR:e(this.underlineSource)?this.colorPalette[this.underlineSource]:this.underlineSource},g.TextAttributes.containersMatch=function(e,t){if(\"string\"==typeof e)return g.TextAttributes.containerIsDefault(t);if(e.nodeType!=t.nodeType)return!1;if(e.nodeType==Node.TEXT_NODE)return!0;var r=e.style,o=t.style;return r.color==o.color&&r.backgroundColor==o.backgroundColor&&r.backgroundColor==o.backgroundColor&&r.fontWeight==o.fontWeight&&r.fontStyle==o.fontStyle&&r.textDecoration==o.textDecoration&&r.textDecorationColor==o.textDecorationColor&&r.textDecorationStyle==o.textDecorationStyle&&r.textDecorationLine==o.textDecorationLine},g.TextAttributes.containerIsDefault=function(e){return\"string\"==typeof e||e.nodeType==Node.TEXT_NODE},g.TextAttributes.nodeWidth=function(e){return e.asciiNode?e.textContent.length:u.wc.strWidth(e.textContent)},g.TextAttributes.nodeSubstr=function(e,t,r){return e.asciiNode?e.textContent.substr(t,r):u.wc.substr(e.textContent,t,r)},g.TextAttributes.nodeSubstring=function(e,t,r){return e.asciiNode?e.textContent.substring(t,r):u.wc.substring(e.textContent,t,r)},g.TextAttributes.splitWidecharString=function(e){const t=/^[ -\u007f]*$/;if(t.test(e))return[{str:e,wcNode:!1,asciiNode:!0,wcStrWidth:e.length}];const r=new Intl.Segmenter(void 0,{type:\"grapheme\"}).segment(e),o=[];for(let e=r.next();!e.done;){const i=e.value.segment,n=t.test(i),s=n?1:u.wc.strWidth(i),a=!n&&2==u.wc.charWidth(i.codePointAt(0)),l=o[o.length-1];!l||a||l.wcNode?o.push({str:i,wcNode:a,asciiNode:n,wcStrWidth:s}):(l.str+=i,l.wcStrWidth+=s,l.asciiNode=l.asciiNode&&n),e=r.next()}return o},g.VT=function(e){this.terminal=e,e.onMouse=this.onTerminalMouse_.bind(this),this.mouseReport=this.MOUSE_REPORT_DISABLED,this.mouseCoordinates=this.MOUSE_COORDINATES_X10,this.lastMouseDragResponse_=null,this.parseState_=new g.VT.ParseState(this.parseUnknown_),this.leadingModifier_=\"\",this.trailingModifier_=\"\",this.allowColumnWidthChanges_=!1,this.oscTimeLimit_=2e4,this.enable8BitControl=!1,this.enableClipboardWrite=!0,this.enableDec12=!1,this.enableCsiJ3=!0,this.characterEncoding=\"utf-8\",this.warnUnimplemented=!1,this.characterMaps=new g.VT.CharacterMaps,this.G0=this.G1=this.G2=this.G3=this.characterMaps.getMap(\"B\"),this.GL=\"G0\",this.GR=\"G0\",this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1,this.cc1Pattern_=null,this.updateEncodingState_()},g.VT.prototype.MOUSE_REPORT_DISABLED=0,g.VT.prototype.MOUSE_REPORT_PRESS=1,g.VT.prototype.MOUSE_REPORT_CLICK=2,g.VT.prototype.MOUSE_REPORT_DRAG=3,g.VT.prototype.MOUSE_COORDINATES_X10=0,g.VT.prototype.MOUSE_COORDINATES_UTF8=1,g.VT.prototype.MOUSE_COORDINATES_SGR=2,g.VT.ParseState=function(e,t){this.defaultFunction=e,this.buf=t||null,this.pos=0,this.func=e,this.args=[],this.subargs=null},g.VT.ParseState.prototype.reset=function(e){this.resetParseFunction(),this.resetBuf(e||\"\"),this.resetArguments()},g.VT.ParseState.prototype.resetParseFunction=function(){this.func=this.defaultFunction},g.VT.ParseState.prototype.resetBuf=function(e){this.buf=\"string\"==typeof e?e:null,this.pos=0},g.VT.ParseState.prototype.resetArguments=function(e){this.args.length=0,void 0!==e&&(this.args[0]=e)},g.VT.ParseState.prototype.parseInt=function(e,t){if(void 0===t&&(t=0),e){const r=parseInt(e,10);return 0==r?t:r}return t},g.VT.ParseState.prototype.iarg=function(e,t){return this.parseInt(this.args[e],t)},g.VT.ParseState.prototype.argHasSubargs=function(e){return this.subargs&&this.subargs[e]},g.VT.ParseState.prototype.argSetSubargs=function(e){null===this.subargs&&(this.subargs={}),this.subargs[e]=!0},g.VT.ParseState.prototype.advance=function(e){this.pos+=e},g.VT.ParseState.prototype.peekRemainingBuf=function(){return this.buf.substr(this.pos)},g.VT.ParseState.prototype.peekChar=function(){return this.buf.substr(this.pos,1)},g.VT.ParseState.prototype.consumeChar=function(){return this.buf.substr(this.pos++,1)},g.VT.ParseState.prototype.isComplete=function(){return null==this.buf||this.buf.length<=this.pos},g.VT.prototype.reset=function(){this.G0=this.G1=this.G2=this.G3=this.characterMaps.getMap(\"B\"),this.GL=\"G0\",this.GR=\"G0\",this.mouseReport=this.MOUSE_REPORT_DISABLED,this.mouseCoordinates=this.MOUSE_COORDINATES_X10,this.lastMouseDragResponse_=null},g.VT.prototype.onTerminalMouse_=function(e){if(this.mouseReport==this.MOUSE_REPORT_DISABLED)return;if(this.mouseReport!=this.MOUSE_REPORT_DRAG&&\"mousemove\"==e.type)return;var t,r=0;this.mouseReport!=this.MOUSE_REPORT_PRESS&&(e.shiftKey&&(r|=4),(e.metaKey||this.terminal.keyboard.altIsMeta&&e.altKey)&&(r|=8),e.ctrlKey&&(r|=16));let o,i,n=127;switch(this.mouseCoordinates){case this.MOUSE_COORDINATES_UTF8:n=2047;case this.MOUSE_COORDINATES_X10:o=c(u.f.clamp(e.terminalColumn+32,32,n)),i=c(u.f.clamp(e.terminalRow+32,32,n));break;case this.MOUSE_COORDINATES_SGR:o=e.terminalColumn,i=e.terminalRow}switch(e.type){case\"wheel\":s=64+(0<-1*e.deltaY?0:1),s|=r,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`\x1b[<${s};${o};${i}M`:\"\x1b[M\"+c(s+32)+o+i,e.preventDefault();break;case\"mousedown\":var s=l(e.button,2);this.mouseCoordinates!=this.MOUSE_COORDINATES_SGR&&(s+=32),s|=r,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`\x1b[<${s};${o};${i}M`:\"\x1b[M\"+c(s)+o+i;break;case\"mouseup\":this.mouseReport!=this.MOUSE_REPORT_PRESS&&(t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`\x1b[<${e.button};${o};${i}m`:\"\x1b[M#\"+o+i);break;case\"mousemove\":this.mouseReport==this.MOUSE_REPORT_DRAG&&e.buttons&&(s=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?0:32,s+=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3,s+=32,s|=r,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`\x1b[<${s};${o};${i}M`:\"\x1b[M\"+c(s)+o+i,this.lastMouseDragResponse_==t?t=\"\":this.lastMouseDragResponse_=t);break;case\"click\":case\"dblclick\":break;default:console.error(\"Unknown mouse event: \"+e.type,e)}t&&this.terminal.io.sendString(t)},g.VT.prototype.interpret=function(e){for(this.parseState_.resetBuf(e);!this.parseState_.isComplete();){var t=this.parseState_.func,r=this.parseState_.pos;e=this.parseState_.buf;if(this.parseState_.func.call(this,this.parseState_),this.parseState_.func==t&&this.parseState_.pos==r&&this.parseState_.buf==e)throw\"Parser did not alter the state!\"}},g.VT.prototype.setEncoding=function(e){\"iso-2022\"===e?(this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1):\"utf-8-locked\"===e?(this.codingSystemUtf8_=!0,this.codingSystemLocked_=!0):\"utf-8\"===e?(this.codingSystemUtf8_=!0,this.codingSystemLocked_=!1):console.warn('Invalid value for \"terminal-encoding\": '+e),this.updateEncodingState_()},g.VT.prototype.updateEncodingState_=function(){var e=Object.keys(g.VT.CC1).filter(e=>!this.codingSystemUtf8_||128>e.charCodeAt()).map(e=>\"\\\\x\"+u.f.zpad(e.charCodeAt().toString(16),2)).join(\"\");this.cc1Pattern_=new RegExp(`[${e}]`)},g.VT.prototype.parseUnknown_=function(e){function t(e){!r.codingSystemUtf8_&&r[r.GL].GL&&(e=r[r.GL].GL(e)),r.terminal.print(e)}var r=this,o=e.peekRemainingBuf(),i=o.search(this.cc1Pattern_);return 0==i?(this.dispatch(\"CC1\",o.substr(0,1),e),void e.advance(1)):-1==i?(t(o),void e.reset()):(t(o.substr(0,i)),this.dispatch(\"CC1\",o.substr(i,1),e),void e.advance(i+1))},g.VT.prototype.parseCSI_=function(e){var t=e.peekChar(),r=e.args;const o=()=>{e.resetArguments(),e.subargs=null,e.resetParseFunction()};\"@\"<=t&&\"~\">=t?(this.dispatch(\"CSI\",this.leadingModifier_+this.trailingModifier_+t,e),o()):\";\"==t?this.trailingModifier_?o():(!r.length&&r.push(\"\"),r.push(\"\")):\"0\"<=t&&\"9\">=t||\":\"==t?this.trailingModifier_?o():(r.length?r[r.length-1]+=t:r[0]=t,\":\"==t&&e.argSetSubargs(r.length-1)):\" \"<=t&&\"?\">=t?r.length?this.trailingModifier_+=t:this.leadingModifier_+=t:this.cc1Pattern_.test(t)?this.dispatch(\"CC1\",t,e):o(),e.advance(1)},g.VT.prototype.parseUntilStringTerminator_=function(e){var t=e.peekRemainingBuf(),r=e.args;let o=0;r.length?\"\x1b\"==r[0].slice(-1)&&(r[0]=r[0].slice(0,-1),t=\"\x1b\"+t,o=1):(r[0]=\"\",r[1]=new Date);const i=t.search(/[\\x1b\\x07]/),n=t[i];let s;var a;return(s=(\"\x1b\"!=n||\"\\\\\"==t[i+1])&&-1!=i)?(r[0]+=t.substr(0,i),e.resetParseFunction(),e.advance(i+(\"\x1b\"==n?2:1)-o),!0):(r[0]+=t,\"\x1b\"==n&&i!=t.length-1&&(a=\"embedded escape: \"+i),new Date-r[1]>this.oscTimeLimit_&&(a=\"timeout expired: \"+(new Date-r[1])),a?(this.warnUnimplemented&&console.log(\"parseUntilStringTerminator_: aborting: \"+a,r[0]),e.reset(r[0]),!1):(e.advance(t.length-o),!0))},g.VT.prototype.dispatch=function(e,t,r){var o=g.VT[e][t];return o?o==g.VT.ignore?void(this.warnUnimplemented&&console.warn(\"Ignored \"+e+\" code: \"+JSON.stringify(t))):r.subargs&&!o.supportsSubargs?void(this.warnUnimplemented&&console.warn(\"Ignored \"+e+\" code w/subargs: \"+JSON.stringify(t))):\"CC1\"==e&&\"\u007f\"<t&&!this.enable8BitControl?void console.warn(\"Ignoring 8-bit control code: 0x\"+t.charCodeAt(0).toString(16)):void o.apply(this,[r,t]):void(this.warnUnimplemented&&console.warn(\"Unknown \"+e+\" code: \"+JSON.stringify(t)))},g.VT.prototype.setANSIMode=function(e,t){4==e?this.terminal.setInsertMode(t):20==e?this.terminal.setAutoCarriageReturn(t):this.warnUnimplemented&&console.warn(\"Unimplemented ANSI Mode: \"+e)},g.VT.prototype.setDECMode=function(e,t){switch(parseInt(e,10)){case 1:this.terminal.keyboard.applicationCursor=t;break;case 3:this.allowColumnWidthChanges_&&(this.terminal.setWidth(t?132:80),this.terminal.clearHome(),this.terminal.setVTScrollRegion(null,null));break;case 5:this.terminal.setReverseVideo(t);break;case 6:this.terminal.setOriginMode(t);break;case 7:this.terminal.setWraparound(t);break;case 9:this.mouseReport=t?this.MOUSE_REPORT_PRESS:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 12:this.enableDec12&&this.terminal.setCursorBlink(t);break;case 25:this.terminal.setCursorVisible(t);break;case 30:this.terminal.setScrollbarVisible(t);break;case 40:this.terminal.allowColumnWidthChanges_=t;break;case 45:this.terminal.setReverseWraparound(t);break;case 67:this.terminal.keyboard.backspaceSendsBackspace=t;break;case 1e3:this.mouseReport=t?this.MOUSE_REPORT_CLICK:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1002:this.mouseReport=t?this.MOUSE_REPORT_DRAG:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1004:this.terminal.reportFocus=t;break;case 1005:this.mouseCoordinates=t?this.MOUSE_COORDINATES_UTF8:this.MOUSE_COORDINATES_X10;break;case 1006:this.mouseCoordinates=t?this.MOUSE_COORDINATES_SGR:this.MOUSE_COORDINATES_X10;break;case 1007:this.terminal.scrollWheelArrowKeys_=t;break;case 1010:this.terminal.scrollOnOutput=t;break;case 1011:this.terminal.scrollOnKeystroke=t;break;case 1036:this.terminal.keyboard.metaSendsEscape=t;break;case 1039:t?!this.terminal.keyboard.previousAltSendsWhat_&&(this.terminal.keyboard.previousAltSendsWhat_=this.terminal.keyboard.altSendsWhat,this.terminal.keyboard.altSendsWhat=\"escape\"):this.terminal.keyboard.previousAltSendsWhat_&&(this.terminal.keyboard.altSendsWhat=this.terminal.keyboard.previousAltSendsWhat_,this.terminal.keyboard.previousAltSendsWhat_=null);break;case 47:case 1047:this.terminal.setAlternateMode(t);break;case 1048:t?this.terminal.saveCursorAndState():this.terminal.restoreCursorAndState();break;case 1049:t?(this.terminal.saveCursorAndState(),this.terminal.setAlternateMode(t),this.terminal.clear()):(this.terminal.setAlternateMode(t),this.terminal.restoreCursorAndState());break;case 2004:this.terminal.setBracketedPaste(t);break;default:this.warnUnimplemented&&console.warn(\"Unimplemented DEC Private Mode: \"+e)}},g.VT.ignore=function(){},g.VT.CC1={},g.VT.ESC={},g.VT.CSI={},g.VT.OSC={},g.VT.VT52={},g.VT.CC1[\"\\0\"]=g.VT.ignore,g.VT.CC1[\"\x05\"]=g.VT.ignore,g.VT.CC1[\"\a\"]=function(){this.terminal.ringBell()},g.VT.CC1[\"\\b\"]=function(){this.terminal.cursorLeft(1)},g.VT.CC1[\"\\t\"]=function(){this.terminal.forwardTabStop()},g.VT.CC1[\"\\n\"]=function(){this.terminal.formFeed()},g.VT.CC1[\"\\v\"]=g.VT.CC1[\"\\n\"],g.VT.CC1[\"\\f\"]=g.VT.CC1[\"\\n\"],g.VT.CC1[\"\\r\"]=function(){this.terminal.setCursorColumn(0)},g.VT.CC1[\"\x0e\"]=function(){this.GL=\"G1\"},g.VT.CC1[\"\x0f\"]=function(){this.GL=\"G0\"},g.VT.CC1[\"\x11\"]=g.VT.ignore,g.VT.CC1[\"\x13\"]=g.VT.ignore,g.VT.CC1[\"\x18\"]=function(e){\"G1\"==this.GL&&(this.GL=\"G0\"),e.resetParseFunction(),this.terminal.print(\"?\")},g.VT.CC1[\"\x1a\"]=g.VT.CC1[\"\x18\"],g.VT.CC1[\"\x1b\"]=function(e){e.func=function e(t){var r=t.consumeChar();\"\x1b\"==r||(this.dispatch(\"ESC\",r,t),t.func==e&&t.resetParseFunction())}},g.VT.CC1[\"\u007f\"]=g.VT.ignore,g.VT.CC1[\"\u0084\"]=g.VT.ESC.D=function(){this.terminal.lineFeed()},g.VT.CC1[\"\u0085\"]=g.VT.ESC.E=function(){this.terminal.setCursorColumn(0),this.terminal.cursorDown(1)},g.VT.CC1[\"\u0088\"]=g.VT.ESC.H=function(){this.terminal.setTabStop(this.terminal.getCursorColumn())},g.VT.CC1[\"\u008d\"]=g.VT.ESC.M=function(){this.terminal.reverseLineFeed()},g.VT.CC1[\"\u008e\"]=g.VT.ESC.N=g.VT.ignore,g.VT.CC1[\"\u008f\"]=g.VT.ESC.O=g.VT.ignore,g.VT.CC1[\"\u0090\"]=g.VT.ESC.P=function(e){e.resetArguments(),e.func=this.parseUntilStringTerminator_},g.VT.CC1[\"\u0096\"]=g.VT.ESC.V=g.VT.ignore,g.VT.CC1[\"\u0097\"]=g.VT.ESC.W=g.VT.ignore,g.VT.CC1[\"\u0098\"]=g.VT.ESC.X=g.VT.ignore,g.VT.CC1[\"\u009a\"]=g.VT.ESC.Z=function(){this.terminal.io.sendString(\"\x1b[?1;2c\")},g.VT.CC1[\"\u009b\"]=g.VT.ESC[\"[\"]=function(e){e.resetArguments(),this.leadingModifier_=\"\",this.trailingModifier_=\"\",e.func=this.parseCSI_},g.VT.CC1[\"\u009c\"]=g.VT.ESC[\"\\\\\"]=g.VT.ignore,g.VT.CC1[\"\u009d\"]=g.VT.ESC[\"]\"]=function(e){e.resetArguments(),e.func=function e(t){if(this.parseUntilStringTerminator_(t)&&t.func!=e){var r=t.args[0].match(/^(\\d+);?(.*)$/);r?(t.args[0]=r[2],this.dispatch(\"OSC\",r[1],t)):console.warn(\"Invalid OSC: \"+JSON.stringify(t.args[0])),t.resetArguments()}}},g.VT.CC1[\"\u009e\"]=g.VT.ESC[\"^\"]=function(e){e.resetArguments(),e.func=this.parseUntilStringTerminator_},g.VT.CC1[\"\u009f\"]=g.VT.ESC._=function(e){e.resetArguments(),e.func=this.parseUntilStringTerminator_},g.VT.ESC[\" \"]=function(e){e.func=function(e){var t=e.consumeChar();this.warnUnimplemented&&console.warn(\"Unimplemented sequence: ESC 0x20 \"+t),e.resetParseFunction()}},g.VT.ESC[\"#\"]=function(e){e.func=function(e){\"8\"==e.consumeChar()&&(this.terminal.setCursorPosition(0,0),this.terminal.fill(\"E\")),e.resetParseFunction()}},g.VT.ESC[\"%\"]=function(e){e.func=function(e){var t=e.consumeChar();if(this.codingSystemLocked_)return\"/\"==t&&e.consumeChar(),void e.resetParseFunction();switch(t){case\"@\":this.setEncoding(\"iso-2022\");break;case\"G\":this.setEncoding(\"utf-8\");break;case\"/\":switch(t=e.consumeChar()){case\"G\":case\"H\":case\"I\":this.setEncoding(\"utf-8-locked\");break;default:this.warnUnimplemented&&console.warn(\"Unknown ESC % / argument: \"+JSON.stringify(t))}break;default:this.warnUnimplemented&&console.warn(\"Unknown ESC % argument: \"+JSON.stringify(t))}e.resetParseFunction()}},g.VT.ESC[\"(\"]=g.VT.ESC[\")\"]=g.VT.ESC[\"*\"]=g.VT.ESC[\"+\"]=g.VT.ESC[\"-\"]=g.VT.ESC[\".\"]=g.VT.ESC[\"/\"]=function(e,t){e.func=function(e){var r=e.consumeChar();if(\"\x1b\"==r)return e.resetParseFunction(),void e.func();var o=this.characterMaps.getMap(r);void 0===o?this.warnUnimplemented&&console.log('Invalid character set for \"'+t+'\": '+r):\"(\"==t?this.G0=o:\")\"==t||\"-\"==t?this.G1=o:\"*\"==t||\".\"==t?this.G2=o:(\"+\"==t||\"/\"==t)&&(this.G3=o),e.resetParseFunction()}},g.VT.ESC[6]=g.VT.ignore,g.VT.ESC[7]=function(){this.terminal.saveCursorAndState()},g.VT.ESC[8]=function(){this.terminal.restoreCursorAndState()},g.VT.ESC[9]=g.VT.ignore,g.VT.ESC[\"=\"]=function(){this.terminal.keyboard.applicationKeypad=!0},g.VT.ESC[\">\"]=function(){this.terminal.keyboard.applicationKeypad=!1},g.VT.ESC.F=g.VT.ignore,g.VT.ESC.c=function(){this.terminal.reset()},g.VT.ESC.l=g.VT.ESC.m=g.VT.ignore,g.VT.ESC.n=function(){this.GL=\"G2\"},g.VT.ESC.o=function(){this.GL=\"G3\"},g.VT.ESC[\"|\"]=function(){this.GR=\"G3\"},g.VT.ESC[\"}\"]=function(){this.GR=\"G2\"},g.VT.ESC[\"~\"]=function(){this.GR=\"G1\"},g.VT.OSC[0]=function(e){this.terminal.setWindowTitle(e.args[0])},g.VT.OSC[2]=g.VT.OSC[0],g.VT.OSC[4]=function(e){for(var t=e.args[0].split(\";\"),r=parseInt(t.length/2),o=this.terminal.getTextAttributes().colorPalette,i=[],n=0;n<r;++n){var s=parseInt(t[2*n]),a=t[2*n+1];if(!(s>=o.length)){if(\"?\"==a){(a=u.colors.rgbToX11(o[s]))&&i.push(s+\";\"+a);continue}(a=u.colors.x11ToCSS(a))&&(o[s]=a)}}i.length&&this.terminal.io.sendString(\"\x1b]4;\"+i.join(\";\")+\"\a\")},g.VT.OSC[8]=function(e){const t=e.args[0].split(\";\");let r=null,o=null;if(2!=t.length||0==t[1].length);else{const e=t[0].split(\":\");r=\"\",e.forEach(e=>{const t=e.indexOf(\"=\");if(-1!=t){const o=e.slice(0,t),i=e.slice(t+1);switch(o){case\"id\":r=i}}}),o=t[1]}const i=this.terminal.getTextAttributes();i.uri=o,i.uriId=r},g.VT.OSC[9]=function(e){g.notify({body:e.args[0]})},g.VT.OSC[10]=function(e){var t=e.args[0].split(\";\");if(t){var r=u.colors.x11ToCSS(t.shift());r&&this.terminal.setForegroundColor(r),0<t.length&&(e.args[0]=t.join(\";\"),g.VT.OSC[11].apply(this,[e]))}},g.VT.OSC[11]=function(e){var t=e.args[0].split(\";\");if(t){var r=u.colors.x11ToCSS(t.shift());r&&this.terminal.setBackgroundColor(r),0<t.length&&(e.args[0]=t.join(\";\"),g.VT.OSC[12].apply(this,[e]))}},g.VT.OSC[12]=function(e){var t=e.args[0].split(\";\");if(t){var r=u.colors.x11ToCSS(t.shift());r&&this.terminal.setCursorColor(r)}},g.VT.OSC[50]=function(e){var t=e.args[0].match(/CursorShape=(.)/i);if(t)switch(t[1]){case\"1\":this.terminal.setCursorShape(g.Terminal.cursorShape.BEAM);break;case\"2\":this.terminal.setCursorShape(g.Terminal.cursorShape.UNDERLINE);break;default:this.terminal.setCursorShape(g.Terminal.cursorShape.BLOCK)}else console.warn(\"Could not parse OSC 50 args: \"+e.args[0])},g.VT.OSC[52]=function(e){if(!this.enableClipboardWrite)return;var t=e.args[0].match(/^[cps01234567]*;(.*)/);if(!t)return;let r;try{r=window.atob(t[1])}catch(t){return}if(\"utf-8\"==this.characterEncoding){const e=new TextDecoder,t=u.codec.stringToCodeUnitArray(r,Uint8Array);r=e.decode(t)}r&&this.terminal.copyStringToClipboard(r)},g.VT.OSC[104]=function(e){const t=this.terminal.getTextAttributes();e.args[0]?e.args[0].split(\";\").forEach(e=>t.resetColor(e)):t.resetColorPalette()},g.VT.OSC[110]=function(){this.terminal.setForegroundColor()},g.VT.OSC[111]=function(){this.terminal.setBackgroundColor()},g.VT.OSC[112]=function(){this.terminal.setCursorColor()},g.VT.OSC[1337]=function(e){let t=e.args[0].match(/^File=([^:]*):([\\s\\S]*)$/m);if(!t)return void(this.warnUnimplemented&&console.log(`iTerm2 1337: unsupported sequence: ${t[1]}`));const r={name:\"\",size:0,preserveAspectRatio:!0,inline:!1,width:\"auto\",height:\"auto\",align:\"left\",type:\"\",buffer:u.codec.stringToCodeUnitArray(atob(t[2]),Uint8Array).buffer};if(t[1].split(\";\").forEach(e=>{const t=e.match(/^([^=]+)=(.*)$/m);if(t)switch(t[1]){case\"name\":try{r.name=window.atob(t[2])}catch(t){}break;case\"size\":try{r.size=parseInt(t[2])}catch(t){}break;case\"width\":r.width=t[2];break;case\"height\":r.height=t[2];break;case\"preserveAspectRatio\":r.preserveAspectRatio=\"0\"!=t[2];break;case\"inline\":r.inline=\"0\"!=t[2];break;case\"align\":r.align=t[2];break;case\"type\":r.type=t[2]}}),r.inline){const t=this.terminal.io,o=e.peekRemainingBuf();e.advance(o.length),this.terminal.displayImage(r),t.print(o)}else this.terminal.displayImage(r)},g.VT.OSC[777]=function(e){var t;switch(e.args[0].split(\";\",1)[0]){case\"notify\":var r,o;(t=e.args[0].match(/^[^;]+;([^;]*)(;([\\s\\S]*))?$/))&&(r=t[1],o=t[3]),g.notify({title:r,body:o});break;default:console.warn(\"Unknown urxvt module: \"+e.args[0])}},g.VT.CSI[\"@\"]=function(e){this.terminal.insertSpace(e.iarg(0,1))},g.VT.CSI.A=function(e){this.terminal.cursorUp(e.iarg(0,1))},g.VT.CSI.B=function(e){this.terminal.cursorDown(e.iarg(0,1))},g.VT.CSI.C=function(e){this.terminal.cursorRight(e.iarg(0,1))},g.VT.CSI.D=function(e){this.terminal.cursorLeft(e.iarg(0,1))},g.VT.CSI.E=function(e){this.terminal.cursorDown(e.iarg(0,1)),this.terminal.setCursorColumn(0)},g.VT.CSI.F=function(e){this.terminal.cursorUp(e.iarg(0,1)),this.terminal.setCursorColumn(0)},g.VT.CSI.G=function(e){this.terminal.setCursorColumn(e.iarg(0,1)-1)},g.VT.CSI.H=function(e){this.terminal.setCursorPosition(e.iarg(0,1)-1,e.iarg(1,1)-1)},g.VT.CSI.I=function(e){var t=e.iarg(0,1);t=u.f.clamp(t,1,this.terminal.screenSize.width);for(var r=0;r<t;r++)this.terminal.forwardTabStop()},g.VT.CSI.J=g.VT.CSI[\"?J\"]=function(e){var t=e.args[0];t&&0!=t?1==t?this.terminal.eraseAbove():2==t?this.terminal.clear():3==t&&this.enableCsiJ3&&this.terminal.clearScrollback():this.terminal.eraseBelow()},g.VT.CSI.K=g.VT.CSI[\"?K\"]=function(e){var t=e.args[0];t&&0!=t?1==t?this.terminal.eraseToLeft():2==t&&this.terminal.eraseLine():this.terminal.eraseToRight()},g.VT.CSI.L=function(e){this.terminal.insertLines(e.iarg(0,1))},g.VT.CSI.M=function(e){this.terminal.deleteLines(e.iarg(0,1))},g.VT.CSI.P=function(e){this.terminal.deleteChars(e.iarg(0,1))},g.VT.CSI.S=function(e){this.terminal.vtScrollUp(e.iarg(0,1))},g.VT.CSI.T=function(e){1>=e.args.length&&this.terminal.vtScrollDown(e.iarg(0,1))},g.VT.CSI[\">T\"]=g.VT.ignore,g.VT.CSI.X=function(e){this.terminal.eraseToRight(e.iarg(0,1))},g.VT.CSI.Z=function(e){var t=e.iarg(0,1);t=u.f.clamp(t,1,this.terminal.screenSize.width);for(var r=0;r<t;r++)this.terminal.backwardTabStop()},g.VT.CSI[\"`\"]=g.VT.CSI.G,g.VT.CSI.a=function(e){this.terminal.setCursorColumn(this.terminal.getCursorColumn()+e.iarg(0,1))},g.VT.CSI.b=g.VT.ignore,g.VT.CSI.c=function(e){e.args[0]&&0!=e.args[0]||this.terminal.io.sendString(\"\x1b[?1;2c\")},g.VT.CSI[\">c\"]=function(){this.terminal.io.sendString(\"\x1b[>0;256;0c\")},g.VT.CSI.d=function(e){this.terminal.setAbsoluteCursorRow(e.iarg(0,1)-1)},g.VT.CSI.f=g.VT.CSI.H,g.VT.CSI.g=function(e){e.args[0]&&0!=e.args[0]?3==e.args[0]&&this.terminal.clearAllTabStops():this.terminal.clearTabStopAtCursor(!1)},g.VT.CSI.h=function(e){for(var t=0;t<e.args.length;t++)this.setANSIMode(e.args[t],!0)},g.VT.CSI[\"?h\"]=function(e){for(var t=0;t<e.args.length;t++)this.setDECMode(e.args[t],!0)},g.VT.CSI.i=g.VT.CSI[\"?i\"]=g.VT.ignore,g.VT.CSI.l=function(e){for(var t=0;t<e.args.length;t++)this.setANSIMode(e.args[t],!1)},g.VT.CSI[\"?l\"]=function(e){for(var t=0;t<e.args.length;t++)this.setDECMode(e.args[t],!1)},g.VT.prototype.parseSgrExtendedColors=function(e,t,r){let o,i;if(e.argHasSubargs(t))(o=e.args[t].split(\":\")).shift(),i=!0;else{if(e.argHasSubargs(t+1))return{skipCount:0};o=e.args.slice(t+1),i=!1}switch(parseInt(o[0])){default:case 0:return{skipCount:0};case 1:return i?{color:\"rgba(0, 0, 0, 0)\",skipCount:0}:{skipCount:0};case 2:{let t;if(t=i?4==o.length?1:2:1,o.length<t+3)return{skipCount:0};return{color:`rgb(${e.parseInt(o[t+0])}, ${e.parseInt(o[t+1])}, ${e.parseInt(o[t+2])})`,skipCount:i?0:4}}case 3:if(!i)return{skipCount:0};if(4>o.length)return{skipCount:0};e.parseInt(o[1]),e.parseInt(o[2]),e.parseInt(o[3]);return{skipCount:0};case 4:if(!i)return{skipCount:0};if(5>o.length)return{skipCount:0};e.parseInt(o[1]),e.parseInt(o[2]),e.parseInt(o[3]),e.parseInt(o[4]);return{skipCount:0};case 5:{if(2>o.length)return{skipCount:0};const t={skipCount:i?0:2},n=e.parseInt(o[1]);return n<r.colorPalette.length&&(t.color=n),t}}},g.VT.CSI.m=function(e){var t=this.terminal.getTextAttributes();if(e.args.length){for(var r,o=0;o<e.args.length;o++)if(30>(r=e.iarg(o,0)))if(0==r)t.reset();else if(1==r)t.bold=!0;else if(2==r)t.faint=!0;else if(3==r)t.italic=!0;else if(4!=r)5==r?t.blink=!0:7==r?t.inverse=!0:8==r?t.invisible=!0:9==r?t.strikethrough=!0:21==r?t.underline=\"double\":22==r?(t.bold=!1,t.faint=!1):23==r?t.italic=!1:24==r?t.underline=!1:25==r?t.blink=!1:27==r?t.inverse=!1:28==r?t.invisible=!1:29==r&&(t.strikethrough=!1);else if(e.argHasSubargs(o)){const r=e.args[o].split(\":\")[1];0==r?t.underline=!1:1==r?t.underline=\"solid\":2==r?t.underline=\"double\":3==r?t.underline=\"wavy\":4==r?t.underline=\"dotted\":5==r&&(t.underline=\"dashed\")}else t.underline=\"solid\";else if(50>r)if(38>r)t.foregroundSource=r-30;else if(38==r){const r=this.parseSgrExtendedColors(e,o,t);void 0!==r.color&&(t.foregroundSource=r.color),o+=r.skipCount}else if(39==r)t.foregroundSource=t.SRC_DEFAULT;else if(48>r)t.backgroundSource=r-40;else if(48==r){const r=this.parseSgrExtendedColors(e,o,t);void 0!==r.color&&(t.backgroundSource=r.color),o+=r.skipCount}else t.backgroundSource=t.SRC_DEFAULT;else if(58==r){const r=this.parseSgrExtendedColors(e,o,t);void 0!==r.color&&(t.underlineSource=r.color),o+=r.skipCount}else 59==r?t.underlineSource=t.SRC_DEFAULT:90<=r&&97>=r?t.foregroundSource=r-90+8:100<=r&&107>=r&&(t.backgroundSource=r-100+8);t.setDefaults(this.terminal.getForegroundColor(),this.terminal.getBackgroundColor())}else t.reset()},g.VT.CSI.m.supportsSubargs=!0,g.VT.CSI[\">m\"]=g.VT.ignore,g.VT.CSI.n=function(e){if(5==e.args[0])this.terminal.io.sendString(\"\x1b0n\");else if(6==e.args[0]){var t=this.terminal.getCursorRow()+1,r=this.terminal.getCursorColumn()+1;this.terminal.io.sendString(\"\x1b[\"+t+\";\"+r+\"R\")}},g.VT.CSI[\">n\"]=g.VT.ignore,g.VT.CSI[\"?n\"]=function(e){if(6==e.args[0]){var t=this.terminal.getCursorRow()+1,r=this.terminal.getCursorColumn()+1;this.terminal.io.sendString(\"\x1b[\"+t+\";\"+r+\"R\")}else 15==e.args[0]?this.terminal.io.sendString(\"\x1b[?11n\"):25==e.args[0]?this.terminal.io.sendString(\"\x1b[?21n\"):26==e.args[0]?this.terminal.io.sendString(\"\x1b[?12;1;0;0n\"):53==e.args[0]&&this.terminal.io.sendString(\"\x1b[?50n\")},g.VT.CSI[\">p\"]=g.VT.ignore,g.VT.CSI[\"!p\"]=function(){this.terminal.softReset()},g.VT.CSI.$p=g.VT.ignore,g.VT.CSI[\"?$p\"]=g.VT.ignore,g.VT.CSI['\"p']=g.VT.ignore,g.VT.CSI.q=g.VT.ignore,g.VT.CSI[\" q\"]=function(e){var t=e.args[0];0==t||1==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!0)):2==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!1)):3==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!0)):4==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!1)):5==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!0)):6==t?(this.terminal.setCursorShape(g.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!1)):console.warn(\"Unknown cursor style: \"+t)},g.VT.CSI['\"q']=g.VT.ignore,g.VT.CSI.r=function(e){var t=e.args,r=t[0]?parseInt(t[0],10)-1:null,o=t[1]?parseInt(t[1],10)-1:null;this.terminal.setVTScrollRegion(r,o),this.terminal.setCursorPosition(0,0)},g.VT.CSI[\"?r\"]=g.VT.ignore,g.VT.CSI.$r=g.VT.ignore,g.VT.CSI.s=function(){this.terminal.saveCursorAndState()},g.VT.CSI[\"?s\"]=g.VT.ignore,g.VT.CSI.t=g.VT.ignore,g.VT.CSI.$t=g.VT.ignore,g.VT.CSI[\">t\"]=g.VT.ignore,g.VT.CSI[\" t\"]=g.VT.ignore,g.VT.CSI.u=function(){this.terminal.restoreCursorAndState()},g.VT.CSI[\" u\"]=g.VT.ignore,g.VT.CSI.$v=g.VT.ignore,g.VT.CSI[\"'w\"]=g.VT.ignore,g.VT.CSI.x=g.VT.ignore,g.VT.CSI[\"*x\"]=g.VT.ignore,g.VT.CSI.$x=g.VT.ignore,g.VT.CSI.z=function(e){if(!(1>e.args.length)){var t=e.args[0];if(0==t){if(2>e.args.length)return;this.terminal.getTextAttributes().tileData=e.args[1]}else 1==t&&(this.terminal.getTextAttributes().tileData=null)}},g.VT.CSI[\"'z\"]=g.VT.ignore,g.VT.CSI.$z=g.VT.ignore,g.VT.CSI[\"'{\"]=g.VT.ignore,g.VT.CSI[\"'|\"]=g.VT.ignore,g.VT.CSI[\"'}\"]=g.VT.ignore,g.VT.CSI[\"'~\"]=g.VT.ignore,g.VT.CharacterMap=function(e,t){this.description=e,this.GL=null,this.glmapBase_=t,this.sync_()},g.VT.CharacterMap.prototype.sync_=function(e){if(!this.glmapBase_&&!e)return this.GL=null,delete this.glmap_,void delete this.glre_;this.glmap_=e?Object.assign({},this.glmapBase_,e):this.glmapBase_;var t=Object.keys(this.glmap_).map(e=>\"\\\\x\"+u.f.zpad(e.charCodeAt(0).toString(16)));this.glre_=new RegExp(\"[\"+t.join(\"\")+\"]\",\"g\"),this.GL=e=>e.replace(this.glre_,e=>this.glmap_[e])},g.VT.CharacterMap.prototype.reset=function(){this.glmap_!==this.glmapBase_&&this.sync_()},g.VT.CharacterMap.prototype.setOverrides=function(e){this.sync_(e)},g.VT.CharacterMap.prototype.clone=function(){var e=new g.VT.CharacterMap(this.description,this.glmapBase_);return this.glmap_!==this.glmapBase_&&e.setOverrides(this.glmap_),e},g.VT.CharacterMaps=function(){this.maps_=g.VT.CharacterMaps.DefaultMaps,this.mapsBase_=this.maps_},g.VT.CharacterMaps.prototype.getMap=function(e){return this.maps_.hasOwnProperty(e)?this.maps_[e]:void 0},g.VT.CharacterMaps.prototype.addMap=function(e,t){this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_)),this.maps_[e]=t},g.VT.CharacterMaps.prototype.reset=function(){this.maps_!==g.VT.CharacterMaps.DefaultMaps&&(this.maps_=g.VT.CharacterMaps.DefaultMaps)},g.VT.CharacterMaps.prototype.setOverrides=function(e){for(var t in this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_)),e){var r=this.getMap(t);void 0===r?this.addMap(t,new g.VT.CharacterMap(\"user \"+t,e[t])):(this.maps_[t]=r.clone(),this.maps_[t].setOverrides(e[t]))}},g.VT.CharacterMaps.DefaultMaps={},g.VT.CharacterMaps.DefaultMaps[0]=new g.VT.CharacterMap(\"graphic\",{\"`\":\"◆\",a:\"▒\",b:\"␉\",c:\"␌\",d:\"␍\",e:\"␊\",f:\"°\",g:\"±\",h:\"␤\",i:\"␋\",j:\"┘\",k:\"┐\",l:\"┌\",m:\"└\",n:\"┼\",o:\"⎺\",p:\"⎻\",q:\"─\",r:\"⎼\",s:\"⎽\",t:\"├\",u:\"┤\",v:\"┴\",w:\"┬\",x:\"│\",y:\"≤\",z:\"≥\",\"{\":\"π\",\"|\":\"≠\",\"}\":\"£\",\"~\":\"·\"}),g.VT.CharacterMaps.DefaultMaps.A=new g.VT.CharacterMap(\"british\",{\"#\":\"£\"}),g.VT.CharacterMaps.DefaultMaps.B=new g.VT.CharacterMap(\"us\",null),g.VT.CharacterMaps.DefaultMaps[4]=new g.VT.CharacterMap(\"dutch\",{\"#\":\"£\",\"@\":\"¾\",\"[\":\"Ĳ\",\"\\\\\":\"½\",\"]\":\"|\",\"{\":\"¨\",\"|\":\"f\",\"}\":\"¼\",\"~\":\"´\"}),g.VT.CharacterMaps.DefaultMaps.C=g.VT.CharacterMaps.DefaultMaps[5]=new g.VT.CharacterMap(\"finnish\",{\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"é\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"å\",\"~\":\"ü\"}),g.VT.CharacterMaps.DefaultMaps.R=new g.VT.CharacterMap(\"french\",{\"#\":\"£\",\"@\":\"à\",\"[\":\"°\",\"\\\\\":\"ç\",\"]\":\"§\",\"{\":\"é\",\"|\":\"ù\",\"}\":\"è\",\"~\":\"¨\"}),g.VT.CharacterMaps.DefaultMaps.Q=new g.VT.CharacterMap(\"french canadian\",{\"@\":\"à\",\"[\":\"â\",\"\\\\\":\"ç\",\"]\":\"ê\",\"^\":\"î\",\"`\":\"ô\",\"{\":\"é\",\"|\":\"ù\",\"}\":\"è\",\"~\":\"û\"}),g.VT.CharacterMaps.DefaultMaps.K=new g.VT.CharacterMap(\"german\",{\"@\":\"§\",\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Ü\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"ü\",\"~\":\"ß\"}),g.VT.CharacterMaps.DefaultMaps.Y=new g.VT.CharacterMap(\"italian\",{\"#\":\"£\",\"@\":\"§\",\"[\":\"°\",\"\\\\\":\"ç\",\"]\":\"é\",\"`\":\"ù\",\"{\":\"à\",\"|\":\"ò\",\"}\":\"è\",\"~\":\"ì\"}),g.VT.CharacterMaps.DefaultMaps.E=g.VT.CharacterMaps.DefaultMaps[6]=new g.VT.CharacterMap(\"norwegian/danish\",{\"@\":\"Ä\",\"[\":\"Æ\",\"\\\\\":\"Ø\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"ä\",\"{\":\"æ\",\"|\":\"ø\",\"}\":\"å\",\"~\":\"ü\"}),g.VT.CharacterMaps.DefaultMaps.Z=new g.VT.CharacterMap(\"spanish\",{\"#\":\"£\",\"@\":\"§\",\"[\":\"¡\",\"\\\\\":\"Ñ\",\"]\":\"¿\",\"{\":\"°\",\"|\":\"ñ\",\"}\":\"ç\"}),g.VT.CharacterMaps.DefaultMaps[7]=g.VT.CharacterMaps.DefaultMaps.H=new g.VT.CharacterMap(\"swedish\",{\"@\":\"É\",\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"é\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"å\",\"~\":\"ü\"}),g.VT.CharacterMaps.DefaultMaps[\"=\"]=new g.VT.CharacterMap(\"swiss\",{\"#\":\"ù\",\"@\":\"à\",\"[\":\"é\",\"\\\\\":\"ç\",\"]\":\"ê\",\"^\":\"î\",_:\"è\",\"`\":\"ô\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"ü\",\"~\":\"û\"}),u.resource.add(\"hterm/audio/bell\",\"audio/ogg;base64\",\"T2dnUwACAAAAAAAAAADhqW5KAAAAAMFvEjYBHgF2b3JiaXMAAAAAAYC7AAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAA4aluSgEAAAAAesI3EC3//////////////////8kDdm9yYmlzHQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMDkwNzA5AAAAAAEFdm9yYmlzKUJDVgEACAAAADFMIMWA0JBVAAAQAABgJCkOk2ZJKaWUoSh5mJRISSmllMUwiZiUicUYY4wxxhhjjDHGGGOMIDRkFQAABACAKAmOo+ZJas45ZxgnjnKgOWlOOKcgB4pR4DkJwvUmY26mtKZrbs4pJQgNWQUAAAIAQEghhRRSSCGFFGKIIYYYYoghhxxyyCGnnHIKKqigggoyyCCDTDLppJNOOumoo4466ii00EILLbTSSkwx1VZjrr0GXXxzzjnnnHPOOeecc84JQkNWAQAgAAAEQgYZZBBCCCGFFFKIKaaYcgoyyIDQkFUAACAAgAAAAABHkRRJsRTLsRzN0SRP8ixREzXRM0VTVE1VVVVVdV1XdmXXdnXXdn1ZmIVbuH1ZuIVb2IVd94VhGIZhGIZhGIZh+H3f933f930gNGQVACABAKAjOZbjKaIiGqLiOaIDhIasAgBkAAAEACAJkiIpkqNJpmZqrmmbtmirtm3LsizLsgyEhqwCAAABAAQAAAAAAKBpmqZpmqZpmqZpmqZpmqZpmqZpmmZZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZQGjIKgBAAgBAx3Ecx3EkRVIkx3IsBwgNWQUAyAAACABAUizFcjRHczTHczzHczxHdETJlEzN9EwPCA1ZBQAAAgAIAAAAAABAMRzFcRzJ0SRPUi3TcjVXcz3Xc03XdV1XVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYHQkFUAAAQAACGdZpZqgAgzkGEgNGQVAIAAAAAYoQhDDAgNWQUAAAQAAIih5CCa0JrzzTkOmuWgqRSb08GJVJsnuamYm3POOeecbM4Z45xzzinKmcWgmdCac85JDJqloJnQmnPOeRKbB62p0ppzzhnnnA7GGWGcc85p0poHqdlYm3POWdCa5qi5FJtzzomUmye1uVSbc84555xzzjnnnHPOqV6czsE54Zxzzonam2u5CV2cc875ZJzuzQnhnHPOOeecc84555xzzglCQ1YBAEAAAARh2BjGnYIgfY4GYhQhpiGTHnSPDpOgMcgppB6NjkZKqYNQUhknpXSC0JBVAAAgAACEEFJIIYUUUkghhRRSSCGGGGKIIaeccgoqqKSSiirKKLPMMssss8wyy6zDzjrrsMMQQwwxtNJKLDXVVmONteaec645SGultdZaK6WUUkoppSA0ZBUAAAIAQCBkkEEGGYUUUkghhphyyimnoIIKCA1ZBQAAAgAIAAAA8CTPER3RER3RER3RER3RER3P8RxREiVREiXRMi1TMz1VVFVXdm1Zl3Xbt4Vd2HXf133f141fF4ZlWZZlWZZlWZZlWZZlWZZlCUJDVgEAIAAAAEIIIYQUUkghhZRijDHHnINOQgmB0JBVAAAgAIAAAAAAR3EUx5EcyZEkS7IkTdIszfI0T/M00RNFUTRNUxVd0RV10xZlUzZd0zVl01Vl1XZl2bZlW7d9WbZ93/d93/d93/d93/d939d1IDRkFQAgAQCgIzmSIimSIjmO40iSBISGrAIAZAAABACgKI7iOI4jSZIkWZImeZZniZqpmZ7pqaIKhIasAgAAAQAEAAAAAACgaIqnmIqniIrniI4oiZZpiZqquaJsyq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rukBoyCoAQAIAQEdyJEdyJEVSJEVyJAcIDVkFAMgAAAgAwDEcQ1Ikx7IsTfM0T/M00RM90TM9VXRFFwgNWQUAAAIACAAAAAAAwJAMS7EczdEkUVIt1VI11VItVVQ9VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV1TRN0zSB0JCVAAAZAAAjQQYZhBCKcpBCbj1YCDHmJAWhOQahxBiEpxAzDDkNInSQQSc9uJI5wwzz4FIoFURMg40lN44gDcKmXEnlOAhCQ1YEAFEAAIAxyDHEGHLOScmgRM4xCZ2UyDknpZPSSSktlhgzKSWmEmPjnKPSScmklBhLip2kEmOJrQAAgAAHAIAAC6HQkBUBQBQAAGIMUgophZRSzinmkFLKMeUcUko5p5xTzjkIHYTKMQadgxAppRxTzinHHITMQeWcg9BBKAAAIMABACDAQig0ZEUAECcA4HAkz5M0SxQlSxNFzxRl1xNN15U0zTQ1UVRVyxNV1VRV2xZNVbYlTRNNTfRUVRNFVRVV05ZNVbVtzzRl2VRV3RZV1bZl2xZ+V5Z13zNNWRZV1dZNVbV115Z9X9ZtXZg0zTQ1UVRVTRRV1VRV2zZV17Y1UXRVUVVlWVRVWXZlWfdVV9Z9SxRV1VNN2RVVVbZV2fVtVZZ94XRVXVdl2fdVWRZ+W9eF4fZ94RhV1dZN19V1VZZ9YdZlYbd13yhpmmlqoqiqmiiqqqmqtm2qrq1bouiqoqrKsmeqrqzKsq+rrmzrmiiqrqiqsiyqqiyrsqz7qizrtqiquq3KsrCbrqvrtu8LwyzrunCqrq6rsuz7qizruq3rxnHrujB8pinLpqvquqm6um7runHMtm0co6rqvirLwrDKsu/rui+0dSFRVXXdlF3jV2VZ921fd55b94WybTu/rfvKceu60vg5z28cubZtHLNuG7+t+8bzKz9hOI6lZ5q2baqqrZuqq+uybivDrOtCUVV9XZVl3zddWRdu3zeOW9eNoqrquirLvrDKsjHcxm8cuzAcXds2jlvXnbKtC31jyPcJz2vbxnH7OuP2daOvDAnHjwAAgAEHAIAAE8pAoSErAoA4AQAGIecUUxAqxSB0EFLqIKRUMQYhc05KxRyUUEpqIZTUKsYgVI5JyJyTEkpoKZTSUgehpVBKa6GU1lJrsabUYu0gpBZKaS2U0lpqqcbUWowRYxAy56RkzkkJpbQWSmktc05K56CkDkJKpaQUS0otVsxJyaCj0kFIqaQSU0mptVBKa6WkFktKMbYUW24x1hxKaS2kEltJKcYUU20txpojxiBkzknJnJMSSmktlNJa5ZiUDkJKmYOSSkqtlZJSzJyT0kFIqYOOSkkptpJKTKGU1kpKsYVSWmwx1pxSbDWU0lpJKcaSSmwtxlpbTLV1EFoLpbQWSmmttVZraq3GUEprJaUYS0qxtRZrbjHmGkppraQSW0mpxRZbji3GmlNrNabWam4x5hpbbT3WmnNKrdbUUo0txppjbb3VmnvvIKQWSmktlNJiai3G1mKtoZTWSiqxlZJabDHm2lqMOZTSYkmpxZJSjC3GmltsuaaWamwx5ppSi7Xm2nNsNfbUWqwtxppTS7XWWnOPufVWAADAgAMAQIAJZaDQkJUAQBQAAEGIUs5JaRByzDkqCULMOSepckxCKSlVzEEIJbXOOSkpxdY5CCWlFksqLcVWaykptRZrLQAAoMABACDABk2JxQEKDVkJAEQBACDGIMQYhAYZpRiD0BikFGMQIqUYc05KpRRjzknJGHMOQioZY85BKCmEUEoqKYUQSkklpQIAAAocAAACbNCUWByg0JAVAUAUAABgDGIMMYYgdFQyKhGETEonqYEQWgutddZSa6XFzFpqrbTYQAithdYySyXG1FpmrcSYWisAAOzAAQDswEIoNGQlAJAHAEAYoxRjzjlnEGLMOegcNAgx5hyEDirGnIMOQggVY85BCCGEzDkIIYQQQuYchBBCCKGDEEIIpZTSQQghhFJK6SCEEEIppXQQQgihlFIKAAAqcAAACLBRZHOCkaBCQ1YCAHkAAIAxSjkHoZRGKcYglJJSoxRjEEpJqXIMQikpxVY5B6GUlFrsIJTSWmw1dhBKaS3GWkNKrcVYa64hpdZirDXX1FqMteaaa0otxlprzbkAANwFBwCwAxtFNicYCSo0ZCUAkAcAgCCkFGOMMYYUYoox55xDCCnFmHPOKaYYc84555RijDnnnHOMMeecc845xphzzjnnHHPOOeecc44555xzzjnnnHPOOeecc84555xzzgkAACpwAAAIsFFkc4KRoEJDVgIAqQAAABFWYowxxhgbCDHGGGOMMUYSYowxxhhjbDHGGGOMMcaYYowxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGFtrrbXWWmuttdZaa6211lprrQBAvwoHAP8HG1ZHOCkaCyw0ZCUAEA4AABjDmHOOOQYdhIYp6KSEDkIIoUNKOSglhFBKKSlzTkpKpaSUWkqZc1JSKiWlllLqIKTUWkottdZaByWl1lJqrbXWOgiltNRaa6212EFIKaXWWostxlBKSq212GKMNYZSUmqtxdhirDGk0lJsLcYYY6yhlNZaazHGGGstKbXWYoy1xlprSam11mKLNdZaCwDgbnAAgEiwcYaVpLPC0eBCQ1YCACEBAARCjDnnnHMQQgghUoox56CDEEIIIURKMeYcdBBCCCGEjDHnoIMQQgghhJAx5hx0EEIIIYQQOucchBBCCKGEUkrnHHQQQgghlFBC6SCEEEIIoYRSSikdhBBCKKGEUkopJYQQQgmllFJKKaWEEEIIoYQSSimllBBCCKWUUkoppZQSQgghlFJKKaWUUkIIoZRQSimllFJKCCGEUkoppZRSSgkhhFBKKaWUUkopIYQSSimllFJKKaUAAIADBwCAACPoJKPKImw04cIDUGjISgCADAAAcdhq6ynWyCDFnISWS4SQchBiLhFSijlHsWVIGcUY1ZQxpRRTUmvonGKMUU+dY0oxw6yUVkookYLScqy1dswBAAAgCAAwECEzgUABFBjIAIADhAQpAKCwwNAxXAQE5BIyCgwKx4Rz0mkDABCEyAyRiFgMEhOqgaJiOgBYXGDIB4AMjY20iwvoMsAFXdx1IIQgBCGIxQEUkICDE2544g1PuMEJOkWlDgIAAAAA4AAAHgAAkg0gIiKaOY4Ojw+QEJERkhKTE5QAAAAAALABgA8AgCQFiIiIZo6jw+MDJERkhKTE5AQlAAAAAAAAAAAACAgIAAAAAAAEAAAACAhPZ2dTAAQYOwAAAAAAAOGpbkoCAAAAmc74DRgyNjM69TAzOTk74dnLubewsbagmZiNp4d0KbsExSY/I3XUTwJgkeZdn1HY4zoj33/q9DFtv3Ui1/jmx7lCUtPt18/sYf9MkgAsAGRBd3gMGP4sU+qCPYBy9VrA3YqJosW3W2/ef1iO/u3cg8ZG/57jU+pPmbGEJUgkfnaI39DbPqxddZphbMRmCc5rKlkUMkyx8iIoug5dJv1OYH9a59c+3Gevqc7Z2XFdDjL/qHztRfjWEWxJ/aiGezjohu9HsCZdQBKbiH0VtU/3m85lDG2T/+xkZcYnX+E+aqzv/xTgOoTFG+x7SNqQ4N+oAABSxuVXw77Jd5bmmTmuJakX7509HH0kGYKvARPpwfOSAPySPAc2EkneDwB2HwAAJlQDYK5586N79GJCjx4+p6aDUd27XSvRyXLJkIC5YZ1jLv5lpOhZTz0s+DmnF1diptrnM6UDgIW11Xh8cHTd0/SmbgOAdxcyWwMAAGIrZ3fNSfZbzKiYrK4+tPqtnMVLOeWOG2kVvUY+p2PJ/hkCl5aFRO4TLGYPZcIU3vYM1hohS4jHFlnyW/2T5J7kGsShXWT8N05V+3C/GPqJ1QdWisGPxEzHqXISBPIinWDUt7IeJv/f5OtzBxpTzZZQ+CYEhHXfqG4aABQli72GJhN4oJv+hXcApAJSErAW8G2raAX4NUcABnVt77CzZAB+LsHcVe+Q4h+QB1wh/ZrJTPxSBdI8mgTeAdTsQOoFUEng9BHcVPhxSRRYkKWZJXOFYP6V4AEripJoEjXgA2wJRZHSExmJDm8F0A6gEXsg5a4ZsALItrMB7+fh7UKLvYWSdtsDwFf1mzYzS1F82N1h2Oyt2e76B1QdS0SAsQigLPMOgJS9JRC7hFXA6kUsLFNKD5cA5cTRvgSqPc3Fl99xW3QTi/MHR8DEm6WnvaVQATwRqRKjywQ9BrrhugR2AKTsPQeQckrAOgDOhbTESyrXQ50CkNpXdtWjW7W2/3UjeX3U95gIdalfRAoAmqUEiwp53hCdcCwlg47fcbfzlmQMAgaBkh7c+fcDgF+ifwDXfzegLPcLYJsAAJQArTXjnh/uXGy3v1Hk3pV6/3t5ruW81f6prfbM2Q3WNVy98BwUtbCwhFhAWuPev6Oe/4ZaFQUcgKrVs4defzh1TADA1DEh5b3VlDaECw5b+bPfkKos3tIAue3vJZOih3ga3l6O3PSfIkrLv0PAS86PPdL7g8oc2KteNFKKzKRehOv2gJoFLBPXmaXvPBQILgJon0bbWBszrYZYYwE7jl2j+vTdU7Vpk21LiU0QajPkywAAHqbUC0/YsYOdb4e6BOp7E0cCi04Ao/TgD8ZVAMid6h/A8IeBNkp6/xsAACZELEYIk+yvI6Qz1NN6lIftB/6IMWjWJNOqPTMedAmyaj6Es0QBklJpiSWWHnQ2CoYbGWAmt+0gLQBFKCBnp2QUUQZ/1thtZDBJUpFWY82z34ocorB62oX7qB5y0oPAv/foxH25wVmgIHf2xFOr8leZcBq1Kx3ZvCq9Bga639AxuHuPNL/71YCF4EywJpqHFAX6XF0sjVbuANnvvdLcrufYwOM/iDa6iA468AYAAB6mNBMXcgTD8HSRqJ4vw8CjAlCEPACASlX/APwPOJKl9xQAAAPmnev2eWp33Xgyw3Dvfz6myGk3oyP8YTKsCOvzAgALQi0o1c6Nzs2O2Pg2h4ACIJAgAGP0aNn5x0BDgVfH7u2TtyfDcRIuYAyQhBF/lvSRAttgA6TPbWZA9gaUrZWAUEAA+Dx47Q3/r87HxUUqZmB0BmUuMlojFjHt1gDunnvuX8MImsjSq5WkzSzGS62OEIlOufWWezxWpv6FBgDgJVltfXFYtNAAnqU0xQoD0YLiXo5cF5QV4CnY1tBLAkZCOABAhbk/AM+/AwSCCdlWAAAMcFjS7owb8GVDzveDiZvznbt2tF4bL5odN1YKl88TAEABCZvufq9YCTBtMwVAQUEAwGtNltzSaHvADYC3TxLVjqiRA+OZAMhzcqEgRcAOwoCgvdTxsTHLQEF6+oOb2+PAI8ciPQcXg7pOY+LjxQSv2fjmFuj34gGwz310/bGK6z3xgT887eomWULEaDd04wHetYxdjcgV2SxvSwn0VoZXJRqkRC5ASQ/muVoAUsX7AgAQMBNaVwAAlABRxT/1PmfqLqSRNDbhXb07berpB3b94jpuWEZjBCD2OcdXFpCKEgCDfcFPMw8AAADUwT4lnUm50lmwrpMMhPQIKj6u0E8fr2vGBngMNdIlrZsigjahljud6AFVg+tzXwUnXL3TJLpajaWKA4VAAAAMiFfqJgKAZ08XrtS3dxtQNYcpPvYEG8ClvrQRJgBephwnNWJjtGqmp6VEPSvBe7EBiU3qgJbQAwD4Le8LAMDMhHbNAAAlgK+tFs5O+YyJc9yCnJa3rxLPulGnxwsXV9Fsk2k4PisCAHC8FkwbGE9gJQAAoMnyksj0CdFMZLLgoz8M+FxziwYBgIx+zHiCBAKAlBKNpF1sO9JpVcyEi9ar15YlHgrut5fPJnkdJ6vEwZPyAHQBIEDUrlMcBAAd2KAS0Qq+JwRsE4AJZtMnAD6GnOYwYlOIZvtzUNdjreB7fiMkWI0CmBB6AIAKc38A9osEFlTSGECB+cbeRDC0aRpLHqNPplcK/76Lxn2rpmqyXsYJWRi/FQAAAKBQk9MCAOibrQBQADCDsqpooPutd+05Ce9g6iEdiYXgVmQAI4+4wskEBEiBloNQ6Ki0/KTQ0QjWfjxzi+AeuXKoMjEVfQOZzr0y941qLgM2AExvbZOqcxZ6J6krlrj4y2j9AdgKDx6GnJsVLhbc42uq584+ouSdNBpoCiCVHrz+WzUA/DDtD8ATgA3h0lMCAAzcFv+S+fSSNkeYWlTpb34mf2RfmqqJeMeklhHAfu7VoAEACgAApKRktL+KkQDWMwYCUAAAAHCKsp80xhp91UjqQBw3x45cetqkjQEyu3G9B6N+R650Uq8OVig7wOm6Wun0ea4lKDPoabJs6aLqgbhPzpv4KR4iODilw88ZpY7q1IOMcbASAOAVtmcCnobcrkG4KGS7/ZnskVWRNF9J0RUHKOnByy9WA8Dv6L4AAARMCQUA4GritfVM2lcZfH3Q3T/vZ47J2YHhcmBazjfdyuV25gLAzrc0cwAAAAAYCh6PdwAAAGyWjFW4yScjaWa2mGcofHxWxewKALglWBpLUvwwk+UOh5eNGyUOs1/EF+pZr+ud5OzoGwYdAABg2p52LiSgAY/ZVlOmilEgHn6G3OcwYjzI7vOj1t6xsx4S3lBY96EUQBF6AIBAmPYH4PoGYCoJAADWe+OZJZi7/x76/yH7Lzf9M5XzRKnFPmveMsilQHwVAAAAAKB3LQD8PCIAAADga0QujBLywzeJ4a6Z/ERVBAUlAEDqvoM7BQBAuAguzFqILtmjH3Kd4wfKobnOhA3z85qWoRPm9hwoOHoDAAlCbwDAA56FHAuXflHo3fe2ttG9XUDeA9YmYCBQ0oPr/1QC8IvuCwAAApbUAQCK22MmE3O78VAbHQT9PIPNoT9zNc3l2Oe7TAVLANBufT8MAQAAAGzT4PS8AQAAoELGHb2uaCwwEv1EWhFriUkbAaAZ27/fVZnTZXbWz3BwWpjUaMZKRj7dZ0J//gUeTdpVEwAAZOFsNxKAjQSgA+ABPoY8Jj5y2wje81jsXc/1TOQWTDYZBmAkNDiqVwuA2NJ9AQAAEBKAt9Vrsfs/2N19MO91S9rd8EHTZHnzC5MYmfQEACy/FBcAAADA5c4gi4z8RANs/m6FNXVo9DV46JG1BBDukqlw/Va5G7QbuGVSI+2aZaoLXJrdVj2zlC9Z5QEAEFz/5QzgVZwAAAAA/oXcxyC6WfTu+09Ve/c766J4VTAGUFmA51+VANKi/QPoPwYgYAkA715OH4S0s5KDHvj99MMq8TPFc3roKZnGOoT1bmIhVgc7XAMBAAAAAMAW1VbQw3gapzOpJd+Kd2fc4iSO62fJv9+movui1wUNPAj059N3OVxzk4gV73PmE8FIA2F5mRq37Evc76vLXfF4rD5UJJAw46hW6LZCb5sNLdx+kzMCAAB+hfy95+965ZCLP7B3/VlTHCvDEKtQhTm4KiCgAEAbrfbWTPssAAAAXpee1tVrozYYn41wD1aeYtkKfswN5/SXPO0JDnhO/4laUortv/s412fybe/nONdncoCHnBVliu0CQGBWlPY/5Kwom2L/kruPM6Q7oz4tvDQy+bZ3HzOi+gNHA4DZEgA=\"),u.resource.add(\"hterm/images/icon-96\",\"image/png;base64\",\"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAStklEQVR42u1dBXjrupL+RzIGmjIfvAcu42NmZub3lpmZmZmZmRkuMzPDYaYyJG0Sa9b2p2z1eQtp7bzefpv/nKnkkSw7Gg1IshNsDtpoo4022mijDWp/tlTgzbpJSqYvMoFTC9vjRD5JLb9RYaRkpk22SS28P8pacAaPdZ41KYMCI89YB6wN3JzQJM3UIGqurfTlKQTAZtqENid5SlNdU804VmbbWQtA6HMkAAdADsBeAJ7mxwIhIhFSXJ9iRPw4JYDEcqmGWEp1HhCI8gAtpXF7scB1ZRH9E3HObANCNy1AoGTegNDnCdE41tfQDH2t+CINQEpJ9Xp97oUDh3+nXK48DYAMIWQmANIkNTn6vP69e3d/zctfeu0nXNexmVn3F0gDAMxMlBoHuht0qnsEEekC42SdGHmNxgVjgk4bPN04Yui8bhc534cQBH35RKrPN9sGdLnB1/Wuv+HW4f+6/tZvBHAaAJvmKr0AjJGvyQMw8pLrrvqeT378Ax8UwrKeevoFgEhfjcGGO2JO+iuTt1SW5DHzyraDExyTlWwHjCQ/CAJcecU+XHn5xWDmVCGQFAKljsLbx8Ynvv3Bhx7/EQCzurimU04jADLsvK3r73/7W1//g1/6hU++uVqt0X/dcBcKxRIsy9Ji34DPow2et6FzgcXFKk6fOY83vu4VEFKkDiYHB3roSz73sc+Oj08eOHzk+B9oMyQABGk0gCIyOt9xHPvaD3/wnT/5VV/+meumpmbwD/98A0qdvVEBNhvMDCJaVXtM01GtVlEs+LBtC1ngzW98tX/m7Llv/emf+83HarX6vbrfGECQRgBmlLP9Ix961499+zd/5XVj45P407/8FxQ7uiGlQK1Ww1ZCvR6gXq3AsgQ8zwYzUkMIgXe+/Q1Dd9x5/6duv/P+R7QjprQaIHQd/8orLvnCJz/2/pfmcj7+6rf+DK5XgOu6sT3dQtBawqjW6lhYXIRlSTAjE/T39eLSS/ZeEwqgE8CiYUV4vQIgTULTyFve9Or3WJZN/3n9HTh3fgrFjhJmZmawFaGUwkJlEffc9xh83wMYqcFg7Noxinw+l9OBikirAabz7eju6sxJKTE7W4bn5+D7PrYmtI/gAFJasCwb4IzaBMHzXE8LgBJC4I1GQRKAa4Xo6upEsZiH53nIRYLeolDMCIIq+nq70dFRAGckgFKpAD+UgBaAgfRRkGvbliwUcoh8ABHFYSfWMnBrxOzL12PwKufzSvV55Tpmi5a0IASBQCgWcujs7ABn5AQic+b5rhNlAVAmTliTEwnA990wIxEEdUQYnxjHidMnAUIcBYABRqNDdC7BM8t0VtfTnGRd8FKdRIjJcVlCsAbPPA5UAK4rXLJjP7aNbkO9XoPrOrEQWHEm69Kua0caYEspvCBQ5toSp9EASCkt27ZF1PlCxBOZOPo5feY0Xpg8jHe/7V3YNjhqjDRac3mMVl1Oo40vtREtW+2FYwdw/S03YHJ6EkODQ1hcXIQUcaeBlUIWsCwZ+QDLdZxcubKAtBpgNmzZliUa6yLMKiRGoBR279yN6666FlJYABgvRhAIncUSHn/iCdQrAZjjSAiKFQQRVEhZIRJASJEACICmlAKQUtqhBETjw5ijuFqr4oWjBwHmF7/jVUHc6aRNXxAoZA3PdYXruvlldJfTaIATaQA4KU/CzNwMDp84DOYXf+hZXiijhJz+DK0QAEd+RYTOOAcgMw0g24oskNYAIoCXxDpbnsOxM8fB5qacwKZD+3WQcS+VxQrYYXNVNGMhI1odiIRQSHb8BmbCpgZYjmVLYi0ANmxQNKpOj50FFOB3WnDzEpOnFkGbuOXPimG5Ap0jLqZOLiKoMyIsVhfB9lLEpFSQ+S26jh2Fo/n0YagRCUlLRhpAAIMIyWl9vBinAkbfoIPXf+0wnrlxAs/dPInKVB1CUOsFkdhD6Nnp49oP98EvWfjvnzqGak0hVlwwFJsaoADK9vq2Y0eOOKUGJLTAjjQgFgBAy/gTvbGIyXC0nX66jJd+YgC7X1nCo39/AccfmUVQU1F5y0d9rsvGJW/txuXv7oGqMx7+2/OoVxWIzE5SOkfaBBGyhGPHc4G8YYjT+wDLDgUgJbQPWDGuL0/VcefvnMLRB2dw3Uf78dZv345D90zjsX++gPGjC7peC8yNI7DjpSVcE476rlEPB++awmP/dCEaEMtqbAP1Fqzkhn0VaUAegMzABJkaIMG8epNEiE3R0funce75Mi4NR+MV7+3B6NUFPPnvY3jupslISJkKoW9PDld/sA+7Xt6B8SMV3Pjzx3Di0TkENQaJ5A1qM8VRljKPgpg58pcNHyCz0ADSTnhNDTBBglCZruPhvz+PY4/M4Jqwg6772AB2vqwDd/zmKYwdWQAJpMalb+vGSz81AA6Ah/76HJ69KfI7tej6K7RPUKwaWQT1FmiAlJEJykXZZh5cE02FoaEJkpYEwGsKwNQGAnDhQAUP/915TJ5YwPCleZSG3WwWvwgYvryAYr8Tm5wn/2Mc5cm481c9RzXWobQPyBpSikgDGgJAVvMARzY0AARwc7Y5Ckn3vK4TV7+/D5YncN+fnsWpJ+cgsnDICnj0n85DSOCSUBO6Rl088g8XcObZ+VgjSKweKRG1xgcIEQnA9QE46aMgwwlHAmBuOFFepeMRd8rI1cU4FBzYn8exh2bw6D9ewNihCjgrR0wI21vAzb9yIrT/pfha7/y+nXj+5gk8EWrDzJlF/WxQUgMUwEtREGW/5RlpgJdaABq0pAGicYFVFaBzxMGV7+vFvtd3YfpsFbf+6ok4KqovxqFoph+YBBAsMg7cPonTT83jsnd247J39IQRUUcceR28cxrVcrBUX2sAa1Nar7dCAwhevCkDN7UADB9gSyEBaBVYYeT37PTw9u/aAbcg8Pi/XMAz109gfqLhFAktgX46LbrOg395DscemAnD0X68+suGQ+3L4Y7fOhVHRA00nDBRa3wAEGuAA8DbqABIkyEA2xFSrBHHM2xf4Ozz82HIOb5kbgSh1TDv69wLZdz0S8dxUTgRHLwkD2HRkgCIdBi6NBPmVpggL7krBkrnA6xIA0Qjfl4x9Bw7XInDzHo1hblJbZYoNkvP3zqFw/fPIKgqGNC7aNoEtUQDEJkg23Ecv1qtrhkFiWYeTYzCUCEEeI15QDTSgjpnMerTmyUB1CsKrGACyvABQb1VAnAt13V8NAHRxGqotEMIQUbJFgGtMhNuqQa4Ui9HbEgDKFknioKIhC4kbGUwFBhsOGHO/AqhCxAh5dOsBZFBMoqCGhpARJv7ihul35oEt84E6U0ZCv1APp0T1tACsIhEpquZQhJsT2C9UAGjtqA2vDnPzOD/NUEqymcOJ94TcPJZzYSFHYKIjHlA+iXk/kvyeO1XDENYtK6J16kn53H375+OBbFukBkFtWoewHAdJ1qQKwAQWcyEtQaQ4QPSmk6KZ6gXDlVAcn0x9vTpxTSjdhkBcOYmSO+KNTZlKK0GWHYoASJkZoJIABPHFnDbb5zEFxtshqEtMkG2rfcEtAZsJAoimBpgGRqg062KVmsAmBH2V2NfWKZ1woxYAyIBwFABXma+nE30wytV4rU/OK9xLWaGUmpJAHE+awEDUsrGnoCERsooyJYALfPaOEHNByBl7BGwKQsy8kYLUZ1kOTXyZprgUYJHSBzrctLHDZ6huflCLt61qtWDWAMawsgOWgCe5+v+JYN4vT6AtAbIpSCIGuEcRoaG8TrXRcwzCeZ7u2gcm4QIZn0QEudC5wGYdYxUt2PyjRSAyWsc6mvW6hW0CnpXzAdgQ6NZAdByJsgKBQAQGCp+oQFQ8ePdhUIBxWJxXfrJYKQHNRUMMK9kuwhzc3O4eO+eeLQqpbLfFfMaAgAnhdDccrSpAZYtAUApxujIEN725lfg3//7bvT19cOyLJhg44/ZCTo1y40yI79qmT4/5un2jTx0+XLtmAOAlUJXVx6ve83LdFkrdsWMTZkUTpikjFyAJUxHFr6oDc918cDDT6KyMB8xzVFpmBpAGGZHiCgVZgoRphSlQkCQTvXxEhFklMolXnyseY28NMtlIjXaCzsHO7aPoFDIQ6nWCMDzXS2AdJvybMl4HiaSLyK89S2vxRte/wrU6vXGIFrzOxdWTZcaMNtCgq15a9vNtWyTMjUncwEguSu2ISesO3vp3YDkE2ZSypiyQMO0JO331gTFryoJIXylVLrFOCtEpAHmaG5jbQ3Qb8r45XKFN2qCOCJpSUsxi/n5SlOP8rXB0WpoUgC8HgGwQYqI7AMHj1G9zk2Ea20wgI5iPhqs8dMk6/26GrOyiqharc16nlffvn3EaWtAc/BcBw8+/Ojc+PjkKaMvuWkNME+YnZ17+rnnDxweHOi9iCM+gzbLOXLrG8piu46JIO5/4NHD9XpwbEPfEqjJ01R0XecDYcz8lvhFMSEkwJIBaU76AZA+SsST5oHOmidqvsHQieYk6ya/ucysT/pPon6yLum/5tXN4uV45ocAKHEeWFdQYcpKKb4wNnH/xMTUjwGYArBofLHfuhfjeO+eXbu+/ms+946JyWl16NAxWmV80AZGImW+M0z/dxWUNbvJNQzaqNK4ro13v/NN9C//doP4gz/+mxKAWWNQb2hHzL/s0n1XDfT3W3fe8wRAVmLytCE56HM3LL/E+bRqb+niFZ9rSvD0nnHzd2Y+M3vs5Ckwc/S9QQMABgGc0cvS9fU8migi0uUDey7asfvQ4eMQlouuzs74Am0sL4TZQhHHTpzG8FB/qdRR3DU9M/sUgJqmphfjhJaa9H1v9/Ztw/1PPn0QtWoNs7OzWBltATiOixMnzuCS/bvtgTBwCQXg6s5fNLdTmnkuSAKww0WrS7q6St7E5Ax6egbWWHpow3EcnDs/EX8v6fDw4J4XDhzxASwAEOvSAF2Wu2j3jssAQqVSQ6+ULTQ/W3+pQy/dYHauEi9Sbhsd2gGgqB2xBEDN+gCpy3rCCGjP5OQ0FHO0idGeDTexHRkoxvjEJHZsGxkE0APgnO5TYc6x1hKAIKJtu3dtGzp1+hyKxY5oB6wpDWibIRenTp3D6OhQl5RyMAiC5w0TRCtpACW+rM8aGR7cPzTYX3ziqQPw/dzmm4gtYOaYGZ7n4cTJs3jVK67xw++l23723AVtURLhaFIDEuGnG47+S33fo8mpWZQ6XUxPT6ONtfeD7dgRj6NQyNHQ0MCOUAA2ANmMBpAhhGJo//eFy6lgFsjn823zsw6cnhyHUhw74kcfe8ozfMCKAkjOAYb27tk5cubsBTiuF3v35h1w2xwpRmgxZrBj+/AIgA4AY7pfsZYGyIi6uzv3hHOArocefQbMwNTUVFsDmjdDIUmcDgfv6OhwH4CIjie0gJfVAF3J2bVjWzgB65TnL0ygs7NrnROwthZUqzWcPHUOV1y2txiuJA/Pzc0/spYJEob5ye/Zs/NiZka5XEVPr4821gfP9xAN3nA9yB4c6Nt+cG5eLvPGDCdNUKNS7769u3ZGX1NfqwfR+s//C/PDnH5TRq+kxun8fBkdxQJGhgd2Hjx01BBAwgQl7L/I5fyd4RJE3+TUdNjIPKSc0AJg/T+JxNNnK5Uly3VuterJOpzh3hmts5DWKExy3/j6l2J4eAAjI4PbjG9UF6YQrMaBWRCufu4fHRn0Bvp7USzkUS4vmD9as+IP3cSHWL5eXGTUizk6v/IDubodM7+++qs+ENbsg2RxLlE/5pr1Ew8H25aFnp6u2CFvGx0e0JHQGdMEJTWgkTo7d4xe3NfXg1KpiLe86TWg9ONtc3eKuVX3yatei5m1AIa6pRT9QaCeb2YporBzx7Zd0chnRkgKbaSLsMLZcK6/rzecU53n5TSAEkw/HPkFy86BpJtq3LRBIK6jq7NDhPOqPi0A0+cuuxq6EMas5bGJaVQWFWgTbrqVTdEX9f4ZvmfB9/3Il5bW2hNmnZbDB4omLpw/h7n5RYCa+3E0ToY4Jp9XiGSYk/WMvHmlxDEn7yN5ffN4mTzrM808G+0leJqVbG81njbfjFJHHr4no4lZ3fjRT06GoWxQ+eFHn7rTz/1Tv5QSrBQpZrAmfVMaQJyNOXHOPESjztJfs54uxFJWl5q1zYuZRzD+RzAPEufoJFln2TyMv8axwUheJPGRVSMFEHe4ZckqMy8cOXLin5f7xVUyyPypwhKAHp13IjJCVW4iHGAz30Q5mmx3I+dwyvbWE36x0ck1AFW9Gb+g06qmWkMQVuLEQEtuVldyjR/vFJqyjxNb6+mTA6DV96HMvkx0ej2pAZZxoBL5QJ8oDKIW3jxnfA5twj1xUhPMjjd9wGpOOEgIgUzaxFG8RZ4FTgxos9N1atajtd+S1LytA26p8NKbQE7/0+BtpNakNtpoo4022vgf7lRPtKCE39oAAAAASUVORK5CYII=\"),u.resource.add(\"hterm/concat/date\",\"text/plain\",\"Thu, 14 Nov 2019 09:34:08 +0000\"),u.resource.add(\"hterm/changelog/version\",\"text/plain\",\"1.86\"),u.resource.add(\"hterm/changelog/date\",\"text/plain\",\"2019-08-06\"),u.resource.add(\"hterm/git/HEAD\",\"text/plain\",\"907ca35fa514dd9bf7b41a82d07d46b412ffa91a\"),t.lib=u,t.hterm=g}).call(this,r(3),r(0))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),i=r(4),n=r(9),s=r(10),a=r(17),l=document.getElementById(\"terminal\");if(null!==l){var c;if(console.log(window.location.hash),\"#hterm\"==window.location.hash){console.log(\"before lib.init\");o.lib.init((function(){console.log(\"lib.init\")})),console.log(\"after lib.init\"),c=new n.Hterm(l)}else c=new i.Xterm(l);console.log(\"after new Xterm/Hterm\");var h=(\"https:\"==window.location.protocol?\"wss://\":\"ws://\")+window.location.host+window.location.pathname+\"ws\",u=new a.ConnectionFactory(h,s.protocols),g=new s.WeTTY(c,u).open();window.addEventListener(\"unload\",(function(){g(),c.close()}))}},function(e){function t(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){f&&u&&(f=!1,u.length?g=u.concat(g):p=-1,g.length&&n())}function n(){if(!f){var e=o(i);f=!0;for(var t=g.length;t;){for(u=g,g=[];++p<t;)u&&u[p].run();p=-1,t=g.length}u=null,f=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}\n/*!\n * process (https://npmjs.com/package/process)\n * @license MIT\n * @version 0.11.10\n * ==process/LICENSE==\n * (The MIT License)\n * \n * Copyright (c) 2013 Roman Shtylman <shtylman@gmail.com>\n * \n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n * \n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */var l,c,h=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c=\"function\"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var u,g=[],f=!1,p=-1;h.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];g.push(new s(e,t)),1!==g.length||f||o(n)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title=\"browser\",h.browser=!0,h.env={},h.argv=[],h.version=\"\",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(){return[]},h.binding=function(){throw new Error(\"process.binding is not supported\")},h.cwd=function(){return\"/\"},h.chdir=function(){throw new Error(\"process.chdir is not supported\")},h.umask=function(){return 0}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(5),i=r(6),n=r(7),s=r(8),a=function(){function e(e){var t=this;this.elem=e,this.term=new o.Terminal({fontFamily:\"DejaVu Sans Mono, Everson Mono, FreeMono, Menlo, Terminal, monospace, Apple Symbols\",allowTransparency:!0}),this.fit=new n.FitAddon,this.webgl=new i.WebglAddon,this.decoder=new s.UTF8Decoder,this.message=e.ownerDocument.createElement(\"div\"),this.message.className=\"xterm-overlay\",this.messageTimeout=2e3,this.resizeListener=function(){console.log(\"resize:\",t.info()),t.fit.fit(),t.term.scrollToBottom(),t.showMessage(t.term.cols+\"x\"+t.term.rows,t.messageTimeout)},this.term.open(e),this.term.loadAddon(this.webgl),this.term.loadAddon(this.fit),this.resizeListener(),window.addEventListener(\"resize\",(function(){t.resizeListener()})),this.fit.fit(),this.term.onSelectionChange((function(){console.log(\"onSelectionChange:\",t.term.getSelection())}))}return e.prototype.info=function(){return{columns:this.term.cols,rows:this.term.rows}},e.prototype.output=function(e){this.term.write(this.decoder.decode(e))},e.prototype.showMessage=function(e,t){var r=this;this.message.textContent=e,this.elem.appendChild(this.message),this.messageTimer&&clearTimeout(this.messageTimer),0<t&&(this.messageTimer=setTimeout((function(){r.elem.removeChild(r.message)}),t))},e.prototype.removeMessage=function(){this.message.parentNode==this.elem&&this.elem.removeChild(this.message)},e.prototype.onInput=function(e){this.term.onData((function(t){e(t)}))},e.prototype.onResize=function(e){this.term.onResize((function(t){console.log(\"onresize\"),e(t.cols,t.rows)}))},e.prototype.deactivate=function(){this.term.blur()},e.prototype.reset=function(){this.removeMessage(),this.term.clear()},e.prototype.close=function(){window.removeEventListener(\"resize\",this.resizeListener),this.term.dispose()},e}();t.Xterm=a},function(e){var t,r=Math.abs,o=Math.max,i=Math.floor,n=Math.ceil,s=Math.round,a=Math.min,l=String.fromCharCode;window,t=function(){return function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=32)}([function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(13);t.IBufferService=o.createDecorator(\"BufferService\"),t.ICoreMouseService=o.createDecorator(\"CoreMouseService\"),t.ICoreService=o.createDecorator(\"CoreService\"),t.IDirtyRowService=o.createDecorator(\"DirtyRowService\"),t.IInstantiationService=o.createDecorator(\"InstantiationService\"),t.ILogService=o.createDecorator(\"LogService\"),t.IOptionsService=o.createDecorator(\"OptionsService\")},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this._listeners=[]}return Object.defineProperty(e.prototype,\"event\",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){for(var r=0;r<e._listeners.length;r++)if(e._listeners[r]===t)return void e._listeners.splice(r,1)}}}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){for(var t=[],r=0;r<this._listeners.length;r++)t.push(this._listeners[r]);for(r=0;r<t.length;r++)t[r].call(void 0,e)},e}();t.EventEmitter=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){this._disposables.push(e)},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();t.Disposable=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR=\"\",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=\" \",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(8),s=r(3),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.combinedData=\"\",t}return i(t,e),t.fromCharData=function(e){var r=new t;return r.setFromCharData(e),r},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?n.stringFromCodePoint(2097151&this.content):\"\"},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(2<e[s.CHAR_DATA_CHAR_INDEX].length)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var r=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&56319>=r){var o=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&57343>=o?this.content=1024*(r-55296)+o-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(r(6).AttributeData);t.CellData=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(13);t.ICharSizeService=o.createDecorator(\"CharSizeService\"),t.IMouseService=o.createDecorator(\"MouseService\"),t.IRenderService=o.createDecorator(\"RenderService\"),t.ISelectionService=o.createDecorator(\"SelectionService\"),t.ISoundService=o.createDecorator(\"SoundService\")},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.fg=0,this.bg=0}return e.toColorRGB=function(e){return[255&e>>>16,255&e>>>8,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e}();t.AttributeData=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.addDisposableDomListener=function(e,t,r,o){return e.addEventListener(t,r,o),{dispose:function(){r&&e.removeEventListener(t,r,o)}}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.stringFromCodePoint=function(e){return 65535<e?l(55296+((e-=65536)>>10))+l(e%1024+56320):l(e)},t.utf32ToString=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length);for(var o,i=\"\",n=t;n<r;++n)65535<(o=e[n])?i+=l(55296+((o-=65536)>>10))+l(o%1024+56320):i+=l(o);return i};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var o=0,i=0;this._interim&&(56320<=(a=e.charCodeAt(i++))&&57343>=a?t[o++]=1024*(this._interim-55296)+a-56320+65536:(t[o++]=this._interim,t[o++]=a),this._interim=0);for(var n,s=i;s<r;++s)if(55296<=(n=e.charCodeAt(s))&&56319>=n){if(++s>=r)return this._interim=n,o;var a;56320<=(a=e.charCodeAt(s))&&57343>=a?t[o++]=1024*(n-55296)+a-56320+65536:(t[o++]=n,t[o++]=a)}else t[o++]=n;return o},e}();t.StringToUtf32=r;var o=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var o,i,n,s,a=0,l=0,c=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var g=0,f=void 0;(f=63&this.interim[++g])&&4>g;)u<<=6,u|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,d=p-g;c<d;){if(c>=r)return 0;if(128!=(192&(f=e[c++]))){c--,h=!0;break}this.interim[g++]=f,u<<=6,u|=63&f}h||(2==p?128>u?c--:t[a++]=u:3==p?2048>u||55296<=u&&57343>=u||(t[a++]=u):65536>u||1114111<u||(t[a++]=u)),this.interim.fill(0)}for(var _=c;_<r;){for(;!(!(_<r-4)||128&(o=e[_])||128&(i=e[_+1])||128&(n=e[_+2])||128&(s=e[_+3]));)t[a++]=o,t[a++]=i,t[a++]=n,t[a++]=s,_+=4;if(128>(o=e[_++]))t[a++]=o;else if(192==(224&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(128>(l=(31&o)<<6|63&i)){_--;continue}t[a++]=l}else if(224==(240&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,a;if(128!=(192&(n=e[_++]))){_--;continue}if(2048>(l=(15&o)<<12|(63&i)<<6|63&n)||55296<=l&&57343>=l)continue;t[a++]=l}else if(240==(248&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,a;if(128!=(192&(n=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,this.interim[2]=n,a;if(128!=(192&(s=e[_++]))){_--;continue}if(65536>(l=(7&o)<<18|(63&i)<<12|(63&n)<<6|63&s)||1114111<l)continue;t[a++]=l}}return a},e}();t.Utf8ToUtf32=o},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t){\"use strict\";function r(e,t){return 0<=e.indexOf(t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"undefined\"==typeof navigator,i=o?\"node\":navigator.userAgent,n=o?\"node\":navigator.platform;t.isFirefox=!!~i.indexOf(\"Firefox\"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.isMac=r([\"Macintosh\",\"MacIntel\",\"MacPPC\",\"Mac68K\"],n),t.isIpad=\"iPad\"===n,t.isIphone=\"iPhone\"===n,t.isWindows=r([\"Windows\",\"Win16\",\"Win32\",\"WinCE\"],n),t.isLinux=0<=n.indexOf(\"Linux\")},function(e,t){\"use strict\";var r;Object.defineProperty(t,\"__esModule\",{value:!0}),(r=t.C0||(t.C0={})).NUL=\"\\0\",r.SOH=\"\x01\",r.STX=\"\x02\",r.ETX=\"\x03\",r.EOT=\"\x04\",r.ENQ=\"\x05\",r.ACK=\"\x06\",r.BEL=\"\a\",r.BS=\"\\b\",r.HT=\"\\t\",r.LF=\"\\n\",r.VT=\"\\v\",r.FF=\"\\f\",r.CR=\"\\r\",r.SO=\"\x0e\",r.SI=\"\x0f\",r.DLE=\"\x10\",r.DC1=\"\x11\",r.DC2=\"\x12\",r.DC3=\"\x13\",r.DC4=\"\x14\",r.NAK=\"\x15\",r.SYN=\"\x16\",r.ETB=\"\x17\",r.CAN=\"\x18\",r.EM=\"\x19\",r.SUB=\"\x1a\",r.ESC=\"\x1b\",r.FS=\"\x1c\",r.GS=\"\x1d\",r.RS=\"\x1e\",r.US=\"\x1f\",r.SP=\" \",r.DEL=\"\u007f\",function(e){e.PAD=\"\u0080\",e.HOP=\"\u0081\",e.BPH=\"\u0082\",e.NBH=\"\u0083\",e.IND=\"\u0084\",e.NEL=\"\u0085\",e.SSA=\"\u0086\",e.ESA=\"\u0087\",e.HTS=\"\u0088\",e.HTJ=\"\u0089\",e.VTS=\"\u008a\",e.PLD=\"\u008b\",e.PLU=\"\u008c\",e.RI=\"\u008d\",e.SS2=\"\u008e\",e.SS3=\"\u008f\",e.DCS=\"\u0090\",e.PU1=\"\u0091\",e.PU2=\"\u0092\",e.STS=\"\u0093\",e.CCH=\"\u0094\",e.MW=\"\u0095\",e.SPA=\"\u0096\",e.EPA=\"\u0097\",e.SOS=\"\u0098\",e.SGCI=\"\u0099\",e.SCI=\"\u009a\",e.CSI=\"\u009b\",e.ST=\"\u009c\",e.OSC=\"\u009d\",e.PM=\"\u009e\",e.APC=\"\u009f\"}(t.C1||(t.C1={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(3),i=r(9),n=r(23),s=r(6),a=r(26),l=function(){function e(e,t,r,o,i,n,s,a){this._container=e,this._alpha=o,this._colors=i,this._rendererId=n,this._bufferService=s,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:\"\",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement(\"canvas\"),this._canvas.classList.add(\"xterm-\"+t+\"-layer\"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){this._container.removeChild(this._canvas),this._charAtlas&&this._charAtlas.dispose()},e.prototype._initCanvas=function(){this._ctx=a.throwIfFalsy(this._canvas.getContext(\"2d\",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(){},e.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1)},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){0>=this._scaledCharWidth&&0>=this._scaledCharHeight||(this._charAtlas=n.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+\"px\",this._canvas.style.height=e.canvasHeight+\"px\",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,r,o){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,r){void 0===r&&(r=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,r,o){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,o*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,r,o){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=\"middle\",this._clipRow(r),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,r){var n,s;e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,r):(e.isInverse()?(n=e.isBgDefault()?i.INVERTED_DEFAULT_COLOR:e.getBgColor(),s=e.isFgDefault()?i.INVERTED_DEFAULT_COLOR:e.getFgColor()):(s=e.isBgDefault()?o.DEFAULT_COLOR:e.getBgColor(),n=e.isFgDefault()?o.DEFAULT_COLOR:e.getFgColor()),n+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&8>n&&n!==i.INVERTED_DEFAULT_COLOR?8:0,this._currentGlyphIdentifier.chars=e.getChars()||o.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||o.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=s,this._currentGlyphIdentifier.fg=n,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,r))},e.prototype._drawUncachedChars=function(e,t,r){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline=\"middle\",e.isInverse())this._ctx.fillStyle=e.isBgDefault()?this._colors.background.css:e.isBgRGB()?\"rgb(\"+s.AttributeData.toColorRGB(e.getBgColor()).join(\",\")+\")\":this._colors.ansi[e.getBgColor()].css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle=\"rgb(\"+s.AttributeData.toColorRGB(e.getFgColor()).join(\",\")+\")\";else{var o=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&8>o&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}this._clipRow(r),e.isDim()&&(this._ctx.globalAlpha=i.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?\"italic\":\"\")+\" \"+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+\" \"+this._optionsService.options.fontSize*window.devicePixelRatio+\"px \"+this._optionsService.options.fontFamily},e}();t.BaseRenderLayer=l},function(e,t){\"use strict\";function r(e,t,r){t[o]===t?t[i].push({id:e,index:r}):(t[i]=[{id:e,index:r}],t[o]=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"di$target\",i=\"di$dependencies\";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[i]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var o=function(e,t,i){if(3!==arguments.length)throw new Error(\"@IServiceName-decorator can only be used to decorate a parameter\");r(o,e,i)};return o.toString=function(){return e},t.serviceRegistry.set(e,o),o}},function(e,t){\"use strict\";function r(e,t,r,o){if(void 0===r&&(r=0),void 0===o&&(o=e.length),r>=e.length)return e;r=(e.length+r)%e.length,o=o>=e.length?e.length:(e.length+o)%e.length;for(var i=r;i<o;++i)e[i]=t;return e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.fill=function(e,t,o,i){return e.fill?e.fill(t,o,i):r(e,t,o,i)},t.fillFallback=r,t.concat=function(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(8),i=r(3),n=r(4),s=r(6),l=3;t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var c=function(){function e(e,t,r){void 0===r&&(r=!1),this.isWrapped=r,this._combined={},this._data=new Uint32Array(e*l);for(var o=t||n.CellData.fromCharData([0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,o);this.length=e}return e.prototype.get=function(e){var t=this._data[e*l+0],r=2097151&t;return[this._data[e*l+1],2097152&t?this._combined[e]:r?o.stringFromCodePoint(r):\"\",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]},e.prototype.set=function(e,t){this._data[e*l+1]=t[i.CHAR_DATA_ATTR_INDEX],1<t[i.CHAR_DATA_CHAR_INDEX].length?(this._combined[e]=t[1],this._data[e*l+0]=2097152|e|t[i.CHAR_DATA_WIDTH_INDEX]<<22):this._data[e*l+0]=t[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[i.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[e*l+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[e*l+0]},e.prototype.getFg=function(e){return this._data[e*l+1]},e.prototype.getBg=function(e){return this._data[e*l+2]},e.prototype.hasContent=function(e){return 4194303&this._data[e*l+0]},e.prototype.getCodePoint=function(e){var t=this._data[e*l+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[e*l+0]},e.prototype.getString=function(e){var t=this._data[e*l+0];return 2097152&t?this._combined[e]:2097151&t?o.stringFromCodePoint(2097151&t):\"\"},e.prototype.loadCell=function(e,t){var r=e*l;return t.content=this._data[r+0],t.fg=this._data[r+1],t.bg=this._data[r+2],2097152&t.content&&(t.combinedData=this._combined[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),this._data[e*l+0]=t.content,this._data[e*l+1]=t.fg,this._data[e*l+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,r,o,i){this._data[e*l+0]=t|r<<22,this._data[e*l+1]=o,this._data[e*l+2]=i},e.prototype.addCodepointToCell=function(e,t){var r=this._data[e*l+0];2097152&r?this._combined[e]+=o.stringFromCodePoint(t):(2097151&r?(this._combined[e]=o.stringFromCodePoint(2097151&r)+o.stringFromCodePoint(t),r&=-2097152,r|=2097152):r=4194304|t,this._data[e*l+0]=r)},e.prototype.insertCells=function(e,t,r){if(e%=this.length,t<this.length-e){for(var o=new n.CellData,i=this.length-e-t-1;0<=i;--i)this.setCell(e+t+i,this.loadCell(e+i,o));for(i=0;i<t;++i)this.setCell(e+i,r)}else for(i=e;i<this.length;++i)this.setCell(i,r)},e.prototype.deleteCells=function(e,t,r){if(e%=this.length,t<this.length-e){for(var o=new n.CellData,i=0;i<this.length-e-t;++i)this.setCell(e+i,this.loadCell(e+t+i,o));for(i=this.length-t;i<this.length;++i)this.setCell(i,r)}else for(i=e;i<this.length;++i)this.setCell(i,r)},e.prototype.replaceCells=function(e,t,r){for(;e<t&&e<this.length;)this.setCell(e++,r)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var r=new Uint32Array(e*l);this.length&&(e*l<this._data.length?r.set(this._data.subarray(0,e*l)):r.set(this._data)),this._data=r;for(var o=this.length;o<e;++o)this.setCell(o,t)}else if(e){(r=new Uint32Array(e*l)).set(this._data.subarray(0,e*l)),this._data=r;var i=Object.keys(this._combined);for(o=0;o<i.length;o++){var n=parseInt(i[o],10);n>=e&&delete this._combined[n]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length===e.length?this._data.set(e._data):this._data=new Uint32Array(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var r in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[r]=this._combined[r];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;0<=e;--e)if(4194303&this._data[e*l+0])return e+(this._data[e*l+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,r,o,i){var n=e._data;if(i)for(var s=o-1;0<=s;s--)for(var a=0;a<l;a++)this._data[(r+s)*l+a]=n[(t+s)*l+a];else for(s=0;s<o;s++)for(a=0;a<l;a++)this._data[(r+s)*l+a]=n[(t+s)*l+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var h=parseInt(c[a],10);h>=t&&(this._combined[h-t+r]=e._combined[h])}},e.prototype.translateToString=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===r&&(r=this.length),e&&(r=a(r,this.getTrimmedLength()));for(var n=\"\";t<r;){var s=this._data[t*l+0],c=2097151&s;n+=2097152&s?this._combined[t]:c?o.stringFromCodePoint(c):i.WHITESPACE_CELL_CHAR,t+=s>>22||1}return n},e}();t.BufferLine=c},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.promptLabel=\"Terminal input\",t.tooMuchOutput=\"Too much output to announce, navigate to rows manually to read\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={\"`\":\"◆\",a:\"▒\",b:\"\\t\",c:\"\\f\",d:\"\\r\",e:\"\\n\",f:\"°\",g:\"±\",h:\"␤\",i:\"\\v\",j:\"┘\",k:\"┐\",l:\"┌\",m:\"└\",n:\"┼\",o:\"⎺\",p:\"⎻\",q:\"─\",r:\"⎼\",s:\"⎽\",t:\"├\",u:\"┤\",v:\"┴\",w:\"┬\",x:\"│\",y:\"≤\",z:\"≥\",\"{\":\"π\",\"|\":\"≠\",\"}\":\"£\",\"~\":\"·\"},t.CHARSETS.A={\"#\":\"£\"},t.CHARSETS.B=null,t.CHARSETS[4]={\"#\":\"£\",\"@\":\"¾\",\"[\":\"ij\",\"\\\\\":\"½\",\"]\":\"|\",\"{\":\"¨\",\"|\":\"f\",\"}\":\"¼\",\"~\":\"´\"},t.CHARSETS.C=t.CHARSETS[5]={\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"é\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"å\",\"~\":\"ü\"},t.CHARSETS.R={\"#\":\"£\",\"@\":\"à\",\"[\":\"°\",\"\\\\\":\"ç\",\"]\":\"§\",\"{\":\"é\",\"|\":\"ù\",\"}\":\"è\",\"~\":\"¨\"},t.CHARSETS.Q={\"@\":\"à\",\"[\":\"â\",\"\\\\\":\"ç\",\"]\":\"ê\",\"^\":\"î\",\"`\":\"ô\",\"{\":\"é\",\"|\":\"ù\",\"}\":\"è\",\"~\":\"û\"},t.CHARSETS.K={\"@\":\"§\",\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Ü\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"ü\",\"~\":\"ß\"},t.CHARSETS.Y={\"#\":\"£\",\"@\":\"§\",\"[\":\"°\",\"\\\\\":\"ç\",\"]\":\"é\",\"`\":\"ù\",\"{\":\"à\",\"|\":\"ò\",\"}\":\"è\",\"~\":\"ì\"},t.CHARSETS.E=t.CHARSETS[6]={\"@\":\"Ä\",\"[\":\"Æ\",\"\\\\\":\"Ø\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"ä\",\"{\":\"æ\",\"|\":\"ø\",\"}\":\"å\",\"~\":\"ü\"},t.CHARSETS.Z={\"#\":\"£\",\"@\":\"§\",\"[\":\"¡\",\"\\\\\":\"Ñ\",\"]\":\"¿\",\"{\":\"°\",\"|\":\"ñ\",\"}\":\"ç\"},t.CHARSETS.H=t.CHARSETS[7]={\"@\":\"É\",\"[\":\"Ä\",\"\\\\\":\"Ö\",\"]\":\"Å\",\"^\":\"Ü\",\"`\":\"é\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"å\",\"~\":\"ü\"},t.CHARSETS[\"=\"]={\"#\":\"ù\",\"@\":\"à\",\"[\":\"é\",\"\\\\\":\"ç\",\"]\":\"ê\",\"^\":\"î\",_:\"è\",\"`\":\"ô\",\"{\":\"ä\",\"|\":\"ö\",\"}\":\"ü\",\"~\":\"û\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(14);t.wcwidth=function(e){var t=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],i=0|e.control,n=new Uint8Array(65536);o.fill(n,1),n[0]=e.nul,o.fill(n,e.control,1,32),o.fill(n,e.control,127,160),o.fill(n,2,4352,4448),n[9001]=2,n[9002]=2,o.fill(n,2,11904,42192),n[12351]=1,o.fill(n,2,44032,55204),o.fill(n,2,63744,64256),o.fill(n,2,65040,65050),o.fill(n,2,65072,65136),o.fill(n,2,65280,65377),o.fill(n,2,65504,65511);for(var s=0;s<t.length;++s)o.fill(n,0,t[s][0],t[s][1]+1);return function(e){return 32>e?0|i:127>e?1:65536>e?n[e]:function(e,t){var r,o=0,i=t.length-1;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=o;)if(e>t[r=o+i>>1][1])o=r+1;else{if(!(e<t[r][0]))return!0;i=r-1}return!1}(t=e,r)?0:131072<=t&&196605>=t||196608<=t&&262141>=t?2:1;var t}}({nul:0,control:0}),t.getStringCellWidth=function(e){for(var r,o=0,i=e.length,n=0;n<i;++n){if(55296<=(r=e.charCodeAt(n))&&56319>=r){if(++n>=i)return o+t.wcwidth(r);var s=e.charCodeAt(n);56320<=s&&57343>=s?r=1024*(r-55296)+s-56320+65536:o+=t.wcwidth(s)}o+=t.wcwidth(r)}return o}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error(\"maxSubParamsLength must not be greater than 256\");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var r=new e;if(!t.length)return r;for(var o,i=t[0]instanceof Array?1:0;i<t.length;++i)if((o=t[i])instanceof Array)for(var n=0;n<o.length;++n)r.addSubParam(o[n]);else r.addParam(o);return r},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var r=this._subParamsIdx[t]>>8,o=255&this._subParamsIdx[t];0<o-r&&e.push(Array.prototype.slice.call(this._subParams,r,o))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(-1>e)throw new Error(\"values lesser than -1 are not allowed\");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=2147483647<e?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(-1>e)throw new Error(\"values lesser than -1 are not allowed\");this._subParams[this._subParamsLength++]=2147483647<e?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return 0<(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return 0<r-t?this._subParams.subarray(t,r):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var r=this._subParamsIdx[t]>>8,o=255&this._subParamsIdx[t];0<o-r&&(e[t]=this._subParams.slice(r,o))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var r=this._digitIsSub?this._subParams:this.params,o=r[t-1];r[t-1]=~o?a(10*o+e,2147483647):e}},e}();t.Params=r},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(21),i=r(8),n=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;0<=t;t--)e[t].start();else this._handlerFb(this._id,\"START\")},e.prototype._put=function(e,t,r){var o=this._handlers[this._id];if(o)for(var n=o.length-1;0<=n;n--)o[n].put(e,t,r);else this._handlerFb(this._id,\"PUT\",i.utf32ToString(e,t,r))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var r=t.length-1;0<=r&&!1===t[r].end(e);r--);for(r--;0<=r;r--)t[r].end(!1)}else this._handlerFb(this._id,\"END\",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){var o=e[t++];if(59===o){this._state=2,this._start();break}if(48>o||57<o)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+o-48}2===this._state&&0<r-t&&this._put(e,t,r)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=n;var s=function(){function e(e){this._handler=e,this._data=\"\",this._hitLimit=!1}return e.prototype.start=function(){this._data=\"\",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=i.utf32ToString(e,t,r),this._data.length>o.PAYLOAD_LIMIT&&(this._data=\"\",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data=\"\",this._hitLimit=!1,t},e}();t.OscHandler=s},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PAYLOAD_LIMIT=1e7},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(8),i=r(19),n=r(21),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var r=this._active.length-1;0<=r;r--)this._active[r].hook(t);else this._handlerFb(this._ident,\"HOOK\",t)},e.prototype.put=function(e,t,r){if(this._active.length)for(var i=this._active.length-1;0<=i;i--)this._active[i].put(e,t,r);else this._handlerFb(this._ident,\"PUT\",o.utf32ToString(e,t,r))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;0<=t&&!1===this._active[t].unhook(e);t--);for(t--;0<=t;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,\"UNHOOK\",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var l=function(){function e(e){this._handler=e,this._data=\"\",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data=\"\",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=o.utf32ToString(e,t,r),this._data.length>n.PAYLOAD_LIMIT&&(this._data=\"\",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params?this._params:new i.Params)),this._params=void 0,this._data=\"\",this._hitLimit=!1,t},e}();t.DcsHandler=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(24),i=r(42),n=[];t.acquireCharAtlas=function(e,t,r,s,a){for(var l,c=o.generateConfig(s,a,e,r),h=0;h<n.length;h++)if(0<=(l=(u=n[h]).ownedBy.indexOf(t))){if(o.configEquals(u.config,c))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),n.splice(h,1)):u.ownedBy.splice(l,1);break}for(h=0;h<n.length;h++){var u=n[h];if(o.configEquals(u.config,c))return u.ownedBy.push(t),u.atlas}var g={atlas:new i.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return n.push(g),g.atlas},t.removeTerminalFromCache=function(e){for(var t,r=0;r<n.length;r++)if(-1!==(t=n[r].ownedBy.indexOf(e))){1===n[r].ownedBy.length?(n[r].atlas.dispose(),n.splice(r,1)):n[r].ownedBy.splice(t,1);break}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(3);t.generateConfig=function(e,t,r,o){var i={foreground:o.foreground,background:o.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:o.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontWeightBold:r.fontWeightBold,allowTransparency:r.allowTransparency,colors:i}},t.configEquals=function(e,t){for(var r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<o.DEFAULT_COLOR}},function(e,t){\"use strict\";function r(e){return{css:e,rgba:255|parseInt(e.slice(1),16)<<8}}function o(e){var t=e.toString(16);return 2>t.length?\"0\"+t:t}Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(\"#ffffff\"),n=r(\"#000000\"),s=r(\"#ffffff\"),a=r(\"#000000\"),l={css:\"rgba(255, 255, 255, 0.3)\",rgba:4294967159};t.DEFAULT_ANSI_COLORS=function(){for(var e=[r(\"#2e3436\"),r(\"#cc0000\"),r(\"#4e9a06\"),r(\"#c4a000\"),r(\"#3465a4\"),r(\"#75507b\"),r(\"#06989a\"),r(\"#d3d7cf\"),r(\"#555753\"),r(\"#ef2929\"),r(\"#8ae234\"),r(\"#fce94f\"),r(\"#729fcf\"),r(\"#ad7fa8\"),r(\"#34e2e2\"),r(\"#eeeeec\")],t=[0,95,135,175,215,255],i=0;216>i;i++){var n=t[0|i/36%6],s=t[0|i/6%6],a=t[i%6];e.push({css:\"#\"+o(n)+o(s)+o(a),rgba:(n<<24|s<<16|a<<8|255)>>>0})}for(i=0;24>i;i++){var l=8+10*i,c=o(l);e.push({css:\"#\"+c+c+c,rgba:(l<<24|l<<16|l<<8|255)>>>0})}return e}();var c=function(){function e(e,r){this.allowTransparency=r;var o=e.createElement(\"canvas\");o.width=1,o.height=1;var c=o.getContext(\"2d\");if(!c)throw new Error(\"Could not get rendering context\");this._ctx=c,this._ctx.globalCompositeOperation=\"copy\",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this.colors={foreground:i,background:n,cursor:s,cursorAccent:a,selection:l,ansi:t.DEFAULT_ANSI_COLORS.slice()}}return e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,i),this.colors.background=this._parseColor(e.background,n),this.colors.cursor=this._parseColor(e.cursor,s,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,a,!0),this.colors.selection=this._parseColor(e.selection,l,!0),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15])},e.prototype._parseColor=function(e,t,r){if(void 0===r&&(r=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,\"string\"!=typeof this._ctx.fillStyle)return console.warn(\"Color: \"+e+\" is invalid using fallback \"+t.css),t;this._ctx.fillRect(0,0,1,1);var o=this._ctx.getImageData(0,0,1,1).data;return r||255===o[3]?{css:e,rgba:(o[0]<<24|o[1]<<16|o[2]<<8|o[3])>>>0}:(console.warn(\"Color: \"+e+\" is using transparency, but allowTransparency is false. Using fallback \"+t.css+\".\"),t)},e}();t.ColorManager=c},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.throwIfFalsy=function(e){if(!e)throw new Error(\"value must not be falsy\");return e}},function(e,t,r){\"use strict\";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(6),l=r(3),c=r(4),h=function(e){function t(t,r,o){var i=e.call(this)||this;return i.content=0,i.combinedData=\"\",i.fg=t.fg,i.bg=t.bg,i.combinedData=r,i._width=o,i}return n(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(){throw new Error(\"not implemented\")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(s.AttributeData);t.JoinedCellData=h;var u=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new c.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var r=[],o=t.translateToString(!0),i=0,n=0,s=0,a=t.getFg(0),c=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==a||this._workCell.bg!==c){if(1<h-i)for(var u=this._getJoinedRanges(o,s,n,t,i),g=0;g<u.length;g++)r.push(u[g]);i=h,s=n,a=this._workCell.fg,c=this._workCell.bg}n+=this._workCell.getChars().length||l.WHITESPACE_CELL_CHAR.length}if(1<this._bufferService.cols-i)for(u=this._getJoinedRanges(o,s,n,t,i),g=0;g<u.length;g++)r.push(u[g]);return r},e.prototype._getJoinedRanges=function(t,r,o,i,n){for(var s=t.substring(r,o),a=this._characterJoiners[0].handler(s),l=1;l<this._characterJoiners.length;l++)for(var c=this._characterJoiners[l].handler(s),h=0;h<c.length;h++)e._mergeRanges(a,c[h]);return this._stringRangesToCellRanges(a,i,n),a},e.prototype._stringRangesToCellRanges=function(e,t,r){var o=0,i=!1,n=0,s=e[o];if(s){for(var a=r;a<this._bufferService.cols;a++){var c=t.getWidth(a),h=t.getString(a).length||l.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!i&&s[0]<=n&&(s[0]=a,i=!0),s[1]<=n){if(s[1]=a,!(s=e[++o]))break;s[0]<=n?(s[0]=a,i=!0):i=!1}n+=h}}s&&(s[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var r,i=!1,n=0;n<e.length;n++)if(r=e[n],i){if(t[1]<=r[0])return e[n-1][1]=t[1],e;if(t[1]<=r[1])return e[n-1][1]=o(t[1],r[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=r[0])return e.splice(n,0,t),e;if(t[1]<=r[1])return r[0]=a(t[0],r[0]),e;t[0]<r[1]&&(r[0]=a(t[0],r[0]),i=!0)}return i?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=u},function(e,t){\"use strict\";function r(e,t){var r=t.getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top]}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,s,l,c,h,u){if(l){var g=r(e,t);if(g)return g[0]=n((g[0]+(u?c/2:0))/c),g[1]=n(g[1]/h),g[0]=a(o(g[0],1),i+(u?1:0)),g[1]=a(o(g[1],1),s),g}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0===e?0:e,t=void 0===t?this._rowCount-1:t,this._rowStart=void 0===this._rowStart?e:a(this._rowStart,e),this._rowEnd=void 0===this._rowEnd?t:o(this._rowEnd,t),this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount&&(this._rowStart=o(this._rowStart,0),this._rowEnd=a(this._rowEnd,this._rowCount-1),this._renderCallback(this._rowStart,this._rowEnd),this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0)},e}();t.RenderDebouncer=r},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return i(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia(\"screen and (resolution: \"+window.devicePixelRatio+\"dppx)\"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(r(2).Disposable);t.ScreenDprMonitor=n},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.clone=function e(t,r){if(void 0===r&&(r=5),\"object\"!=typeof t)return t;var o=Array.isArray(t)?[]:{};for(var i in t)o[i]=1>=r?t[i]:t[i]?e(t[i],r-1):t[i];return o}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(33),i=r(16),n=r(75),s=function(){function e(e){this._core=new o.Terminal(e),this._addonManager=new n.AddonManager}return Object.defineProperty(e.prototype,\"onCursorMove\",{get:function(){return this._core.onCursorMove},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onLineFeed\",{get:function(){return this._core.onLineFeed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onSelectionChange\",{get:function(){return this._core.onSelectionChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onData\",{get:function(){return this._core.onData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onTitleChange\",{get:function(){return this._core.onTitleChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onScroll\",{get:function(){return this._core.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onKey\",{get:function(){return this._core.onKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onRender\",{get:function(){return this._core.onRender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onResize\",{get:function(){return this._core.onResize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"element\",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parser\",{get:function(){return this._parser||(this._parser=new h(this._core)),this._parser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textarea\",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rows\",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cols\",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"buffer\",{get:function(){return new a(this._core.buffer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"markers\",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,r){return this._core.registerLinkMatcher(e,t,r)},e.prototype.deregisterLinkMatcher=function(e){this._core.deregisterLinkMatcher(e)},e.prototype.registerCharacterJoiner=function(e){return this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._core.deregisterCharacterJoiner(e)},e.prototype.addMarker=function(e){return this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write(\"\\r\\n\",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,\"strings\",{get:function(){return i},enumerable:!0,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(e===1/0||isNaN(e)||0!=e%1)throw new Error(\"This API only accepts integers\")}))},e}();t.Terminal=s;var a=function(){function e(e){this._buffer=e}return Object.defineProperty(e.prototype,\"cursorY\",{get:function(){return this._buffer.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cursorX\",{get:function(){return this._buffer.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"viewportY\",{get:function(){return this._buffer.ydisp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"baseY\",{get:function(){return this._buffer.ybase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"length\",{get:function(){return this._buffer.lines.length},enumerable:!0,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new l(t)},e}(),l=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,\"isWrapped\",{get:function(){return this._line.isWrapped},enumerable:!0,configurable:!0}),e.prototype.getCell=function(e){if(!(0>e||e>=this._line.length))return new c(this._line,e)},e.prototype.translateToString=function(e,t,r){return this._line.translateToString(e,t,r)},e}(),c=function(){function e(e,t){this._line=e,this._x=t}return Object.defineProperty(e.prototype,\"char\",{get:function(){return this._line.getString(this._x)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"width\",{get:function(){return this._line.getWidth(this._x)},enumerable:!0,configurable:!0}),e}(),h=function(){function e(e){this._core=e}return e.prototype.addCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,r){return t(e,r.toArray())}))},e.prototype.addEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e}()},function(e,t,i){\"use strict\";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var c=i(34),h=i(35),u=i(36),g=i(11),f=i(37),p=i(39),d=i(48),_=i(49),y=i(10),m=i(7),b=i(16),S=i(52),v=i(53),C=i(54),A=i(55),w=i(57),T=i(1),E=i(15),R=i(58),O=i(25),P=i(59),I=i(0),L=i(60),D=i(5),M=i(61),x=i(62),k=i(2),F=i(68),B=i(69),N=i(70),U=i(71),j=i(72),H=i(73),W=i(74),V=\"undefined\"==typeof window?null:window.document,K=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.browser=y,r.mouseEvents=0,r._keyDownHandled=!1,r._blankLine=null,r._onCursorMove=new T.EventEmitter,r._onData=new T.EventEmitter,r._onKey=new T.EventEmitter,r._onLineFeed=new T.EventEmitter,r._onRender=new T.EventEmitter,r._onResize=new T.EventEmitter,r._onScroll=new T.EventEmitter,r._onSelectionChange=new T.EventEmitter,r._onTitleChange=new T.EventEmitter,r._onFocus=new T.EventEmitter,r._onBlur=new T.EventEmitter,r.onA11yCharEmitter=new T.EventEmitter,r.onA11yTabEmitter=new T.EventEmitter,r._instantiationService=new j.InstantiationService,r.optionsService=new L.OptionsService(t),r._instantiationService.setService(I.IOptionsService,r.optionsService),r._bufferService=r._instantiationService.createInstance(x.BufferService),r._instantiationService.setService(I.IBufferService,r._bufferService),r._logService=r._instantiationService.createInstance(N.LogService),r._instantiationService.setService(I.ILogService,r._logService),r._coreService=r._instantiationService.createInstance(B.CoreService,(function(){return r.scrollToBottom()})),r._instantiationService.setService(I.ICoreService,r._coreService),r._coreService.onData((function(e){return r._onData.fire(e)})),r._coreMouseService=r._instantiationService.createInstance(H.CoreMouseService),r._instantiationService.setService(I.ICoreMouseService,r._coreMouseService),r._dirtyRowService=r._instantiationService.createInstance(U.DirtyRowService),r._instantiationService.setService(I.IDirtyRowService,r._dirtyRowService),r._setupOptionsListeners(),r._setup(),r._writeBuffer=new W.WriteBuffer((function(e){return r._inputHandler.parse(e)})),r}return s(t,e),Object.defineProperty(t.prototype,\"options\",{get:function(){return this.optionsService.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cols\",{get:function(){return this._bufferService.cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rows\",{get:function(){return this._bufferService.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onCursorMove\",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onData\",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onKey\",{get:function(){return this._onKey.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onLineFeed\",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onRender\",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onResize\",{get:function(){return this._onResize.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onScroll\",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onSelectionChange\",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onTitleChange\",{get:function(){return this._onTitleChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onFocus\",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onBlur\",{get:function(){return this._onBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onA11yChar\",{get:function(){return this.onA11yCharEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onA11yTab\",{get:function(){return this.onA11yTabEmitter.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(e.prototype.dispose.call(this),this._windowsMode&&(this._windowsMode.dispose(),this._windowsMode=void 0),this._renderService&&this._renderService.dispose(),this._customKeyEventHandler=null,this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element))},t.prototype._setup=function(){var e=this;this._parent=V?V.body:null,this.cursorState=0,this.cursorHidden=!1,this._customKeyEventHandler=null,this.applicationKeypad=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.curAttrData=E.DEFAULT_ATTR_DATA.clone(),this._eraseAttrData=E.DEFAULT_ATTR_DATA.clone(),this.params=[],this.currentParam=0,this._userScrolling=!1,this._inputHandler=new f.InputHandler(this,this._bufferService,this._coreService,this._dirtyRowService,this._logService,this.optionsService,this._coreMouseService),this._inputHandler.onCursorMove((function(){return e._onCursorMove.fire()})),this._inputHandler.onLineFeed((function(){return e._onLineFeed.fire()})),this.register(this._inputHandler),this.linkifier=this.linkifier||new d.Linkifier(this._bufferService,this._logService),this.options.windowsMode&&(this._windowsMode=R.applyWindowsMode(this))},Object.defineProperty(t.prototype,\"buffer\",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"buffers\",{get:function(){return this._bufferService.buffers},enumerable:!0,configurable:!0}),t.prototype.eraseAttrData=function(){return this._eraseAttrData.bg&=-67108864,this._eraseAttrData.bg|=67108863&this.curAttrData.bg,this._eraseAttrData},t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},Object.defineProperty(t.prototype,\"isFocused\",{get:function(){return V.activeElement===this.textarea&&V.hasFocus()},enumerable:!0,configurable:!0}),t.prototype._setupOptionsListeners=function(){var e=this;this.optionsService.onOptionChange((function(t){\"fontFamily\"===t||\"fontSize\"===t?(e._renderService&&e._renderService.clear(),e._charSizeService&&e._charSizeService.measure()):\"drawBoldTextInBrightColors\"===t||\"letterSpacing\"===t||\"lineHeight\"===t||\"fontWeight\"===t||\"fontWeightBold\"===t?e._renderService&&(e._renderService.clear(),e._renderService.onResize(e.cols,e.rows),e.refresh(0,e.rows-1)):\"rendererType\"===t?e._renderService&&(e._renderService.setRenderer(e._createRenderer()),e._renderService.onResize(e.cols,e.rows)):\"scrollback\"===t?(e.buffers.resize(e.cols,e.rows),e.viewport&&e.viewport.syncScrollArea()):\"screenReaderMode\"===t?e.optionsService.options.screenReaderMode?!e._accessibilityManager&&e._renderService&&(e._accessibilityManager=new C.AccessibilityManager(e,e._renderService)):e._accessibilityManager&&(e._accessibilityManager.dispose(),e._accessibilityManager=null):\"tabStopWidth\"===t?e.buffers.setupTabStops():\"theme\"===t?e._setTheme(e.optionsService.options.theme):\"windowsMode\"===t&&(e.optionsService.options.windowsMode?e._windowsMode||(e._windowsMode=R.applyWindowsMode(e)):e._windowsMode&&(e._windowsMode.dispose(),e._windowsMode=void 0))}))},t.prototype._onTextAreaFocus=function(e){this.sendFocus&&this._coreService.triggerDataEvent(g.C0.ESC+\"[I\"),this.updateCursorStyle(e),this.element.classList.add(\"focus\"),this.showCursor(),this._onFocus.fire()},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value=\"\",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this._coreService.triggerDataEvent(g.C0.ESC+\"[O\"),this.element.classList.remove(\"focus\"),this._onBlur.fire()},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(m.addDisposableDomListener(this.element,\"copy\",(function(t){e.hasSelection()&&u.copyHandler(t,e._selectionService)})));var t=function(t){return u.handlePasteEvent(t,e.textarea,e.bracketedPasteMode,e._coreService)};this.register(m.addDisposableDomListener(this.textarea,\"paste\",t)),this.register(m.addDisposableDomListener(this.element,\"paste\",t)),y.isFirefox?this.register(m.addDisposableDomListener(this.element,\"mousedown\",(function(t){2===t.button&&u.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register(m.addDisposableDomListener(this.element,\"contextmenu\",(function(t){u.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),y.isLinux&&this.register(m.addDisposableDomListener(this.element,\"auxclick\",(function(t){1===t.button&&u.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(m.addDisposableDomListener(this.textarea,\"keyup\",(function(t){return e._keyUp(t)}),!0)),this.register(m.addDisposableDomListener(this.textarea,\"keydown\",(function(t){return e._keyDown(t)}),!0)),this.register(m.addDisposableDomListener(this.textarea,\"keypress\",(function(t){return e._keyPress(t)}),!0)),this.register(m.addDisposableDomListener(this.textarea,\"compositionstart\",(function(){return e._compositionHelper.compositionstart()}))),this.register(m.addDisposableDomListener(this.textarea,\"compositionupdate\",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(m.addDisposableDomListener(this.textarea,\"compositionend\",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(this._parent=e||this._parent,!this._parent)throw new Error(\"Terminal requires a parent element.\");V.body.contains(e)||this._logService.warn(\"Terminal.open was called on an element that was not attached to the DOM\"),this._document=this._parent.ownerDocument,this.element=this._document.createElement(\"div\"),this.element.dir=\"ltr\",this.element.classList.add(\"terminal\"),this.element.classList.add(\"xterm\"),this.element.setAttribute(\"tabindex\",\"0\"),this._parent.appendChild(this.element);var r=V.createDocumentFragment();this._viewportElement=V.createElement(\"div\"),this._viewportElement.classList.add(\"xterm-viewport\"),r.appendChild(this._viewportElement),this._viewportScrollArea=V.createElement(\"div\"),this._viewportScrollArea.classList.add(\"xterm-scroll-area\"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=V.createElement(\"div\"),this.screenElement.classList.add(\"xterm-screen\"),this._helperContainer=V.createElement(\"div\"),this._helperContainer.classList.add(\"xterm-helpers\"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=V.createElement(\"textarea\"),this.textarea.classList.add(\"xterm-helper-textarea\"),this.textarea.setAttribute(\"aria-label\",b.promptLabel),this.textarea.setAttribute(\"aria-multiline\",\"false\"),this.textarea.setAttribute(\"autocorrect\",\"off\"),this.textarea.setAttribute(\"autocapitalize\",\"off\"),this.textarea.setAttribute(\"spellcheck\",\"false\"),this.textarea.tabIndex=0,this.register(m.addDisposableDomListener(this.textarea,\"focus\",(function(e){return t._onTextAreaFocus(e)}))),this.register(m.addDisposableDomListener(this.textarea,\"blur\",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(M.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(D.ICharSizeService,this._charSizeService),this._compositionView=V.createElement(\"div\"),this._compositionView.classList.add(\"composition-view\"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r),this._theme=this.options.theme||this._theme,this.options.theme=void 0,this._colorManager=new O.ColorManager(V,this.options.allowTransparency),this._colorManager.setTheme(this._theme);var o=this._createRenderer();this._renderService=this._instantiationService.createInstance(P.RenderService,o,this.rows,this.screenElement),this._instantiationService.setService(D.IRenderService,this._renderService),this._renderService.onRender((function(e){return t._onRender.fire(e)})),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(S.SoundService),this._instantiationService.setService(D.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(F.MouseService),this._instantiationService.setService(D.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(h.Viewport,(function(e,r){return t.scrollLines(e,r)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this.viewport),this.register(this.onCursorMove((function(){return t._renderService.onCursorMove()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this._instantiationService.createInstance(_.SelectionService,(function(e,r){return t.scrollLines(e,r)}),this.element,this.screenElement),this._instantiationService.setService(D.ISelectionService,this._selectionService),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRedrawRequest((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(m.addDisposableDomListener(this._viewportElement,\"scroll\",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(v.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.register(m.addDisposableDomListener(this.element,\"mousedown\",(function(e){return t._selectionService.onMouseDown(e)}))),this.mouseEvents?(this._selectionService.disable(),this.element.classList.add(\"enable-mouse-events\")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new C.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case\"canvas\":return new p.Renderer(this._colorManager.colors,this,this._bufferService,this._charSizeService,this.optionsService);case\"dom\":return new A.DomRenderer(this,this._colorManager.colors,this._charSizeService,this.optionsService);default:throw new Error('Unrecognized rendererType \"'+this.options.rendererType+'\"')}},t.prototype._setTheme=function(e){this._theme=e,this._colorManager&&this._colorManager.setTheme(e),this._renderService&&this._renderService.setColors(this._colorManager.colors),this.viewport&&this.viewport.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){function e(e){var t,r,i;if(!(t=o._mouseService.getRawByteCoords(e,o.screenElement,o.cols,o.rows)))return!1;switch(e.overrideType||e.type){case\"mousemove\":i=32,void 0===e.buttons?(r=3,void 0!==e.button&&(r=3>e.button?e.button:3)):r=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case\"mouseup\":i=0,r=3>e.button?e.button:3;break;case\"mousedown\":i=1,r=3>e.button?e.button:3;break;case\"wheel\":0!==e.deltaY&&(i=0>e.deltaY?0:1),r=4;break;default:return!1}return!(void 0===i||void 0===r||4<r)&&o._coreMouseService.triggerMouseEvent({col:t.x-33,row:t.y-33,button:r,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var t=this,o=this,i=this.element,n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},s=function(r){return e(r),r.buttons||(t._document.removeEventListener(\"mouseup\",n.mouseup),n.mousedrag&&t._document.removeEventListener(\"mousemove\",n.mousedrag)),t.cancel(r)},a=function(r){return e(r),r.preventDefault(),t.cancel(r)},l=function(t){t.buttons&&e(t)},c=function(t){t.buttons||e(t)};this._coreMouseService.onProtocolChange((function(e){t.mouseEvents=e,e?(\"debug\"===t.optionsService.options.logLevel&&t._logService.debug(\"Binding to mouse events:\",t._coreMouseService.explainEvents(e)),t.element.classList.add(\"enable-mouse-events\"),t._selectionService.disable()):(t._logService.debug(\"Unbinding from mouse events.\"),t.element.classList.remove(\"enable-mouse-events\"),t._selectionService.enable()),8&e?n.mousemove||(i.addEventListener(\"mousemove\",c),n.mousemove=c):(i.removeEventListener(\"mousemove\",n.mousemove),n.mousemove=null),16&e?n.wheel||(i.addEventListener(\"wheel\",a),n.wheel=a):(i.removeEventListener(\"wheel\",n.wheel),n.wheel=null),2&e?n.mouseup||(n.mouseup=s):(t._document.removeEventListener(\"mouseup\",n.mouseup),n.mouseup=null),4&e?n.mousedrag||(n.mousedrag=l):(t._document.removeEventListener(\"mousemove\",n.mousedrag),n.mousedrag=null)})),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(m.addDisposableDomListener(i,\"mousedown\",(function(r){if(r.preventDefault(),t.focus(),t.mouseEvents&&!t._selectionService.shouldForceSelection(r))return e(r),n.mouseup&&t._document.addEventListener(\"mouseup\",n.mouseup),n.mousedrag&&t._document.addEventListener(\"mousemove\",n.mousedrag),t.cancel(r)}))),this.register(m.addDisposableDomListener(i,\"wheel\",(function(e){if(n.wheel);else if(!t.buffer.hasScrollback){var o=t.viewport.getLinesScrolled(e);if(0===o)return;for(var i=g.C0.ESC+(t._coreService.decPrivateModes.applicationCursorKeys?\"O\":\"[\")+(0>e.deltaY?\"A\":\"B\"),s=\"\",a=0;a<r(o);a++)s+=i;t._coreService.triggerDataEvent(s,!0)}}))),this.register(m.addDisposableDomListener(i,\"wheel\",(function(e){if(!n.wheel)return t.viewport.onWheel(e)?void 0:t.cancel(e)}))),this.register(m.addDisposableDomListener(i,\"touchstart\",(function(e){if(!t.mouseEvents)return t.viewport.onTouchStart(e),t.cancel(e)}))),this.register(m.addDisposableDomListener(i,\"touchmove\",(function(e){if(!t.mouseEvents)return t.viewport.onTouchMove(e)?void 0:t.cancel(e)})))},t.prototype.refresh=function(e,t){this._renderService&&this._renderService.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){this.linkifier&&this.linkifier.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add(\"column-select\"):this.element.classList.remove(\"column-select\")},t.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e){var t;void 0===e&&(e=!1),t=this._blankLine;var r=this.eraseAttrData();t&&t.length===this.cols&&t.getFg(0)===r.fg&&t.getBg(0)===r.bg||(t=this.buffer.getBlankLine(r,e),this._blankLine=t),t.isWrapped=e;var i=this.buffer.ybase+this.buffer.scrollTop,n=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var s=this.buffer.lines.isFull;n===this.buffer.lines.length-1?s?this.buffer.lines.recycle().copyFrom(t):this.buffer.lines.push(t.clone()):this.buffer.lines.splice(n+1,0,t.clone()),s?this._userScrolling&&(this.buffer.ydisp=o(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else this.buffer.lines.shiftElements(i+1,n-i+1-1,-1),this.buffer.lines.set(n,t.clone());this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this._dirtyRowService.markRangeDirty(this.buffer.scrollTop,this.buffer.scrollBottom),this._onScroll.fire(this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(0>e){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var r=this.buffer.ydisp;this.buffer.ydisp=o(a(this.buffer.ydisp+e,this.buffer.ybase),0),r!==this.buffer.ydisp&&(t||this._onScroll.fire(this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!=t&&this.scrollLines(t)},t.prototype.paste=function(e){u.paste(e,this.textarea,this.bracketedPasteMode,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype.registerLinkMatcher=function(e,t,r){var o=this.linkifier.registerLinkMatcher(e,t,r);return this.refresh(0,this.rows-1),o},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,\"markers\",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,r){this._selectionService.setSelection(e,t,r)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:\"\"},t.prototype.getSelectionPosition=function(){if(this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){this._selectionService&&this._selectionService.clearSelection()},t.prototype.selectAll=function(){this._selectionService&&this._selectionService.selectAll()},t.prototype.selectLines=function(e,t){this._selectionService&&this._selectionService.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=w.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var r=this.rows-1;return this.scrollLines(2===t.type?-r:r),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==g.C0.ETX&&t.key!==g.C0.CR||(this.textarea.value=\"\"),this._onKey.fire({key:t.key,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return\"keypress\"===t.type?r:r&&(!t.keyCode||47<t.keyCode)},t.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},t.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=l(t),this._onKey.fire({key:t,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t,!0),0))},t.prototype.bell=function(){var e=this;this._soundBell()&&this._soundService.playBellSound(),this._visualBell()&&(this.element.classList.add(\"visual-bell-active\"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout((function(){e.element.classList.remove(\"visual-bell-active\")}),200))},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<x.MINIMUM_COLS&&(e=x.MINIMUM_COLS),t<x.MINIMUM_ROWS&&(t=x.MINIMUM_ROWS),this.buffers.resize(e,t),this._bufferService.resize(e,t),this.buffers.setupTabStops(this.cols),this._charSizeService&&this._charSizeService.measure(),this.viewport.syncScrollArea(!0),this.refresh(0,this.rows-1),this._onResize.fire({cols:e,rows:t})):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure())},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(E.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.is=function(e){return 0===(this.options.termName+\"\").indexOf(e)},t.prototype.handleTitle=function(e){this._onTitleChange.fire(e)},t.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var e=this._customKeyEventHandler,t=this._inputHandler,r=this.cursorState,o=this._userScrolling;this._setup(),this._bufferService.reset(),this._coreService.reset(),this._coreMouseService.reset(),this._selectionService&&this._selectionService.reset(),this._customKeyEventHandler=e,this._inputHandler=t,this.cursorState=r,this._userScrolling=o,this.refresh(0,this.rows-1),this.viewport&&this.viewport.syncScrollArea()},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return\"sound\"===this.options.bellStyle},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t}(k.Disposable);t.Terminal=K},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(5),a=r(0),l=function(){function e(e,t,r,o,i,n){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=o,this._charSizeService=i,this._coreService=n,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent=\"\",this._compositionView.classList.add(\"active\")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove(\"active\"),this._isComposing=!1,this._clearTextareaPosition(),e){var r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(r.start,r.end):t._textarea.value.substring(r.start),t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var r=e._textarea.value.replace(t,\"\");0<r.length&&e._coreService.triggerDataEvent(r,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var r=n(this._charSizeService.height*this._optionsService.options.lineHeight),o=this._bufferService.buffer.y*r,i=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=i+\"px\",this._compositionView.style.top=o+\"px\",this._compositionView.style.height=r+\"px\",this._compositionView.style.lineHeight=r+\"px\",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+\"px\";var s=this._compositionView.getBoundingClientRect();this._textarea.style.left=i+\"px\",this._textarea.style.top=o+\"px\",this._textarea.style.width=s.width+\"px\",this._textarea.style.height=s.height+\"px\",this._textarea.style.lineHeight=s.height+\"px\"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left=\"\",this._textarea.style.top=\"\"},o([i(2,a.IBufferService),i(3,a.IOptionsService),i(4,s.ICharSizeService),i(5,a.ICoreService)],e)}();t.CompositionHelper=l},function(e,t,o){\"use strict\";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},c=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var h=o(2),u=o(7),g=o(5),f=o(0),p=function(e){function t(t,r,o,i,n,s,a){var l=e.call(this)||this;return l._scrollLines=t,l._viewportElement=r,l._scrollArea=o,l._bufferService=i,l._optionsService=n,l._charSizeService=s,l._renderService=a,l.scrollBarWidth=0,l._currentRowHeight=0,l._lastRecordedBufferLength=0,l._lastRecordedViewportHeight=0,l._lastRecordedBufferHeight=0,l._lastTouchY=0,l._lastScrollTop=0,l._wheelPartialScroll=0,l._refreshAnimationFrame=null,l._ignoreNextScrollEvent=!1,l.scrollBarWidth=l._viewportElement.offsetWidth-l._scrollArea.offsetWidth||15,l.register(u.addDisposableDomListener(l._viewportElement,\"scroll\",l._onScroll.bind(l))),setTimeout((function(){return l.syncScrollArea()}),0),l}return a(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;return e?(this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame))):void(null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()}))))},t.prototype._innerRefresh=function(){if(0<this._charSizeService.height){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=s(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+\"px\")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},t.prototype._onScroll=function(){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var e=s(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(e,!0)}},t.prototype._bubbleScroll=function(e,t){var r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(0>t&&0!==this._viewportElement.scrollTop||0<t&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=i(r(this._wheelPartialScroll))*(0<this._wheelPartialScroll?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var r=this._optionsService.options.fastScrollModifier;return\"alt\"===r&&t.altKey||\"ctrl\"===r&&t.ctrlKey||\"shift\"===r&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!=t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},l([c(3,f.IBufferService),c(4,f.IOptionsService),c(5,g.ICharSizeService),c(6,g.IRenderService)],t)}(h.Disposable);t.Viewport=p},function(e,t){\"use strict\";function r(e){return e.replace(/\\r?\\n/g,\"\\r\")}function o(e,t){return t?\"\x1b[200~\"+e+\"\x1b[201~\":e}function i(e,t,i,n){e=o(e=r(e),i),n.triggerDataEvent(e,!0),t.value=\"\"}function n(e,t,r){var o=r.getBoundingClientRect(),i=e.clientX-o.left-10,n=e.clientY-o.top-10;t.style.position=\"absolute\",t.style.width=\"20px\",t.style.height=\"20px\",t.style.left=i+\"px\",t.style.top=n+\"px\",t.style.zIndex=\"1000\",t.focus(),setTimeout((function(){t.style.position=null,t.style.width=null,t.style.height=null,t.style.left=null,t.style.top=null,t.style.zIndex=null}),200)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.prepareTextForTerminal=r,t.bracketTextForPaste=o,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData(\"text/plain\",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r,o){e.stopPropagation(),e.clipboardData&&i(e.clipboardData.getData(\"text/plain\"),t,r,o)},t.paste=i,t.moveTextAreaUnderMouseCursor=n,t.rightClickHandler=function(e,t,r,o,i){n(e,t,r),i&&!o.isClickInSelection(e)&&o.selectWordAtCursor(e),t.value=o.selectionText,t.select()}},function(e,t,r){\"use strict\";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(11),c=r(17),h=r(18),u=r(38),g=r(2),f=r(14),p=r(8),d=r(15),_=r(1),y=r(3),m=r(4),b=r(6),S=r(20),v=r(22),C={\"(\":0,\")\":1,\"*\":2,\"+\":3,\"-\":1,\".\":2},A=function(){function e(e,t,r,o){this._bufferService=e,this._coreService=t,this._logService=r,this._optionsService=o,this._data=new Uint32Array(0)}return e.prototype.hook=function(){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,r){this._data=f.concat(this._data,e.subarray(t,r))},e.prototype.unhook=function(e){if(e){var t=p.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'\"q':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0\"q'+s.C0.ESC+\"\\\\\");case'\"p':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61\"p'+s.C0.ESC+\"\\\\\");case\"r\":var r=this._bufferService.buffer.scrollTop+1+\";\"+(this._bufferService.buffer.scrollBottom+1)+\"r\";return this._coreService.triggerDataEvent(s.C0.ESC+\"P1$r\"+r+s.C0.ESC+\"\\\\\");case\"m\":return this._coreService.triggerDataEvent(s.C0.ESC+\"P1$r0m\"+s.C0.ESC+\"\\\\\");case\" q\":var o={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return o-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+\"P1$r\"+o+\" q\"+s.C0.ESC+\"\\\\\");default:this._logService.debug(\"Unknown DCS $q %s\",t),this._coreService.triggerDataEvent(s.C0.ESC+\"P0$r\"+s.C0.ESC+\"\\\\\")}}else this._data=new Uint32Array(0)},e}(),w=function(e){function t(t,r,o,i,n,a,l,h){void 0===h&&(h=new u.EscapeSequenceParser);var g=e.call(this)||this;g._terminal=t,g._bufferService=r,g._coreService=o,g._dirtyRowService=i,g._logService=n,g._optionsService=a,g._coreMouseService=l,g._parser=h,g._parseBuffer=new Uint32Array(4096),g._stringDecoder=new p.StringToUtf32,g._utf8Decoder=new p.Utf8ToUtf32,g._workCell=new m.CellData,g._onCursorMove=new _.EventEmitter,g._onLineFeed=new _.EventEmitter,g._onScroll=new _.EventEmitter,g.register(g._parser),g._parser.setCsiHandlerFallback((function(e,t){g._logService.debug(\"Unknown CSI code: \",{identifier:g._parser.identToString(e),params:t.toArray()})})),g._parser.setEscHandlerFallback((function(e){g._logService.debug(\"Unknown ESC code: \",{identifier:g._parser.identToString(e)})})),g._parser.setExecuteHandlerFallback((function(e){g._logService.debug(\"Unknown EXECUTE code: \",{code:e})})),g._parser.setOscHandlerFallback((function(e,t,r){g._logService.debug(\"Unknown OSC code: \",{identifier:e,action:t,data:r})})),g._parser.setDcsHandlerFallback((function(e,t,r){\"HOOK\"===t&&(r=r.toArray()),g._logService.debug(\"Unknown DCS code: \",{identifier:g._parser.identToString(e),action:t,payload:r})})),g._parser.setPrintHandler((function(e,t,r){return g.print(e,t,r)})),g._parser.setCsiHandler({final:\"@\"},(function(e){return g.insertChars(e)})),g._parser.setCsiHandler({intermediates:\" \",final:\"@\"},(function(e){return g.scrollLeft(e)})),g._parser.setCsiHandler({final:\"A\"},(function(e){return g.cursorUp(e)})),g._parser.setCsiHandler({intermediates:\" \",final:\"A\"},(function(e){return g.scrollRight(e)})),g._parser.setCsiHandler({final:\"B\"},(function(e){return g.cursorDown(e)})),g._parser.setCsiHandler({final:\"C\"},(function(e){return g.cursorForward(e)})),g._parser.setCsiHandler({final:\"D\"},(function(e){return g.cursorBackward(e)})),g._parser.setCsiHandler({final:\"E\"},(function(e){return g.cursorNextLine(e)})),g._parser.setCsiHandler({final:\"F\"},(function(e){return g.cursorPrecedingLine(e)})),g._parser.setCsiHandler({final:\"G\"},(function(e){return g.cursorCharAbsolute(e)})),g._parser.setCsiHandler({final:\"H\"},(function(e){return g.cursorPosition(e)})),g._parser.setCsiHandler({final:\"I\"},(function(e){return g.cursorForwardTab(e)})),g._parser.setCsiHandler({final:\"J\"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({prefix:\"?\",final:\"J\"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({final:\"K\"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({prefix:\"?\",final:\"K\"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({final:\"L\"},(function(e){return g.insertLines(e)})),g._parser.setCsiHandler({final:\"M\"},(function(e){return g.deleteLines(e)})),g._parser.setCsiHandler({final:\"P\"},(function(e){return g.deleteChars(e)})),g._parser.setCsiHandler({final:\"S\"},(function(e){return g.scrollUp(e)})),g._parser.setCsiHandler({final:\"T\"},(function(e){return g.scrollDown(e)})),g._parser.setCsiHandler({final:\"X\"},(function(e){return g.eraseChars(e)})),g._parser.setCsiHandler({final:\"Z\"},(function(e){return g.cursorBackwardTab(e)})),g._parser.setCsiHandler({final:\"`\"},(function(e){return g.charPosAbsolute(e)})),g._parser.setCsiHandler({final:\"a\"},(function(e){return g.hPositionRelative(e)})),g._parser.setCsiHandler({final:\"b\"},(function(e){return g.repeatPrecedingCharacter(e)})),g._parser.setCsiHandler({final:\"c\"},(function(e){return g.sendDeviceAttributesPrimary(e)})),g._parser.setCsiHandler({prefix:\">\",final:\"c\"},(function(e){return g.sendDeviceAttributesSecondary(e)})),g._parser.setCsiHandler({final:\"d\"},(function(e){return g.linePosAbsolute(e)})),g._parser.setCsiHandler({final:\"e\"},(function(e){return g.vPositionRelative(e)})),g._parser.setCsiHandler({final:\"f\"},(function(e){return g.hVPosition(e)})),g._parser.setCsiHandler({final:\"g\"},(function(e){return g.tabClear(e)})),g._parser.setCsiHandler({final:\"h\"},(function(e){return g.setMode(e)})),g._parser.setCsiHandler({prefix:\"?\",final:\"h\"},(function(e){return g.setModePrivate(e)})),g._parser.setCsiHandler({final:\"l\"},(function(e){return g.resetMode(e)})),g._parser.setCsiHandler({prefix:\"?\",final:\"l\"},(function(e){return g.resetModePrivate(e)})),g._parser.setCsiHandler({final:\"m\"},(function(e){return g.charAttributes(e)})),g._parser.setCsiHandler({final:\"n\"},(function(e){return g.deviceStatus(e)})),g._parser.setCsiHandler({prefix:\"?\",final:\"n\"},(function(e){return g.deviceStatusPrivate(e)})),g._parser.setCsiHandler({intermediates:\"!\",final:\"p\"},(function(e){return g.softReset(e)})),g._parser.setCsiHandler({intermediates:\" \",final:\"q\"},(function(e){return g.setCursorStyle(e)})),g._parser.setCsiHandler({final:\"r\"},(function(e){return g.setScrollRegion(e)})),g._parser.setCsiHandler({final:\"s\"},(function(e){return g.saveCursor(e)})),g._parser.setCsiHandler({final:\"u\"},(function(e){return g.restoreCursor(e)})),g._parser.setCsiHandler({intermediates:\"'\",final:\"}\"},(function(e){return g.insertColumns(e)})),g._parser.setCsiHandler({intermediates:\"'\",final:\"~\"},(function(e){return g.deleteColumns(e)})),g._parser.setExecuteHandler(s.C0.BEL,(function(){return g.bell()})),g._parser.setExecuteHandler(s.C0.LF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.VT,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.FF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.CR,(function(){return g.carriageReturn()})),g._parser.setExecuteHandler(s.C0.BS,(function(){return g.backspace()})),g._parser.setExecuteHandler(s.C0.HT,(function(){return g.tab()})),g._parser.setExecuteHandler(s.C0.SO,(function(){return g.shiftOut()})),g._parser.setExecuteHandler(s.C0.SI,(function(){return g.shiftIn()})),g._parser.setExecuteHandler(s.C1.IND,(function(){return g.index()})),g._parser.setExecuteHandler(s.C1.NEL,(function(){return g.nextLine()})),g._parser.setExecuteHandler(s.C1.HTS,(function(){return g.tabSet()})),g._parser.setOscHandler(0,new S.OscHandler((function(e){return g.setTitle(e)}))),g._parser.setOscHandler(2,new S.OscHandler((function(e){return g.setTitle(e)}))),g._parser.setEscHandler({final:\"7\"},(function(){return g.saveCursor()})),g._parser.setEscHandler({final:\"8\"},(function(){return g.restoreCursor()})),g._parser.setEscHandler({final:\"D\"},(function(){return g.index()})),g._parser.setEscHandler({final:\"E\"},(function(){return g.nextLine()})),g._parser.setEscHandler({final:\"H\"},(function(){return g.tabSet()})),g._parser.setEscHandler({final:\"M\"},(function(){return g.reverseIndex()})),g._parser.setEscHandler({final:\"=\"},(function(){return g.keypadApplicationMode()})),g._parser.setEscHandler({final:\">\"},(function(){return g.keypadNumericMode()})),g._parser.setEscHandler({final:\"c\"},(function(){return g.reset()})),g._parser.setEscHandler({final:\"n\"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:\"o\"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:\"|\"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:\"}\"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:\"~\"},(function(){return g.setgLevel(1)})),g._parser.setEscHandler({intermediates:\"%\",final:\"@\"},(function(){return g.selectDefaultCharset()})),g._parser.setEscHandler({intermediates:\"%\",final:\"G\"},(function(){return g.selectDefaultCharset()}));var f=function(e){d._parser.setEscHandler({intermediates:\"(\",final:e},(function(){return g.selectCharset(\"(\"+e)})),d._parser.setEscHandler({intermediates:\")\",final:e},(function(){return g.selectCharset(\")\"+e)})),d._parser.setEscHandler({intermediates:\"*\",final:e},(function(){return g.selectCharset(\"*\"+e)})),d._parser.setEscHandler({intermediates:\"+\",final:e},(function(){return g.selectCharset(\"+\"+e)})),d._parser.setEscHandler({intermediates:\"-\",final:e},(function(){return g.selectCharset(\"-\"+e)})),d._parser.setEscHandler({intermediates:\".\",final:e},(function(){return g.selectCharset(\".\"+e)})),d._parser.setEscHandler({intermediates:\"/\",final:e},(function(){return g.selectCharset(\"/\"+e)}))},d=this;for(var y in c.CHARSETS)f(y);return g._parser.setEscHandler({intermediates:\"#\",final:\"8\"},(function(){return g.screenAlignmentPattern()})),g._parser.setErrorHandler((function(e){return g._logService.error(\"Parsing error: \",e),e})),g._parser.setDcsHandler({intermediates:\"$\",final:\"q\"},new A(g._bufferService,g._coreService,g._logService,g._optionsService)),g}return n(t,e),Object.defineProperty(t.prototype,\"onCursorMove\",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onLineFeed\",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onScroll\",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,r=t.x,o=t.y;if(this._logService.debug(\"parsing data\",e),this._parseBuffer.length<e.length&&131072>this._parseBuffer.length&&(this._parseBuffer=new Uint32Array(a(e.length,131072))),131072<e.length)for(var i=0;i<e.length;i+=131072){var n=i+131072<e.length?i+131072:e.length,s=\"string\"==typeof e?this._stringDecoder.decode(e.substring(i,n),this._parseBuffer):this._utf8Decoder.decode(e.subarray(i,n),this._parseBuffer);this._parser.parse(this._parseBuffer,s)}else s=\"string\"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,s);(t=this._bufferService.buffer).x===r&&t.y===o||this._onCursorMove.fire(),this._terminal.refresh(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,r){var o,i,n=this._bufferService.buffer,s=this._terminal.charset,a=this._optionsService.options.screenReaderMode,c=this._bufferService.cols,u=this._terminal.wraparoundMode,g=this._terminal.insertMode,f=this._terminal.curAttrData,d=n.lines.get(n.y+n.ybase);this._dirtyRowService.markDirty(n.y);for(var _=t;_<r;++_){if(o=e[_],i=h.wcwidth(o),127>o&&s){var m=s[l(o)];m&&(o=m.charCodeAt(0))}if(a&&this._terminal.onA11yCharEmitter.fire(p.stringFromCodePoint(o)),i||!n.x){if(n.x+i-1>=c)if(u)n.x=0,n.y++,n.y===n.scrollBottom+1?(n.y--,this._terminal.scroll(!0)):(n.y>=this._bufferService.rows&&(n.y=this._bufferService.rows-1),n.lines.get(n.y).isWrapped=!0),d=n.lines.get(n.y+n.ybase);else if(n.x=c-1,2===i)continue;if(g&&(d.insertCells(n.x,i,n.getNullCell(f)),2===d.getWidth(c-1)&&d.setCellFromCodePoint(c-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,f.fg,f.bg)),d.setCellFromCodePoint(n.x++,o,i,f.fg,f.bg),0<i)for(;--i;)d.setCellFromCodePoint(n.x++,0,0,f.fg,f.bg)}else d.getWidth(n.x-1)?d.addCodepointToCell(n.x-1,o):d.addCodepointToCell(n.x-2,o)}r&&(d.loadCell(n.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||65535<this._workCell.getCode()?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._dirtyRowService.markDirty(n.y)},t.prototype.addCsiHandler=function(e,t){return this._parser.addCsiHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new v.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new S.OscHandler(t))},t.prototype.bell=function(){this._terminal.bell()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll()):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){this._restrictCursor(),0<this._bufferService.buffer.x&&this._bufferService.buffer.x--},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._terminal.onA11yTabEmitter.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._terminal.setgLevel(1)},t.prototype.shiftIn=function(){this._terminal.setgLevel(0)},t.prototype._restrictCursor=function(){this._bufferService.buffer.x=a(this._bufferService.cols-1,o(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._terminal.originMode?a(this._bufferService.buffer.scrollBottom,o(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):a(this._bufferService.rows-1,o(0,this._bufferService.buffer.y))},t.prototype._setCursor=function(e,t){this._terminal.originMode?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor()},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;0<=t?this._moveCursor(0,-a(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;0<=t?this._moveCursor(0,a(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(2<=e.length?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,r=this._bufferService.buffer;t--;)r.x=r.prevStop()},t.prototype._eraseInBufferLine=function(e,t,r,o){void 0===o&&(o=!1);var i=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);i.replaceCells(t,r,this._bufferService.buffer.getNullCell(this._terminal.eraseAttrData())),o&&(i.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._terminal.eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var r=this._bufferService.buffer.lines.length-this._bufferService.rows;0<r&&(this._bufferService.buffer.lines.trimStart(r),this._bufferService.buffer.ybase=o(this._bufferService.buffer.ybase-r,0),this._bufferService.buffer.ydisp=o(this._bufferService.buffer.ydisp-r,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,r=this._bufferService.buffer;if(!(r.y>r.scrollBottom||r.y<r.scrollTop)){for(var o=r.y+r.ybase,i=this._bufferService.rows-1-r.scrollBottom,n=this._bufferService.rows-1+r.ybase-i+1;t--;)r.lines.splice(n-1,1),r.lines.splice(o,0,r.getBlankLine(this._terminal.eraseAttrData()));this._dirtyRowService.markRangeDirty(r.y,r.scrollBottom),r.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,r=this._bufferService.buffer;if(!(r.y>r.scrollBottom||r.y<r.scrollTop)){var o,i=r.y+r.ybase;for(o=this._bufferService.rows-1-r.scrollBottom,o=this._bufferService.rows-1+r.ybase-o;t--;)r.lines.splice(i,1),r.lines.splice(o,0,r.getBlankLine(this._terminal.eraseAttrData()));this._dirtyRowService.markRangeDirty(r.y,r.scrollBottom),r.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._terminal.eraseAttrData())),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._terminal.eraseAttrData())),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,r=this._bufferService.buffer;t--;)r.lines.splice(r.ybase+r.scrollTop,1),r.lines.splice(r.ybase+r.scrollBottom,0,r.getBlankLine(this._terminal.eraseAttrData()));this._dirtyRowService.markRangeDirty(r.scrollTop,r.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,r=this._bufferService.buffer;t--;)r.lines.splice(r.ybase+r.scrollBottom,1),r.lines.splice(r.ybase+r.scrollTop,0,r.getBlankLine(d.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(r.scrollTop,r.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var r,o=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i)(r=t.lines.get(t.ybase+i)).deleteCells(0,o,t.getNullCell(this._terminal.eraseAttrData())),r.isWrapped=!1;this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var r,o=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i)(r=t.lines.get(t.ybase+i)).insertCells(0,o,t.getNullCell(this._terminal.eraseAttrData())),r.isWrapped=!1;this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var r,o=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i)(r=this._bufferService.buffer.lines.get(t.ybase+i)).insertCells(t.x,o,t.getNullCell(this._terminal.eraseAttrData())),r.isWrapped=!1;this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var r,o=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i)(r=t.lines.get(t.ybase+i)).deleteCells(t.x,o,t.getNullCell(this._terminal.eraseAttrData())),r.isWrapped=!1;this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._terminal.eraseAttrData())),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,r=new Uint32Array(t),o=0;o<t;++o)r[o]=this._parser.precedingCodepoint;this.print(r,0,r.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){0<e.params[0]||(this._terminal.is(\"xterm\")||this._terminal.is(\"rxvt-unicode\")||this._terminal.is(\"screen\")?this._coreService.triggerDataEvent(s.C0.ESC+\"[?1;2c\"):this._terminal.is(\"linux\")&&this._coreService.triggerDataEvent(s.C0.ESC+\"[?6c\"))},t.prototype.sendDeviceAttributesSecondary=function(e){0<e.params[0]||(this._terminal.is(\"xterm\")?this._coreService.triggerDataEvent(s.C0.ESC+\"[>0;276;0c\"):this._terminal.is(\"rxvt-unicode\")?this._coreService.triggerDataEvent(s.C0.ESC+\"[>85;95;0c\"):this._terminal.is(\"linux\")?this._coreService.triggerDataEvent(e.params[0]+\"c\"):this._terminal.is(\"screen\")&&this._coreService.triggerDataEvent(s.C0.ESC+\"[>83;40003;0c\"))},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._terminal.setgCharset(0,c.DEFAULT_CHARSET),this._terminal.setgCharset(1,c.DEFAULT_CHARSET),this._terminal.setgCharset(2,c.DEFAULT_CHARSET),this._terminal.setgCharset(3,c.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._bufferService.cols,this._terminal.resize(132,this._bufferService.rows),this._terminal.reset();break;case 6:this._terminal.originMode=!0,this._setCursor(0,0);break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._logService.debug(\"Serial port requested application keypad.\"),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:this._coreMouseService.activeProtocol=\"X10\";break;case 1e3:this._coreMouseService.activeProtocol=\"VT200\";break;case 1002:this._coreMouseService.activeProtocol=\"DRAG\";break;case 1003:this._coreMouseService.activeProtocol=\"ANY\";break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._logService.debug(\"DECSET 1005 not supported (see #2507)\");break;case 1006:this._coreMouseService.activeEncoding=\"SGR\";break;case 1015:this._logService.debug(\"DECSET 1015 not supported (see #2507)\");break;case 25:this._terminal.cursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._terminal.eraseAttrData()),this._terminal.refresh(0,this._bufferService.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:132===this._bufferService.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._bufferService.rows),delete this._terminal.savedCols,this._terminal.reset();break;case 6:this._terminal.originMode=!1,this._setCursor(0,0);break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._logService.debug(\"Switching back to normal keypad.\"),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol=\"NONE\";break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._logService.debug(\"DECRST 1005 not supported (see #2507)\");break;case 1006:this._coreMouseService.activeEncoding=\"DEFAULT\";break;case 1015:this._logService.debug(\"DECRST 1015 not supported (see #2507)\");break;case 25:this._terminal.cursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._terminal.refresh(0,this._bufferService.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}},t.prototype._extractColor=function(e,t,r){var o=[0,0,-1,0,0,0],i=0,n=0;do{if(o[n+i]=e.params[t+n],e.hasSubParams(t+n)){var s=e.getSubParams(t+n),a=0;do{5===o[1]&&(i=1),o[n+a+1+i]=s[a]}while(++a<s.length&&a+n+1+i<o.length);break}if(5===o[1]&&2<=n+i||2===o[1]&&5<=n+i)break;o[1]&&(i=1)}while(++n+t<e.length&&n+i<o.length);for(a=2;a<o.length;++a)-1===o[a]&&(o[a]=0);return 38===o[0]?2===o[1]?(r.fg|=50331648,r.fg&=-16777216,r.fg|=b.AttributeData.fromColorRGB([o[3],o[4],o[5]])):5===o[1]&&(r.fg&=-50331904,r.fg|=33554432|255&o[3]):48===o[0]&&(2===o[1]?(r.bg|=50331648,r.bg&=-16777216,r.bg|=b.AttributeData.fromColorRGB([o[3],o[4],o[5]])):5===o[1]&&(r.bg&=-50331904,r.bg|=33554432|255&o[3])),n},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._terminal.curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,void(this._terminal.curAttrData.bg=d.DEFAULT_ATTR_DATA.bg);for(var t,r=e.length,o=this._terminal.curAttrData,i=0;i<r;i++)30<=(t=e.params[i])&&37>=t?(o.fg&=-50331904,o.fg|=16777216|t-30):40<=t&&47>=t?(o.bg&=-50331904,o.bg|=16777216|t-40):90<=t&&97>=t?(o.fg&=-50331904,o.fg|=16777224|t-90):100<=t&&107>=t?(o.bg&=-50331904,o.bg|=16777224|t-100):0===t?(o.fg=d.DEFAULT_ATTR_DATA.fg,o.bg=d.DEFAULT_ATTR_DATA.bg):1===t?o.fg|=134217728:3===t?o.bg|=67108864:4===t?o.fg|=268435456:5===t?o.fg|=536870912:7===t?o.fg|=67108864:8===t?o.fg|=1073741824:2===t?o.bg|=134217728:22===t?(o.fg&=-134217729,o.bg&=-134217729):23===t?o.bg&=-67108865:24===t?o.fg&=-268435457:25===t?o.fg&=-536870913:27===t?o.fg&=-67108865:28===t?o.fg&=-1073741825:39===t?(o.fg&=-67108864,o.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(o.bg&=-67108864,o.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t?i+=this._extractColor(e,i,o):100===t?(o.fg&=-67108864,o.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,o.bg&=-67108864,o.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug(\"Unknown SGR attribute: %d.\",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+\"[0n\");break;case 6:var t=this._bufferService.buffer.y+1,r=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+\"[\"+t+\";\"+r+\"R\")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,r=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+\"[?\"+t+\";\"+r+\"R\")}},t.prototype.softReset=function(){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._coreService.decPrivateModes.applicationCursorKeys=!1,this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._terminal.curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._bufferService.buffer.x=this._bufferService.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;1===t||2===t?this._optionsService.options.cursorStyle=\"block\":3===t||4===t?this._optionsService.options.cursorStyle=\"underline\":(5===t||6===t)&&(this._optionsService.options.cursorStyle=\"bar\"),this._optionsService.options.cursorBlink=1==t%2},t.prototype.setScrollRegion=function(e){var t,r=e.params[0]||1;(2>e.length||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>r&&(this._bufferService.buffer.scrollTop=r-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.saveCursor=function(){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._terminal.curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._terminal.curAttrData.bg,this._bufferService.buffer.savedCharset=this._terminal.charset},t.prototype.restoreCursor=function(){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=o(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._terminal.curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._terminal.curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._terminal.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._terminal.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._terminal.handleTitle(e)},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){this._logService.debug(\"Serial port requested application keypad.\"),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},t.prototype.keypadNumericMode=function(){this._logService.debug(\"Switching back to normal keypad.\"),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},t.prototype.selectDefaultCharset=function(){this._terminal.setgLevel(0),this._terminal.setgCharset(0,c.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?\"/\"!==e[0]&&this._terminal.setgCharset(C[e[0]],c.CHARSETS[e[1]]||c.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll()):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.y+e.ybase,t,1),e.lines.set(e.y+e.ybase,e.getBlankLine(this._terminal.eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},t.prototype.reset=function(){this._parser.reset(),this._terminal.reset()},t.prototype.setgLevel=function(e){this._terminal.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new m.CellData;e.content=4194373,e.fg=this._terminal.curAttrData.fg,e.bg=this._terminal.curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var r,o=0;o<this._bufferService.rows;++o)r=t.y+t.ybase+o,t.lines.get(r).fill(e),t.lines.get(r).isWrapped=!1;this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(g.Disposable);t.InputHandler=w},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),s=r(14),a=r(19),c=r(20),h=r(22),u=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){s.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,r,o){this.table[t<<8|e]=r<<4|o},e.prototype.addMany=function(e,t,r,o){for(var i=0;i<e.length;i++)this.table[t<<8|e[i]]=r<<4|o},e}();t.TransitionTable=u,t.VT500_TRANSITION_TABLE=function(){var e=new u(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),r=function(e,r){return t.slice(e,r)},o=r(32,127),i=r(0,24);i.push(25),i.push.apply(i,r(28,32));var n,s=r(0,14);for(n in e.setDefault(1,0),e.addMany(o,0,2,0),s)e.addMany([24,26,153,154],n,3,0),e.addMany(r(128,144),n,3,0),e.addMany(r(144,152),n,3,0),e.add(156,n,0,0),e.add(27,n,11,1),e.add(157,n,4,8),e.addMany([152,158,159],n,0,7),e.add(155,n,11,3),e.add(144,n,11,9);return e.addMany(i,0,3,0),e.addMany(i,1,3,1),e.add(127,1,0,1),e.addMany(i,8,0,8),e.addMany(i,3,3,3),e.add(127,3,0,3),e.addMany(i,4,3,4),e.add(127,4,0,4),e.addMany(i,6,3,6),e.addMany(i,5,3,5),e.add(127,5,0,5),e.addMany(i,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(o,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(o,7,0,7),e.addMany(i,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(i,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(i,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(i,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(i,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(i,13,13,13),e.addMany(o,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var g=function(e){function r(r){void 0===r&&(r=t.VT500_TRANSITION_TABLE);var o=e.call(this)||this;return o.TRANSITIONS=r,o.initialState=0,o.currentState=o.initialState,o._params=new a.Params,o._params.addParam(0),o._collect=0,o.precedingCodepoint=0,o._printHandlerFb=function(){},o._executeHandlerFb=function(){},o._csiHandlerFb=function(){},o._escHandlerFb=function(){},o._errorHandlerFb=function(e){return e},o._printHandler=o._printHandlerFb,o._executeHandlers=Object.create(null),o._csiHandlers=Object.create(null),o._escHandlers=Object.create(null),o._oscParser=new c.OscParser,o._dcsParser=new h.DcsParser,o._errorHandler=o._errorHandlerFb,o.setEscHandler({final:\"\\\\\"},(function(){})),o}return i(r,e),r.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var r=0;if(e.prefix){if(1<e.prefix.length)throw new Error(\"only one byte as prefix supported\");if((r=e.prefix.charCodeAt(0))&&60>r||63<r)throw new Error(\"prefix must be in range 0x3c .. 0x3f\")}if(e.intermediates){if(2<e.intermediates.length)throw new Error(\"only two bytes as intermediates are supported\");for(var o,i=0;i<e.intermediates.length;++i){if(32>(o=e.intermediates.charCodeAt(i))||47<o)throw new Error(\"intermediate must be in range 0x20 .. 0x2f\");r<<=8,r|=o}}if(1!==e.final.length)throw new Error(\"final must be a single byte\");var n=e.final.charCodeAt(0);if(t[0]>n||n>t[1])throw new Error(\"final must be in range \"+t[0]+\" .. \"+t[1]);return(r<<=8)|n},r.prototype.identToString=function(e){for(var t=[];e;)t.push(l(255&e)),e>>=8;return t.reverse().join(\"\")},r.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},r.prototype.setPrintHandler=function(e){this._printHandler=e},r.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},r.prototype.addEscHandler=function(e,t){var r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);var o=this._escHandlers[r];return o.push(t),{dispose:function(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}}},r.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},r.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},r.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},r.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},r.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},r.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},r.prototype.addCsiHandler=function(e,t){var r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);var o=this._csiHandlers[r];return o.push(t),{dispose:function(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}}},r.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},r.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},r.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},r.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},r.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},r.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},r.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},r.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},r.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},r.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},r.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},r.prototype.setErrorHandler=function(e){this._errorHandler=e},r.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},r.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},r.prototype.parse=function(e,t){for(var r=0,o=0,i=this.currentState,n=this._oscParser,s=this._dcsParser,a=this._collect,l=this._params,c=this.TRANSITIONS.table,h=0;h<t;++h){switch((o=c[i<<8|(160>(r=e[h])?r:160)])>>4){case 2:for(var u=h+1;;++u){if(u>=t||32>(r=e[u])||126<r&&160>r){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||32>(r=e[u])||126<r&&160>r){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||32>(r=e[u])||126<r&&160>r){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||32>(r=e[u])||126<r&&160>r){this._printHandler(e,h,u),h=u-1;break}}break;case 3:this._executeHandlers[r]?this._executeHandlers[r]():this._executeHandlerFb(r),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:h,code:r,currentState:i,collect:a,params:l,abort:!1}).abort)return;break;case 7:for(var g=this._csiHandlers[a<<8|r],f=g?g.length-1:-1;0<=f&&!1===g[f](l);f--);0>f&&this._csiHandlerFb(a<<8|r,l),this.precedingCodepoint=0;break;case 8:do{59===r?l.addParam(0):58===r?l.addSubParam(-1):l.addDigit(r-48)}while(++h<t&&47<(r=e[h])&&60>r);h--;break;case 9:a<<=8,a|=r;break;case 10:for(var p=this._escHandlers[a<<8|r],d=p?p.length-1:-1;0<=d&&!1===p[d]();d--);0>d&&this._escHandlerFb(a<<8|r),this.precedingCodepoint=0;break;case 11:l.reset(),l.addParam(0),a=0;break;case 12:s.hook(a<<8|r,l);break;case 13:for(var _=h+1;;++_)if(_>=t||24===(r=e[_])||26===r||27===r||127<r&&160>r){s.put(e,h,_),h=_-1;break}break;case 14:s.unhook(24!==r&&26!==r),27===r&&(o|=1),l.reset(),l.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:n.start();break;case 5:for(var y=h+1;;y++)if(y>=t||32>(r=e[y])||127<r&&159>=r){n.put(e,h,y),h=y-1;break}break;case 6:n.end(24!==r&&26!==r),27===r&&(o|=1),l.reset(),l.addParam(0),a=0,this.precedingCodepoint=0}i=15&o}this._collect=a,this.currentState=i},r}(n.Disposable);t.EscapeSequenceParser=g},function(e,t,r){\"use strict\";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var l=r(40),c=r(45),h=r(46),u=r(47),g=r(27),f=r(2),p=r(23),d=1,_=function(e){function t(t,r,o,i,n){var s=e.call(this)||this;s._colors=t,s._terminal=r,s.bufferService=o,s._charSizeService=i,s.optionsService=n,s._id=d++;var a=s._terminal.options.allowTransparency;return s._characterJoinerRegistry=new g.CharacterJoinerRegistry(o),s._renderLayers=[new l.TextRenderLayer(s._terminal.screenElement,0,s._colors,s._characterJoinerRegistry,a,s._id,o,n),new c.SelectionRenderLayer(s._terminal.screenElement,1,s._colors,s._id,o,n),new u.LinkRenderLayer(s._terminal.screenElement,2,s._colors,s._id,s._terminal.linkifier,o,n),new h.CursorRenderLayer(s._terminal.screenElement,3,s._colors,s._terminal,s._id,o,n)],s.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},s._devicePixelRatio=window.devicePixelRatio,s._updateDimensions(),s.onOptionsChanged(),s}return a(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._renderLayers.forEach((function(e){return e.dispose()})),p.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._terminal.cols,this._terminal.rows))},t.prototype.setColors=function(e){var t=this;this._colors=e,this._renderLayers.forEach((function(e){e.setColors(t._colors),e.reset()}))},t.prototype.onResize=function(){var e=this;this._updateDimensions(),this._renderLayers.forEach((function(t){return t.resize(e.dimensions)})),this._terminal.screenElement.style.width=this.dimensions.canvasWidth+\"px\",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+\"px\"},t.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._runOperation((function(o){return o.onSelectionChanged(e,t,r)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){this._renderLayers.forEach((function(t){return e(t)}))},t.prototype.renderRows=function(e,t){this._renderLayers.forEach((function(r){return r.onGridChanged(e,t)}))},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=i(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=n(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=i(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:s((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+s(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=i(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=s(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=s(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},t}(f.Disposable);t.Renderer=_},function(e,t,r){\"use strict\";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(41),a=r(12),l=r(6),c=r(3),h=r(27),u=r(4),g=function(e){function t(t,r,o,i,n,a,l,c){var h=e.call(this,t,\"text\",r,n,o,a,l,c)||this;return h.bufferService=l,h.optionsService=c,h._characterWidth=0,h._characterFont=\"\",h._characterOverlapCache={},h._workCell=new u.CellData,h._state=new s.GridCache,h._characterJoinerRegistry=i,h}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var r=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===r||(this._characterWidth=t.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,r,o){for(var i=e;i<=t;i++)for(var n=i+this._bufferService.buffer.ydisp,s=this._bufferService.buffer.lines.get(n),a=r?r.getJoinedCharacters(n):[],l=0;l<this._bufferService.cols;l++){s.loadCell(l,this._workCell);var u=this._workCell,g=!1,f=l;if(0!==u.getWidth()){if(0<a.length&&l===a[0][0]){g=!0;var p=a.shift();u=new h.JoinedCellData(this._workCell,s.translateToString(!0,p[0],p[1]),p[1]-p[0]),f=p[1]-1}!g&&this._isOverlapping(u)&&f<s.length-1&&s.getCodePoint(f+1)===c.NULL_CELL_CODE&&(u.content&=-12582913,u.content|=8388608),o(u,l,i),l=f}}},t.prototype._drawBackground=function(e,t){var r=this,o=this._ctx,i=this._bufferService.cols,n=0,s=0,a=null;o.save(),this._forEachCell(e,t,null,(function(e,t,c){var h=null;e.isInverse()?h=e.isFgDefault()?r._colors.foreground.css:e.isFgRGB()?\"rgb(\"+l.AttributeData.toColorRGB(e.getFgColor()).join(\",\")+\")\":r._colors.ansi[e.getFgColor()].css:e.isBgRGB()?h=\"rgb(\"+l.AttributeData.toColorRGB(e.getBgColor()).join(\",\")+\")\":e.isBgPalette()&&(h=r._colors.ansi[e.getBgColor()].css),null===a&&(n=t,s=c),c===s?a!==h&&(o.fillStyle=a||\"\",r._fillCells(n,s,t-n,1),n=t,s=c):(o.fillStyle=a||\"\",r._fillCells(n,s,i-n,1),n=t,s=c),a=h})),null!==a&&(o.fillStyle=a,this._fillCells(n,s,i-n,1)),o.restore()},t.prototype._drawForeground=function(e,t){var r=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,o){if(!e.isInvisible()&&(r._drawChars(e,t,o),e.isUnderline())){if(r._ctx.save(),e.isInverse())r._ctx.fillStyle=e.isBgDefault()?r._colors.background.css:e.isBgRGB()?\"rgb(\"+l.AttributeData.toColorRGB(e.getBgColor()).join(\",\")+\")\":r._colors.ansi[e.getBgColor()].css;else if(e.isFgDefault())r._ctx.fillStyle=r._colors.foreground.css;else if(e.isFgRGB())r._ctx.fillStyle=\"rgb(\"+l.AttributeData.toColorRGB(e.getFgColor()).join(\",\")+\")\";else{var i=e.getFgColor();r._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&8>i&&(i+=8),r._ctx.fillStyle=r._colors.ansi[i].css}r._fillBottomLineAtCells(t,o,e.getWidth()),r._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(256>e.getCode())return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var r=i(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=r,r},t}(a.BaseRenderLayer);t.TextRenderLayer=g},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var r=0;r<e;r++){this.cache.length<=r&&this.cache.push([]);for(var o=this.cache[r].length;o<t;o++)this.cache[r].push(void 0);this.cache[r].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=r},function(e,t,r){\"use strict\";function o(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(9),l=r(43),c=r(25),h=r(44),u=r(10),g=r(26),f=1024,p=1024,d={css:\"rgba(0, 0, 0, 0)\",rgba:0};t.getGlyphCacheKey=o;var _=function(e){function t(t,r){var o=e.call(this)||this;o._config=r,o._drawToCacheCount=0,o._glyphsWaitingOnBitmap=[],o._bitmapCommitTimeout=null,o._bitmap=null,o._cacheCanvas=t.createElement(\"canvas\"),o._cacheCanvas.width=f,o._cacheCanvas.height=p,o._cacheCtx=g.throwIfFalsy(o._cacheCanvas.getContext(\"2d\",{alpha:!0}));var n=t.createElement(\"canvas\");n.width=o._config.scaledCharWidth,n.height=o._config.scaledCharHeight,o._tmpCtx=g.throwIfFalsy(n.getContext(\"2d\",{alpha:o._config.allowTransparency})),o._width=i(f/o._config.scaledCharWidth),o._height=i(p/o._config.scaledCharHeight);var s=o._width*o._height;return o._cacheMap=new h.LRUMap(s),o._cacheMap.prealloc(s),o}return s(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,r,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var n=o(t),s=this._cacheMap.get(n);if(null!=s)return this._drawFromCache(e,s,r,i),!0;if(100>this._drawToCacheCount){var a=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index,l=this._drawToCache(t,a);return this._cacheMap.set(n,l),this._drawFromCache(e,l,r,i),!0}return!1},t.prototype._canCache=function(e){return 256>e.code},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return i(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,r,o){if(!t.isEmpty){var i=this._toCoordinateX(t.index),n=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,i,n,this._config.scaledCharWidth,this._config.scaledCharHeight,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:c.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===a.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:256>e.bg?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===a.INVERTED_DEFAULT_COLOR?this._config.colors.background:256>e.fg?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var r=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation=\"copy\",this._tmpCtx.fillStyle=r.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation=\"source-over\";var o=e.bold?this._config.fontWeightBold:this._config.fontWeight,i=e.italic?\"italic\":\"\";this._tmpCtx.font=i+\" \"+o+\" \"+this._config.fontSize*this._config.devicePixelRatio+\"px \"+this._config.fontFamily,this._tmpCtx.textBaseline=\"middle\",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=a.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var n=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),s=!1;this._config.allowTransparency||(s=function(e,t){for(var r=!0,o=t.rgba>>>24,i=255&t.rgba>>>16,n=255&t.rgba>>>8,s=0;s<e.data.length;s+=4)e.data[s]===o&&e.data[s+1]===i&&e.data[s+2]===n?e.data[s+3]=0:r=!1;return r}(n,r));var l=this._toCoordinateX(t),c=this._toCoordinateY(t);this._cacheCtx.putImageData(n,l,c);var h={index:t,isEmpty:s,inBitmap:!1};return this._addGlyphToBitmap(h),h},t.prototype._addGlyphToBitmap=function(e){var t=this;!(\"createImageBitmap\"in window)||u.isFirefox||u.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(r){e._bitmap=r;for(var o=0;o<t.length;o++)t[o].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(l.BaseCharAtlas);t.DynamicCharAtlas=_;var y=function(e){function t(){return e.call(this)||this}return s(t,e),t.prototype.draw=function(){return!1},t}(l.BaseCharAtlas);t.NoneCharAtlas=y},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,r=e.next;e===this._head&&(this._head=r),e===this._tail&&(this._tail=t),null!==t&&(t.next=r),null!==r&&(r.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,r=0;r<e;r++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0===t?null:(this._unlinkNode(t),this._appendNode(t),t.value)},e.prototype.peekValue=function(e){var t=this._map[e];return void 0===t?null:t.value},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var r=this._map[e];if(void 0!==r)r=this._map[e],this._unlinkNode(r),r.value=t;else if(this.size>=this.capacity)r=this._head,this._unlinkNode(r),delete this._map[r.key],r.key=e,r.value=t,this._map[e]=r;else{var o=this._nodePool;0<o.length?((r=o.pop()).key=e,r.value=t):r={prev:null,next:null,key:e,value:t},this._map[e]=r,this.size++}this._appendNode(r)},e}();t.LRUMap=r},function(e,t,r){\"use strict\";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(e){function t(t,r,o,i,n,s){var a=e.call(this,t,\"selection\",r,!0,o,i,n,s)||this;return a.bufferService=n,a.optionsService=s,a._clearState(),a}return n(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,r){if(this._didStateChange(e,t,r,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,s=o(i,0),l=a(n,this._bufferService.rows-1);if(!(s>=this._bufferService.rows||0>l)){if(this._ctx.fillStyle=this._colors.selection.css,r){var c=e[0],h=t[0]-c;this._fillCells(c,s,h,l-s+1)}else{c=i===s?e[0]:0;var u=s===l?t[0]:this._bufferService.cols;this._fillCells(c,s,u-c,1);var g=o(l-s-1,0);if(this._fillCells(0,s+1,this._bufferService.cols,g),s!==l){var f=n===l?t[0]:this._bufferService.cols;this._fillCells(0,l,f,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=r,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,r,o){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||r!==this._state.columnSelectMode||o!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]},t}(r(12).BaseRenderLayer);t.SelectionRenderLayer=s},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(12),s=r(4),a=function(e){function t(t,r,o,i,n,a,l){var c=e.call(this,t,\"cursor\",r,!0,o,n,a,l)||this;return c._terminal=i,c.bufferService=a,c.optionsService=l,c._cell=new s.CellData,c._state={x:null,y:null,isFocused:null,style:null,width:null},c._cursorRenderers={bar:c._renderBarCursor.bind(c),block:c._renderBlockCursor.bind(c),underline:c._renderUnderlineCursor.bind(c)},c}return i(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:null,y:null,isFocused:null,style:null,width:null}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._terminal.refresh(this._bufferService.buffer.y,this._bufferService.buffer.y)},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._terminal.refresh(this._bufferService.buffer.y,this._bufferService.buffer.y)},t.prototype.onOptionsChanged=function(){var e=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(this._terminal.isFocused,(function(){e._render(!0)}))):this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),this._terminal.refresh(this._bufferService.buffer.y,this._bufferService.buffer.y)},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(){if(this._terminal.cursorState&&!this._terminal.cursorHidden){var e=this._bufferService.buffer.ybase+this._bufferService.buffer.y,t=e-this._bufferService.buffer.ydisp;if(0>t||t>=this._bufferService.rows)this._clearCursor();else if(this._bufferService.buffer.lines.get(e).loadCell(this._bufferService.buffer.x,this._cell),void 0!==this._cell.content){if(!this._terminal.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var r=this._optionsService.options.cursorStyle;return r&&\"block\"!==r?this._cursorRenderers[r](this._bufferService.buffer.x,t,this._cell):this._renderBlurCursor(this._bufferService.buffer.x,t,this._cell),this._ctx.restore(),this._state.x=this._bufferService.buffer.x,this._state.y=t,this._state.isFocused=!1,this._state.style=r,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===this._bufferService.buffer.x&&this._state.y===t&&this._state.isFocused===this._terminal.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||\"block\"](this._bufferService.buffer.x,t,this._cell),this._ctx.restore(),this._state.x=this._bufferService.buffer.x,this._state.y=t,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},t.prototype._renderBarCursor=function(e,t){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(r,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,r.getWidth(),1),this._ctx.restore()},t}(n.BaseRenderLayer);t.CursorRenderLayer=a;var l=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,\"isPaused\",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=null}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=null,0<e)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=null})),t._blinkInterval=setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=null,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=null}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.resume=function(){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(12),s=r(9),a=r(24),l=function(e){function t(t,r,o,i,n,s,a){var l=e.call(this,t,\"link\",r,!0,o,i,s,a)||this;return l.bufferService=s,l.optionsService=a,n.onLinkHover((function(e){return l._onLinkHover(e)})),n.onLinkLeave((function(e){return l._onLinkLeave(e)})),l}return i(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;0<e&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onLinkHover=function(e){if(this._ctx.fillStyle=e.fg===s.INVERTED_DEFAULT_COLOR?this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._colors.ansi[e.fg].css:this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(){this._clearCurrentLink()},t}(n.BaseRenderLayer);t.LinkRenderLayer=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(18),l=r(1),c=function(){function e(e,t){this._bufferService=e,this._logService=t,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onLinkHover=new l.EventEmitter,this._onLinkLeave=new l.EventEmitter,this._onLinkTooltip=new l.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,\"onLinkHover\",{get:function(){return this._onLinkHover.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onLinkLeave\",{get:function(){return this._onLinkLeave.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onLinkTooltip\",{get:function(){return this._onLinkTooltip.event},enumerable:!0,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r):(this._rowsToLinkify.start=a(this._rowsToLinkify.start,t),this._rowsToLinkify.end=o(this._rowsToLinkify.end,r)),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var r=e.ydisp+a(this._rowsToLinkify.end,this._bufferService.rows)+1,o=n(2e3/this._bufferService.cols),i=this._bufferService.buffer.iterator(!1,t,r,o,o);i.hasNext();)for(var s=i.next(),l=0;l<this._linkMatchers.length;l++)this._doLinkifyRow(s.range.first,s.content,this._linkMatchers[l]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug(\"_rowToLinkify was unset before _linkifyRows was called\")},e.prototype.registerLinkMatcher=function(e,t,r){if(void 0===r&&(r={}),!t)throw new Error(\"handler must be defined\");var o={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,willLinkActivate:r.willLinkActivate,priority:r.priority||0};return this._addLinkMatcherToList(o),o.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;0<=t;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,r){for(var o,i=this,n=new RegExp(r.regex.source,(r.regex.flags||\"\")+\"g\"),s=-1,a=function(){var a=o[\"number\"==typeof r.matchIndex?r.matchIndex:0];if(!a)return l._logService.debug(\"match found without corresponding matchIndex\",o,r),\"break\";if(s=t.indexOf(a,s+1),n.lastIndex=s+a.length,0>s)return\"break\";var c=l._bufferService.buffer.stringIndexToBufferIndex(e,s);if(0>c[0])return\"break\";var h=l._bufferService.buffer.lines.get(c[0]);if(!h)return\"break\";var u=h.getFg(c[1]),g=u?511&u>>9:void 0;r.validationCallback?r.validationCallback(a,(function(e){i._rowsTimeoutId||e&&i._addLink(c[1],c[0]-i._bufferService.buffer.ydisp,a,r,g)})):l._addLink(c[1],c[0]-l._bufferService.buffer.ydisp,a,r,g)},l=this;null!==(o=n.exec(t))&&\"break\"!==a(););},e.prototype._addLink=function(e,t,r,o,n){var a=this;if(this._mouseZoneManager&&this._element){var l=s.getStringCellWidth(r),c=e%this._bufferService.cols,u=t+i(e/this._bufferService.cols),g=(c+l)%this._bufferService.cols,f=u+i((c+l)/this._bufferService.cols);0===g&&(g=this._bufferService.cols,f--),this._mouseZoneManager.add(new h(c+1,u+1,g+1,f+1,(function(e){return o.handler?o.handler(e,r):void window.open(r,\"_blank\")}),(function(){a._onLinkHover.fire(a._createLinkHoverEvent(c,u,g,f,n)),a._element.classList.add(\"xterm-cursor-pointer\")}),(function(e){a._onLinkTooltip.fire(a._createLinkHoverEvent(c,u,g,f,n)),o.hoverTooltipCallback&&o.hoverTooltipCallback(e,r,{start:{x:c,y:u},end:{x:g,y:f}})}),(function(){a._onLinkLeave.fire(a._createLinkHoverEvent(c,u,g,f,n)),a._element.classList.remove(\"xterm-cursor-pointer\"),o.hoverLeaveCallback&&o.hoverLeaveCallback()}),(function(e){return!o.willLinkActivate||o.willLinkActivate(e,r)})))}},e.prototype._createLinkHoverEvent=function(e,t,r,o,i){return{x1:e,y1:t,x2:r,y2:o,cols:this._bufferService.cols,fg:i}},e._timeBeforeLatency=200,e}();t.Linkifier=c;var h=function(e,t,r,o,i,n,s,a,l){this.x1=e,this.y1=t,this.x2=r,this.y2=o,this.clickCallback=i,this.hoverCallback=n,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=l};t.MouseZone=h},function(e,t,i){\"use strict\";var l=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},c=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var h=i(10),u=i(50),g=i(4),f=i(1),p=i(5),d=i(0),_=i(28),y=i(51),m=/\u00a0/g,b=function(){function e(e,t,r,o,i,n,s,a){var l=this;this._scrollLines=e,this._element=t,this._screenElement=r,this._charSizeService=o,this._bufferService=i,this._coreService=n,this._mouseService=s,this._optionsService=a,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._onLinuxMouseSelection=new f.EventEmitter,this._onRedrawRequest=new f.EventEmitter,this._onSelectionChange=new f.EventEmitter,this._mouseMoveListener=function(e){return l._onMouseMove(e)},this._mouseUpListener=function(e){return l._onMouseUp(e)},this._coreService.onUserInput((function(){l.hasSelection&&l.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((function(e){return l._onTrim(e)})),this._bufferService.buffers.onBufferActivate((function(e){return l._onBufferActivate(e)})),this.enable(),this._model=new u.SelectionModel(this._bufferService),this._activeSelectionMode=0}return Object.defineProperty(e.prototype,\"onLinuxMouseSelection\",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onRedrawRequest\",{get:function(){return this._onRedrawRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onSelectionChange\",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._removeMouseDownListeners()},e.prototype.reset=function(){this.clearSelection()},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},Object.defineProperty(e.prototype,\"selectionStart\",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"selectionEnd\",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"hasSelection\",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return e&&t&&(e[0]!==t[0]||e[1]!==t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"selectionText\",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return\"\";var r=this._bufferService.buffer,o=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return\"\";for(var i,n=e[1];n<=t[1];n++)i=r.translateBufferLineToString(n,!0,e[0],t[0]),o.push(i)}else{var s=e[1]===t[1]?t[0]:void 0;for(o.push(r.translateBufferLineToString(e[1],!0,e[0],s)),n=e[1]+1;n<=t[1]-1;n++){var a=r.lines.get(n);i=r.translateBufferLineToString(n,!0),a&&a.isWrapped?o[o.length-1]+=i:o.push(i)}e[1]!==t[1]&&(a=r.lines.get(t[1]),i=r.translateBufferLineToString(t[1],!0,0,t[0]),a&&a.isWrapped?o[o.length-1]+=i:o.push(i))}return o.map((function(e){return e.replace(m,\" \")})).join(h.isWindows?\"\\r\\n\":\"\\n\")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},e.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),h.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},e.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},e.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,o=this._model.finalSelectionEnd;return!!(r&&o&&t)&&this._areCoordsInSelection(t,r,o)},e.prototype._areCoordsInSelection=function(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]},e.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},e.prototype.selectLines=function(e,t){this._model.clearSelection(),e=o(e,0),t=a(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},e.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},e.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},e.prototype._getMouseEventScrollAmount=function(e){var t=_.getCoordsRelativeToElement(e,this._screenElement)[1],i=this._bufferService.rows*n(this._charSizeService.height*this._optionsService.options.lineHeight);return 0<=t&&t<=i?0:(t>i&&(t-=i),t=a(o(t,-50),50),(t/=50)/r(t)+s(14*t))},e.prototype.shouldForceSelection=function(e){return h.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},e.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener(\"mousemove\",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener(\"mouseup\",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},e.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener(\"mousemove\",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener(\"mouseup\",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},e.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},e.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},e.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},e.prototype.shouldColumnSelect=function(e){return e.altKey&&!(h.isMac&&this._optionsService.options.macOptionClickForcesSelection)},e.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(0<this._dragScrollAmount?this._model.selectionEnd[0]=this._bufferService.cols:0>this._dragScrollAmount&&(this._model.selectionEnd[0]=0));var r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){var o=r.lines.get(this._model.selectionEnd[1]);o&&0===o.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},e.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._scrollLines(this._dragScrollAmount,!1);var e=this._bufferService.buffer;0<this._dragScrollAmount?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=a(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},e.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),1>=this.selectionText.length&&500>t){if(e.altKey&&this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&void 0!==r[0]&&void 0!==r[1]){var o=y.moveToCellSequence(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(o,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},e.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener&&this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},e.prototype._convertViewportColToCharacterIndex=function(e,t){for(var r,o=t[0],i=0;t[0]>=i;i++)r=e.loadCell(i,this._workCell).getChars().length,0===this._workCell.getWidth()?o--:1<r&&t[0]!==i&&(o+=r-1);return o},e.prototype.setSelection=function(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh()},e.prototype._getWordAt=function(e,t,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),!(e[0]>=this._bufferService.cols)){var i=this._bufferService.buffer,n=i.lines.get(e[1]);if(n){var s=i.translateBufferLineToString(e[1],!1),l=this._convertViewportColToCharacterIndex(n,e),c=l,h=e[0]-l,u=0,g=0,f=0,p=0;if(\" \"===s.charAt(l)){for(;0<l&&\" \"===s.charAt(l-1);)l--;for(;c<s.length&&\" \"===s.charAt(c+1);)c++}else{var d=e[0],_=e[0];0===n.getWidth(d)&&(u++,d--),2===n.getWidth(_)&&(g++,_++);var y=n.getString(_).length;for(1<y&&(p+=y-1,c+=y-1);0<d&&0<l&&!this._isCharWordSeparator(n.loadCell(d-1,this._workCell));){n.loadCell(d-1,this._workCell);var m=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,d--):1<m&&(f+=m-1,l-=m-1),l--,d--}for(;_<n.length&&c+1<s.length&&!this._isCharWordSeparator(n.loadCell(_+1,this._workCell));){n.loadCell(_+1,this._workCell);var b=this._workCell.getChars().length;2===this._workCell.getWidth()?(g++,_++):1<b&&(p+=b-1,c+=b-1),c++,_++}}c++;var S=l+h-u+f,v=a(this._bufferService.cols,c-l+u+g-f-p);if(t||\"\"!==s.slice(l,c).trim()){if(r&&0==S&&32!==n.getCodePoint(0)){var C=i.lines.get(e[1]-1);if(C&&n.isWrapped&&32!==C.getCodePoint(this._bufferService.cols-1)){var A=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(A){var w=this._bufferService.cols-A.start;S-=w,v+=w}}}if(o&&S+v===this._bufferService.cols&&32!==n.getCodePoint(this._bufferService.cols-1)){var T=i.lines.get(e[1]+1);if(T&&T.isWrapped&&32!==T.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(v+=E.length)}}return{start:S,length:v}}}}},e.prototype._selectWordAt=function(e,t){var r=this._getWordAt(e,t);if(r){for(;0>r.start;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}},e.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var r=e[1];0>t.start;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}},e.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&0<=this._optionsService.options.wordSeparator.indexOf(e.getChars())},e.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},l([c(3,p.ICharSizeService),c(4,d.IBufferService),c(5,d.ICoreService),c(6,p.IMouseService),c(7,d.IOptionsService)],e)}();t.SelectionService=b},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,\"finalSelectionStart\",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"finalSelectionEnd\",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+i(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[o(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return e&&t&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&0>this.selectionEnd[1]?(this.clearSelection(),!0):(this.selectionStart&&0>this.selectionStart[1]&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=r},function(e,t,o){\"use strict\";function n(e,t,o,i){var n=e-s(o,e),a=t-s(o,t);return u(r(n-a)-function(e,t,o){for(var i=0,n=e-s(o,e),a=t-s(o,t),c=0;c<r(n-a);c++){var h=\"A\"===l(e,t)?-1:1,u=o.buffer.lines.get(n+h*c);u&&u.isWrapped&&i++}return i}(e,t,o),h(l(e,t),i))}function s(e,t){for(var r=0,o=e.buffer.lines.get(t),i=o&&o.isWrapped;i&&0<=t&&t<e.rows;)r++,i=(o=e.buffer.lines.get(--t))&&o.isWrapped;return r}function a(e,t,r,o,i,a){var l;return l=0<n(r,o,i,a).length?o-s(i,o):t,e<r&&l<=o||e>=r&&l<o?\"C\":\"D\"}function l(e,t){return e>t?\"A\":\"B\"}function c(e,t,r,o,i,n){for(var s=e,a=t,l=\"\";s!==r||a!==o;)s+=i?1:-1,i&&s>n.cols-1?(l+=n.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!i&&0>s&&(l+=n.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=n.cols-1,a--);return l+n.buffer.translateBufferLineToString(a,!1,e,s)}function h(e,t){var r=t?\"O\":\"[\";return g.C0.ESC+r+e}function u(e,t){e=i(e);for(var r=\"\",o=0;o<e;o++)r+=t;return r}Object.defineProperty(t,\"__esModule\",{value:!0});var g=o(11);t.moveToCellSequence=function(e,t,o,i){var l=o.buffer.x,g=o.buffer.y;return o.buffer.hasScrollback?function(e,t,o,i,n,s){var l=a(e,t,o,i,n,s);return u(r(e-o),h(l,s))}(l,g,e,t,o,i):function(e,t,r,o,i,a){return 0===n(t,o,i,a).length?\"\":u(c(e,t,e,t-s(i,t),!1,i).length,h(\"D\",a))}(l,g,0,t,o,i)+n(g,t,o,i)+function(e,t,r,o,i,l){var g=0<n(t,o,i,l).length?o-s(i,o):t,f=a(e,t,r,o,i,l);return u(c(e,g,r,o,\"C\"===f,i).length,h(f,l))}(l,g,e,t,o,i)}},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,\"audioContext\",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn(\"Web Audio API is not supported by this browser. Consider upgrading to the latest version\"),null;e._audioContext=new t}return e._audioContext},enumerable:!0,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var r=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){r.buffer=e,r.connect(t.destination),r.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),r=t.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=t.charCodeAt(i);return o.buffer},e.prototype._removeMimeType=function(e){return e.split(\",\")[1]},e=o([i(0,n.IOptionsService)],e)}();t.SoundService=s},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(2),l=r(7),c=r(5),h=r(0),u=function(e){function t(t,r,o,i,n){var s=e.call(this)||this;return s._element=t,s._screenElement=r,s._bufferService=o,s._mouseService=i,s._selectionService=n,s._zones=[],s._areZonesActive=!1,s._lastHoverCoords=[void 0,void 0],s._initialSelectionLength=0,s.register(l.addDisposableDomListener(s._element,\"mousedown\",(function(e){return s._onMouseDown(e)}))),s._mouseMoveListener=function(e){return s._onMouseMove(e)},s._mouseLeaveListener=function(e){return s._onMouseLeave(e)},s._clickListener=function(e){return s._onClick(e)},s}return i(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var r,o=0;o<this._zones.length;o++)((r=this._zones[o]).y1>e&&r.y1<=t+1||r.y2>e&&r.y2<=t+1||r.y1<e&&r.y2>t+1)&&(this._currentZone&&this._currentZone===r&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(o--,1));0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener(\"mousemove\",this._mouseMoveListener),this._element.addEventListener(\"mouseleave\",this._mouseLeaveListener),this._element.addEventListener(\"click\",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener(\"mousemove\",this._mouseMoveListener),this._element.removeEventListener(\"mouseleave\",this._mouseLeaveListener),this._element.removeEventListener(\"click\",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,r=this._findZoneEventAt(e);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(e),this._tooltipTimeout=setTimeout((function(){return t._onTooltip(e)}),500)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);t&&t.willLinkActivate(e)&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),r=this._getSelectionLength();t&&r===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var r,o=t[0],i=t[1],n=0;n<this._zones.length;n++)if((r=this._zones[n]).y1===r.y2){if(i===r.y1&&o>=r.x1&&o<r.x2)return r}else if(i===r.y1&&o>=r.x1||i===r.y2&&o<r.x2||i>r.y1&&i<r.y2)return r},n([s(2,h.IBufferService),s(3,c.IMouseService),s(4,c.ISelectionService)],t)}(a.Disposable);t.MouseZoneManager=u},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(16),s=r(10),a=r(29),l=r(7),c=r(2),h=r(30),u=function(e){function t(t,r){var o=e.call(this)||this;o._terminal=t,o._renderService=r,o._liveRegionLineCount=0,o._charsToConsume=[],o._charsToAnnounce=\"\",o._accessibilityTreeRoot=document.createElement(\"div\"),o._accessibilityTreeRoot.classList.add(\"xterm-accessibility\"),o._rowContainer=document.createElement(\"div\"),o._rowContainer.classList.add(\"xterm-accessibility-tree\"),o._rowElements=[];for(var i=0;i<o._terminal.rows;i++)o._rowElements[i]=o._createAccessibilityTreeNode(),o._rowContainer.appendChild(o._rowElements[i]);return o._topBoundaryFocusListener=function(e){return o._onBoundaryFocus(e,0)},o._bottomBoundaryFocusListener=function(e){return o._onBoundaryFocus(e,1)},o._rowElements[0].addEventListener(\"focus\",o._topBoundaryFocusListener),o._rowElements[o._rowElements.length-1].addEventListener(\"focus\",o._bottomBoundaryFocusListener),o._refreshRowsDimensions(),o._accessibilityTreeRoot.appendChild(o._rowContainer),o._renderRowsDebouncer=new a.RenderDebouncer(o._renderRows.bind(o)),o._refreshRows(),o._liveRegion=document.createElement(\"div\"),o._liveRegion.classList.add(\"live-region\"),o._liveRegion.setAttribute(\"aria-live\",\"assertive\"),o._accessibilityTreeRoot.appendChild(o._liveRegion),o._terminal.element.insertAdjacentElement(\"afterbegin\",o._accessibilityTreeRoot),o.register(o._renderRowsDebouncer),o.register(o._terminal.onResize((function(e){return o._onResize(e.rows)}))),o.register(o._terminal.onRender((function(e){return o._refreshRows(e.start,e.end)}))),o.register(o._terminal.onScroll((function(){return o._refreshRows()}))),o.register(o._terminal.onA11yChar((function(e){return o._onChar(e)}))),o.register(o._terminal.onLineFeed((function(){return o._onChar(\"\\n\")}))),o.register(o._terminal.onA11yTab((function(e){return o._onTab(e)}))),o.register(o._terminal.onKey((function(e){return o._onKey(e.key)}))),o.register(o._terminal.onBlur((function(){return o._clearLiveRegion()}))),o.register(o._renderService.onDimensionsChange((function(){return o._refreshRowsDimensions()}))),o._screenDprMonitor=new h.ScreenDprMonitor,o.register(o._screenDprMonitor),o._screenDprMonitor.setListener((function(){return o._refreshRowsDimensions()})),o.register(l.addDisposableDomListener(window,\"resize\",(function(){return o._refreshRowsDimensions()}))),o}return i(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var r=e.target,o=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute(\"aria-posinset\")!==(0===t?\"1\":\"\"+this._terminal.buffer.lines.length)&&e.relatedTarget===o){var i,n;if(0===t?(i=r,n=this._rowElements.pop(),this._rowContainer.removeChild(n)):(i=this._rowElements.shift(),n=r,this._rowContainer.removeChild(i)),i.removeEventListener(\"focus\",this._topBoundaryFocusListener),n.removeEventListener(\"focus\",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement(\"afterbegin\",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener(\"focus\",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener(\"focus\",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener(\"focus\",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener(\"focus\",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement(\"div\");return e.setAttribute(\"role\",\"listitem\"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(\" \")},t.prototype._onChar=function(e){var t=this;21>this._liveRegionLineCount&&(0<this._charsToConsume.length?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,\"\\n\"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=n.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&0<this._liveRegion.textContent.length&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent=\"\",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var r=this._terminal.buffer,o=r.lines.length.toString(),i=e;i<=t;i++){var n=r.translateBufferLineToString(r.ydisp+i,!0),s=(r.ydisp+i+1).toString(),a=this._rowElements[i];a&&(0===n.length?a.innerHTML=\"&nbsp;\":a.textContent=n,a.setAttribute(\"aria-posinset\",s),a.setAttribute(\"aria-setsize\",o))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+\"px\"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce=\"\")},t}(c.Disposable);t.AccessibilityManager=u},function(e,t,r){\"use strict\";var l,c=this&&this.__extends||(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var h=r(56),u=r(9),g=r(2),f=\"xterm-dom-renderer-owner-\",p=\"xterm-rows\",d=\"xterm-selection\",_=1,y=function(e){function t(t,r,o,i){var n=e.call(this)||this;return n._terminal=t,n._colors=r,n._charSizeService=o,n._optionsService=i,n._terminalClass=_++,n._rowElements=[],n._rowContainer=document.createElement(\"div\"),n._rowContainer.classList.add(p),n._rowContainer.style.lineHeight=\"normal\",n._rowContainer.setAttribute(\"aria-hidden\",\"true\"),n._refreshRowElements(n._terminal.cols,n._terminal.rows),n._selectionContainer=document.createElement(\"div\"),n._selectionContainer.classList.add(d),n._selectionContainer.setAttribute(\"aria-hidden\",\"true\"),n.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},n._updateDimensions(),n._injectCss(),n._rowFactory=new h.DomRendererRowFactory(document,n._optionsService),n._terminal.element.classList.add(f+n._terminalClass),n._terminal.screenElement.appendChild(n._rowContainer),n._terminal.screenElement.appendChild(n._selectionContainer),n._terminal.linkifier.onLinkHover((function(e){return n._onLinkHover(e)})),n._terminal.linkifier.onLinkLeave((function(e){return n._onLinkLeave(e)})),n}return c(t,e),t.prototype.dispose=function(){this._terminal.element.classList.remove(f+this._terminalClass),this._terminal.screenElement.removeChild(this._rowContainer),this._terminal.screenElement.removeChild(this._selectionContainer),this._terminal.screenElement.removeChild(this._themeStyleElement),this._terminal.screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=n(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+s(this._terminal.options.letterSpacing),this.dimensions.scaledCellHeight=i(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._terminal.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._terminal.rows,this.dimensions.canvasWidth=s(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=s(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this._rowElements.forEach((function(t){t.style.width=e.dimensions.canvasWidth+\"px\",t.style.height=e.dimensions.actualCellHeight+\"px\",t.style.lineHeight=e.dimensions.actualCellHeight+\"px\",t.style.overflow=\"hidden\"})),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement(\"style\"),this._terminal.screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+\" .\"+p+\" span { display: inline-block; height: 100%; vertical-align: top; width: \"+this.dimensions.actualCellWidth+\"px}\";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._terminal._viewportElement.style.height,this._terminal.screenElement.style.width=this.dimensions.canvasWidth+\"px\",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+\"px\"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement(\"style\"),this._terminal.screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+\" .\"+p+\" { color: \"+this._colors.foreground.css+\"; background-color: \"+this._colors.background.css+\"; font-family: \"+this._terminal.options.fontFamily+\"; font-size: \"+this._terminal.options.fontSize+\"px;}\";t+=this._terminalSelector+\" span:not(.\"+h.BOLD_CLASS+\") { font-weight: \"+this._terminal.options.fontWeight+\";}\"+this._terminalSelector+\" span.\"+h.BOLD_CLASS+\" { font-weight: \"+this._terminal.options.fontWeightBold+\";}\"+this._terminalSelector+\" span.\"+h.ITALIC_CLASS+\" { font-style: italic;}\",t+=\"@keyframes blink_box_shadow { 50% {  box-shadow: none; }}\",t+=\"@keyframes blink_block { 0% {  background-color: \"+this._colors.cursor.css+\";  color: \"+this._colors.cursorAccent.css+\"; } 50% {  background-color: \"+this._colors.cursorAccent.css+\";  color: \"+this._colors.cursor.css+\"; }}\",t+=this._terminalSelector+\" .\"+p+\":not(.xterm-focus) .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_STYLE_BLOCK_CLASS+\" { outline: 1px solid \"+this._colors.cursor.css+\"; outline-offset: -1px;}\"+this._terminalSelector+\" .\"+p+\".xterm-focus .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_BLINK_CLASS+\":not(.\"+h.CURSOR_STYLE_BLOCK_CLASS+\") { animation: blink_box_shadow 1s step-end infinite;}\"+this._terminalSelector+\" .\"+p+\".xterm-focus .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_BLINK_CLASS+\".\"+h.CURSOR_STYLE_BLOCK_CLASS+\" { animation: blink_block 1s step-end infinite;}\"+this._terminalSelector+\" .\"+p+\".xterm-focus .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_STYLE_BLOCK_CLASS+\" { background-color: \"+this._colors.cursor.css+\"; color: \"+this._colors.cursorAccent.css+\";}\"+this._terminalSelector+\" .\"+p+\" .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_STYLE_BAR_CLASS+\" { box-shadow: 1px 0 0 \"+this._colors.cursor.css+\" inset;}\"+this._terminalSelector+\" .\"+p+\" .\"+h.CURSOR_CLASS+\".\"+h.CURSOR_STYLE_UNDERLINE_CLASS+\" { box-shadow: 0 -1px 0 \"+this._colors.cursor.css+\" inset;}\",t+=this._terminalSelector+\" .\"+d+\" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}\"+this._terminalSelector+\" .\"+d+\" div { position: absolute; background-color: \"+this._colors.selection.css+\";}\",this._colors.ansi.forEach((function(r,o){t+=e._terminalSelector+\" .xterm-fg-\"+o+\" { color: \"+r.css+\"; }\"+e._terminalSelector+\" .xterm-bg-\"+o+\" { background-color: \"+r.css+\"; }\"})),t+=this._terminalSelector+\" .xterm-fg-\"+u.INVERTED_DEFAULT_COLOR+\" { color: \"+this._colors.background.css+\"; }\"+this._terminalSelector+\" .xterm-bg-\"+u.INVERTED_DEFAULT_COLOR+\" { background-color: \"+this._colors.foreground.css+\"; }\",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var r,o=this._rowElements.length;o<=t;o++)r=document.createElement(\"div\"),this._rowContainer.appendChild(r),this._rowElements.push(r);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove(\"xterm-focus\")},t.prototype.onFocus=function(){this._rowContainer.classList.add(\"xterm-focus\")},t.prototype.onSelectionChanged=function(e,t,r){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var i=e[1]-this._terminal.buffer.ydisp,n=t[1]-this._terminal.buffer.ydisp,s=o(i,0),l=a(n,this._terminal.rows-1);if(!(s>=this._terminal.rows||0>l)){var c=document.createDocumentFragment();if(r)c.appendChild(this._createSelectionElement(s,e[0],t[0],l-s+1));else{var h=i===s?e[0]:0,u=s===l?t[0]:this._terminal.cols;if(c.appendChild(this._createSelectionElement(s,h,u)),c.appendChild(this._createSelectionElement(s+1,0,this._terminal.cols,l-s-1)),s!==l){var g=n===l?t[0]:this._terminal.cols;c.appendChild(this._createSelectionElement(l,0,g))}}this._selectionContainer.appendChild(c)}}},t.prototype._createSelectionElement=function(e,t,r,o){void 0===o&&(o=1);var i=document.createElement(\"div\");return i.style.height=o*this.dimensions.actualCellHeight+\"px\",i.style.top=e*this.dimensions.actualCellHeight+\"px\",i.style.left=t*this.dimensions.actualCellWidth+\"px\",i.style.width=this.dimensions.actualCellWidth*(r-t)+\"px\",i},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss(),this._terminal.refresh(0,this._terminal.rows-1)},t.prototype.clear=function(){this._rowElements.forEach((function(e){return e.innerHTML=\"\"}))},t.prototype.renderRows=function(e,t){for(var r,o=this._terminal,i=o.buffer.ybase+o.buffer.y,n=this._terminal.buffer.x,s=this._terminal.options.cursorBlink,a=e;a<=t;a++){(r=this._rowElements[a]).innerHTML=\"\";var l=a+o.buffer.ydisp,c=o.buffer.lines.get(l),h=o.options.cursorStyle;r.appendChild(this._rowFactory.createRow(c,l===i,h,n,s,this.dimensions.actualCellWidth,o.cols))}},Object.defineProperty(t.prototype,\"_terminalSelector\",{get:function(){return\".\"+f+this._terminalClass},enumerable:!0,configurable:!0}),t.prototype.registerCharacterJoiner=function(){return-1},t.prototype.deregisterCharacterJoiner=function(){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,r,o,i,n){for(;e!==t||r!==o;){var s=this._rowElements[r];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=n?\"underline\":\"none\"),++e>=i&&(e=0,r++)}},t}(g.Disposable);t.DomRenderer=y},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(9),i=r(6),n=r(3),s=r(4);t.BOLD_CLASS=\"xterm-bold\",t.DIM_CLASS=\"xterm-dim\",t.ITALIC_CLASS=\"xterm-italic\",t.UNDERLINE_CLASS=\"xterm-underline\",t.CURSOR_CLASS=\"xterm-cursor\",t.CURSOR_BLINK_CLASS=\"xterm-cursor-blink\",t.CURSOR_STYLE_BLOCK_CLASS=\"xterm-cursor-block\",t.CURSOR_STYLE_BAR_CLASS=\"xterm-cursor-bar\",t.CURSOR_STYLE_UNDERLINE_CLASS=\"xterm-cursor-underline\";var l=function(){function e(e,t){this._document=e,this._optionsService=t,this._workCell=new s.CellData}return e.prototype.createRow=function(e,r,s,l,c,h,u){for(var g=this._document.createDocumentFragment(),f=0,p=a(e.length,u)-1;0<=p;p--)if(e.loadCell(p,this._workCell).getCode()!==n.NULL_CELL_CODE||r&&p===l){f=p+1;break}for(p=0;p<f;p++){e.loadCell(p,this._workCell);var d=this._workCell.getWidth();if(0!==d){var _=this._document.createElement(\"span\");if(1<d&&(_.style.width=h*d+\"px\"),r&&p===l)switch(_.classList.add(t.CURSOR_CLASS),c&&_.classList.add(t.CURSOR_BLINK_CLASS),s){case\"bar\":_.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case\"underline\":_.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:_.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&_.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&_.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&_.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&_.classList.add(t.UNDERLINE_CLASS),_.textContent=this._workCell.getChars()||n.WHITESPACE_CELL_CHAR;var y=this._workCell.isInverse();if(this._workCell.isFgRGB()){var m=_.getAttribute(\"style\")||\"\";m+=(y?\"background-\":\"\")+\"color:rgb(\"+i.AttributeData.toColorRGB(this._workCell.getFgColor()).join(\",\")+\");\",_.setAttribute(\"style\",m)}else if(this._workCell.isFgPalette()){var b=this._workCell.getFgColor();this._workCell.isBold()&&8>b&&!y&&this._optionsService.options.drawBoldTextInBrightColors&&(b+=8),_.classList.add(\"xterm-\"+(y?\"b\":\"f\")+\"g-\"+b)}else y&&_.classList.add(\"xterm-bg-\"+o.INVERTED_DEFAULT_COLOR);this._workCell.isBgRGB()?(m=_.getAttribute(\"style\")||\"\",m+=(y?\"\":\"background-\")+\"color:rgb(\"+i.AttributeData.toColorRGB(this._workCell.getBgColor()).join(\",\")+\");\",_.setAttribute(\"style\",m)):this._workCell.isBgPalette()?_.classList.add(\"xterm-\"+(y?\"f\":\"b\")+\"g-\"+this._workCell.getBgColor()):y&&_.classList.add(\"xterm-fg-\"+o.INVERTED_DEFAULT_COLOR),g.appendChild(_)}}return g},e}();t.DomRendererRowFactory=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(11),i={48:[\"0\",\")\"],49:[\"1\",\"!\"],50:[\"2\",\"@\"],51:[\"3\",\"#\"],52:[\"4\",\"$\"],53:[\"5\",\"%\"],54:[\"6\",\"^\"],55:[\"7\",\"&\"],56:[\"8\",\"*\"],57:[\"9\",\"(\"],186:[\";\",\":\"],187:[\"=\",\"+\"],188:[\",\",\"<\"],189:[\"-\",\"_\"],190:[\".\",\">\"],191:[\"/\",\"?\"],192:[\"`\",\"~\"],219:[\"[\",\"{\"],220:[\"\\\\\",\"|\"],221:[\"]\",\"}\"],222:[\"'\",'\"']};t.evaluateKeyboardEvent=function(e,t,r,n){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:\"UIKeyInputUpArrow\"===e.key?s.key=t?o.C0.ESC+\"OA\":o.C0.ESC+\"[A\":\"UIKeyInputLeftArrow\"===e.key?s.key=t?o.C0.ESC+\"OD\":o.C0.ESC+\"[D\":\"UIKeyInputRightArrow\"===e.key?s.key=t?o.C0.ESC+\"OC\":o.C0.ESC+\"[C\":\"UIKeyInputDownArrow\"===e.key&&(s.key=t?o.C0.ESC+\"OB\":o.C0.ESC+\"[B\");break;case 8:if(e.shiftKey){s.key=o.C0.BS;break}if(e.altKey){s.key=o.C0.ESC+o.C0.DEL;break}s.key=o.C0.DEL;break;case 9:if(e.shiftKey){s.key=o.C0.ESC+\"[Z\";break}s.key=o.C0.HT,s.cancel=!0;break;case 13:s.key=o.C0.CR,s.cancel=!0;break;case 27:s.key=o.C0.ESC,s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=o.C0.ESC+\"[1;\"+(a+1)+\"D\",s.key===o.C0.ESC+\"[1;3D\"&&(s.key=o.C0.ESC+(r?\"b\":\"[1;5D\"))):s.key=t?o.C0.ESC+\"OD\":o.C0.ESC+\"[D\";break;case 39:if(e.metaKey)break;a?(s.key=o.C0.ESC+\"[1;\"+(a+1)+\"C\",s.key===o.C0.ESC+\"[1;3C\"&&(s.key=o.C0.ESC+(r?\"f\":\"[1;5C\"))):s.key=t?o.C0.ESC+\"OC\":o.C0.ESC+\"[C\";break;case 38:if(e.metaKey)break;a?(s.key=o.C0.ESC+\"[1;\"+(a+1)+\"A\",r||s.key!==o.C0.ESC+\"[1;3A\"||(s.key=o.C0.ESC+\"[1;5A\")):s.key=t?o.C0.ESC+\"OA\":o.C0.ESC+\"[A\";break;case 40:if(e.metaKey)break;a?(s.key=o.C0.ESC+\"[1;\"+(a+1)+\"B\",r||s.key!==o.C0.ESC+\"[1;3B\"||(s.key=o.C0.ESC+\"[1;5B\")):s.key=t?o.C0.ESC+\"OB\":o.C0.ESC+\"[B\";break;case 45:e.shiftKey||e.ctrlKey||(s.key=o.C0.ESC+\"[2~\");break;case 46:s.key=a?o.C0.ESC+\"[3;\"+(a+1)+\"~\":o.C0.ESC+\"[3~\";break;case 36:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"H\":t?o.C0.ESC+\"OH\":o.C0.ESC+\"[H\";break;case 35:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"F\":t?o.C0.ESC+\"OF\":o.C0.ESC+\"[F\";break;case 33:e.shiftKey?s.type=2:s.key=o.C0.ESC+\"[5~\";break;case 34:e.shiftKey?s.type=3:s.key=o.C0.ESC+\"[6~\";break;case 112:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"P\":o.C0.ESC+\"OP\";break;case 113:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"Q\":o.C0.ESC+\"OQ\";break;case 114:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"R\":o.C0.ESC+\"OR\";break;case 115:s.key=a?o.C0.ESC+\"[1;\"+(a+1)+\"S\":o.C0.ESC+\"OS\";break;case 116:s.key=a?o.C0.ESC+\"[15;\"+(a+1)+\"~\":o.C0.ESC+\"[15~\";break;case 117:s.key=a?o.C0.ESC+\"[17;\"+(a+1)+\"~\":o.C0.ESC+\"[17~\";break;case 118:s.key=a?o.C0.ESC+\"[18;\"+(a+1)+\"~\":o.C0.ESC+\"[18~\";break;case 119:s.key=a?o.C0.ESC+\"[19;\"+(a+1)+\"~\":o.C0.ESC+\"[19~\";break;case 120:s.key=a?o.C0.ESC+\"[20;\"+(a+1)+\"~\":o.C0.ESC+\"[20~\";break;case 121:s.key=a?o.C0.ESC+\"[21;\"+(a+1)+\"~\":o.C0.ESC+\"[21~\";break;case 122:s.key=a?o.C0.ESC+\"[23;\"+(a+1)+\"~\":o.C0.ESC+\"[23~\";break;case 123:s.key=a?o.C0.ESC+\"[24;\"+(a+1)+\"~\":o.C0.ESC+\"[24~\";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!n||!e.altKey||e.metaKey)r&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(s.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&48<=e.keyCode&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&\"_\"===e.key&&(s.key=o.C0.US);else{var c=i[e.keyCode],h=c&&c[e.shiftKey?1:0];if(h)s.key=o.C0.ESC+h;else if(65<=e.keyCode&&90>=e.keyCode){var u=e.ctrlKey?e.keyCode-64:e.keyCode+32;s.key=o.C0.ESC+l(u)}}else 65<=e.keyCode&&90>=e.keyCode?s.key=l(e.keyCode-64):32===e.keyCode?s.key=o.C0.NUL:51<=e.keyCode&&55>=e.keyCode?s.key=l(e.keyCode-51+27):56===e.keyCode?s.key=o.C0.DEL:219===e.keyCode?s.key=o.C0.ESC:220===e.keyCode?s.key=o.C0.FS:221===e.keyCode&&(s.key=o.C0.GS)}return s}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(3);t.applyWindowsMode=function(e){return e.onLineFeed((function(){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1).get(e.cols-1);e.buffer.lines.get(e.buffer.ybase+e.buffer.y).isWrapped=t[o.CHAR_DATA_CODE_INDEX]!==o.NULL_CELL_CODE&&t[o.CHAR_DATA_CODE_INDEX]!==o.WHITESPACE_CELL_CODE}))}},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(29),l=r(1),c=r(2),h=r(30),u=r(7),g=r(0),f=r(5),p=function(e){function t(t,r,o,i,n){var s=e.call(this)||this;if(s._renderer=t,s._rowCount=r,s.screenElement=o,s.optionsService=i,s.charSizeService=n,s._isPaused=!1,s._needsFullRefresh=!1,s._canvasWidth=0,s._canvasHeight=0,s._onDimensionsChange=new l.EventEmitter,s._onRender=new l.EventEmitter,s._onRefreshRequest=new l.EventEmitter,s._renderDebouncer=new a.RenderDebouncer((function(e,t){return s._renderRows(e,t)})),s.register(s._renderDebouncer),s._screenDprMonitor=new h.ScreenDprMonitor,s._screenDprMonitor.setListener((function(){return s.onDevicePixelRatioChange()})),s.register(s._screenDprMonitor),s.register(i.onOptionChange((function(){return s._renderer.onOptionsChanged()}))),s.register(n.onCharSizeChange((function(){return s.onCharSizeChanged()}))),s.register(u.addDisposableDomListener(window,\"resize\",(function(){return s.onDevicePixelRatioChange()}))),\"IntersectionObserver\"in window){var c=new IntersectionObserver((function(e){return s._onIntersectionChange(e[e.length-1])}),{threshold:0});c.observe(o),s.register({dispose:function(){return c.disconnect()}})}return s}return i(t,e),Object.defineProperty(t.prototype,\"onDimensionsChange\",{get:function(){return this._onDimensionsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onRender\",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onRefreshRequest\",{get:function(){return this._onRefreshRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dimensions\",{get:function(){return this._renderer.dimensions},enumerable:!0,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(e,t,this._rowCount)},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._onRender.fire({start:e,end:t})},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){this._renderer.dispose()},t.prototype.setRenderer=function(e){this._renderer.dispose(),this._renderer=e,this.refreshRows(0,this._rowCount-1)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,r){this._renderer.onSelectionChanged(e,t,r)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},n([s(3,g.IOptionsService),s(4,f.ICharSizeService)],t)}(c.Disposable);t.RenderService=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),i=r(10),n=r(31);t.DEFAULT_BELL_SOUND=\"data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq\",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:\"block\",bellSound:t.DEFAULT_BELL_SOUND,bellStyle:\"none\",drawBoldTextInBrightColors:!0,fastScrollModifier:\"alt\",fastScrollSensitivity:5,fontFamily:\"courier-new, courier, monospace\",fontSize:15,fontWeight:\"normal\",fontWeightBold:\"bold\",lineHeight:1,letterSpacing:0,logLevel:\"info\",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,disableStdin:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:i.isMac,rendererType:\"canvas\",windowsMode:!1,convertEol:!1,termName:\"xterm\",screenKeys:!1,cancelEvents:!1,useFlowControl:!1,wordSeparator:\" ()[]{}',:;\\\"\"});var s=[\"cols\",\"rows\"],l=function(){function e(e){var r=this;this._onOptionChange=new o.EventEmitter,this.options=n.clone(t.DEFAULT_OPTIONS),Object.keys(e).forEach((function(t){if(t in r.options){var o=e[t];r.options[t]=o}}))}return Object.defineProperty(e.prototype,\"onOptionChange\",{get:function(){return this._onOptionChange.event},enumerable:!0,configurable:!0}),e.prototype.setOption=function(e,r){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key \"'+e+'\"');if(-1!==s.indexOf(e))throw new Error('Option \"'+e+'\" can only be set in the constructor');this.options[e]!==r&&(r=this._sanitizeAndValidateOption(e,r),this.options[e]!==r&&(this.options[e]=r,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,r){switch(e){case\"bellStyle\":case\"cursorStyle\":case\"fontWeight\":case\"fontWeightBold\":case\"rendererType\":case\"wordSeparator\":r||(r=t.DEFAULT_OPTIONS[e]);break;case\"lineHeight\":case\"tabStopWidth\":if(1>r)throw new Error(e+\" cannot be less than 1, value: \"+r);break;case\"scrollback\":if(0>(r=a(r,4294967295)))throw new Error(e+\" cannot be less than 0, value: \"+r);break;case\"fastScrollSensitivity\":case\"scrollSensitivity\":if(0>=r)throw new Error(e+\" cannot be less than or equal to 0, value: \"+r)}return r},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key \"'+e+'\"');return this.options[e]},e}();t.OptionsService=l},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(0),a=r(1),l=function(){function e(e,t,r){this.document=e,this.parentElement=t,this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=new a.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,\"hasValidSize\",{get:function(){return 0<this.width&&0<this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onCharSizeChange\",{get:function(){return this._onCharSizeChange.event},enumerable:!0,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},o([i(2,s.IOptionsService)],e)}();t.CharSizeService=l;var c=function(){function e(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement(\"span\"),this._measureElement.classList.add(\"xterm-char-measure-element\"),this._measureElement.textContent=\"W\",this._measureElement.setAttribute(\"aria-hidden\",\"true\"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+\"px\";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=n(e.height)),this._result},e}()},function(e,t,r){\"use strict\";var i=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(0),a=r(63);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var l=function(){function e(e){this._optionsService=e,this.cols=o(e.options.cols,t.MINIMUM_COLS),this.rows=o(e.options.rows,t.MINIMUM_ROWS),this.buffers=new a.BufferSet(e,this)}return Object.defineProperty(e.prototype,\"buffer\",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){this.cols=e,this.rows=t},e.prototype.reset=function(){this.buffers=new a.BufferSet(this._optionsService,this)},i([n(0,s.IOptionsService)],e)}();t.BufferService=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(64),i=r(1),n=function(){function e(e,t){this.optionsService=e,this.bufferService=t,this._onBufferActivate=new i.EventEmitter,this._normal=new o.Buffer(!0,e,t),this._normal.fillViewportRows(),this._alt=new o.Buffer(!1,e,t),this._activeBuffer=this._normal,this.setupTabStops()}return Object.defineProperty(e.prototype,\"onBufferActivate\",{get:function(){return this._onBufferActivate.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"alt\",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"active\",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"normal\",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},e.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},e.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},e.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},e}();t.BufferSet=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(65),n=r(15),s=r(4),l=r(3),c=r(66),h=r(67),u=r(17);t.MAX_BUFFER_SIZE=4294967295;var g=function(){function e(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=n.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=s.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]),this._whitespaceCell=s.CellData.fromCharData([0,l.WHITESPACE_CELL_CHAR,l.WHITESPACE_CELL_WIDTH,l.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg):(this._nullCell.fg=0,this._nullCell.bg=0),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new n.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,\"hasScrollback\",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isCursorInViewport\",{get:function(){var e=this.ybase+this.y-this.ydisp;return 0<=e&&e<this._rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.options.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=n.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var r=this.getNullCell(n.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),0<this.lines.length){if(this._cols<e)for(var s=0;s<this.lines.length;s++)this.lines.get(s).resize(e,r);var l=0;if(this._rows<t)for(var c=this._rows;c<t;c++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new n.BufferLine(e,r)):0<this.ybase&&this.lines.length<=this.ybase+this.y+l+1?(this.ybase--,l++,0<this.ydisp&&this.ydisp--):this.lines.push(new n.BufferLine(e,r)));else for(c=this._rows;c>t;c--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var h=this.lines.length-i;0<h&&(this.lines.trimStart(h),this.ybase=o(this.ybase-h,0),this.ydisp=o(this.ydisp-h,0),this.savedY=o(this.savedY-h,0)),this.lines.maxLength=i}this.x=a(this.x,e-1),this.y=a(this.y,t-1),l&&(this.y+=l),this.savedX=a(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(s=0;s<this.lines.length;s++)this.lines.get(s).resize(e,r);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,\"_isReflowEnabled\",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!0,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var r=c.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(n.DEFAULT_ATTR_DATA));if(0<r.length){var o=c.reflowLargerCreateNewLayout(this.lines,r);c.reflowLargerApplyNewLayout(this.lines,o.layout),this._reflowLargerAdjustViewport(e,t,o.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,r){for(var i=this.getNullCell(n.DEFAULT_ATTR_DATA),s=r;0<s--;)0===this.ybase?(0<this.y&&this.y--,this.lines.length<t&&this.lines.push(new n.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=o(this.savedY-r,0)},e.prototype._reflowSmaller=function(e,t){for(var r,i=this.getNullCell(n.DEFAULT_ATTR_DATA),s=[],l=0,h=this.lines.length-1;0<=h;h--)if((r=this.lines.get(h))&&(r.isWrapped||!(r.getTrimmedLength()<=e))){for(var u=[r];r.isWrapped&&0<h;)r=this.lines.get(--h),u.unshift(r);var g=this.ybase+this.y;if(!(g>=h&&g<h+u.length)){var f,p=u[u.length-1].getTrimmedLength(),d=c.reflowSmallerGetNewLineLengths(u,this._cols,e),_=d.length-u.length;f=0===this.ybase&&this.y!==this.lines.length-1?o(0,this.y-this.lines.maxLength+_):o(0,this.lines.length-this.lines.maxLength+_);for(var y,m=[],b=0;b<_;b++)y=this.getBlankLine(n.DEFAULT_ATTR_DATA,!0),m.push(y);0<m.length&&(s.push({start:h+u.length+l,newLines:m}),l+=m.length),u.push.apply(u,m);var S=d.length-1,v=d[S];0===v&&(v=d[--S]);for(var C,A=u.length-_-1,w=p;0<=A;)if(C=a(w,v),u[S].copyCellsFrom(u[A],w-C,v-C,C,!0),0==(v-=C)&&(v=d[--S]),0==(w-=C)){A--;var T=o(A,0);w=c.getWrappedLineTrimmedLength(u,T,this._cols)}for(b=0;b<u.length;b++)d[b]<e&&u[b].setCell(d[b],i);for(var E=_-f;0<E--;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<a(this.lines.maxLength,this.lines.length+l)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=a(this.savedY+_,this.ybase+t-1)}}if(0<s.length){var R=[],O=[];for(b=0;b<this.lines.length;b++)O.push(this.lines.get(b));var P=this.lines.length,I=P-1,L=0,D=s[L];this.lines.length=a(this.lines.maxLength,this.lines.length+l);var M=0;for(b=a(this.lines.maxLength-1,P+l-1);0<=b;b--)if(D&&D.start>I+M){for(var x=D.newLines.length-1;0<=x;x--)this.lines.set(b--,D.newLines[x]);b++,R.push({index:I+1,amount:D.newLines.length}),M+=D.newLines.length,D=s[++L]}else this.lines.set(b,O[I--]);var k=0;for(b=R.length-1;0<=b;b--)R[b].index+=k,this.lines.onInsertEmitter.fire(R[b]),k+=R[b].amount;var F=o(0,P+l-this.lines.maxLength);0<F&&this.lines.onTrimEmitter.fire(F)}},e.prototype.stringIndexToBufferIndex=function(e,t,r){for(void 0===r&&(r=!1);t;){var o=this.lines.get(e);if(!o)return[-1,-1];for(var i=r?o.getTrimmedLength():o.length,n=0;n<i;++n)if(o.get(n)[l.CHAR_DATA_WIDTH_INDEX]&&(t-=o.get(n)[l.CHAR_DATA_CHAR_INDEX].length||1),0>t)return[e,n];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,r,o){void 0===r&&(r=0);var i=this.lines.get(e);return i?i.translateToString(t,r,o):\"\"},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,r=e;0<t&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}},e.prototype.setupTabStops=function(e){for(null==e?(this.tabs={},e=0):this.tabs[e]||(e=this.prevStop(e));e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&0<e;);return e>=this._cols?this._cols-1:0>e?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:0>e?0:e},e.prototype.addMarker=function(e){var t=this,r=new h.Marker(e);return this.markers.push(r),r.register(this.lines.onTrim((function(e){r.line-=e,0>r.line&&r.dispose()}))),r.register(this.lines.onInsert((function(e){r.line>=e.index&&(r.line+=e.amount)}))),r.register(this.lines.onDelete((function(e){r.line>=e.index&&r.line<e.index+e.amount&&r.dispose(),r.line>e.index&&(r.line-=e.amount)}))),r.register(r.onDispose((function(){return t._removeMarker(r)}))),r},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,r,o,i){return new f(this,e,t,r,o,i)},e}();t.Buffer=g;var f=function(){function e(e,t,r,o,i,n){void 0===r&&(r=0),void 0===o&&(o=e.lines.length),void 0===i&&(i=0),void 0===n&&(n=0),this._buffer=e,this._trimRight=t,this._startIndex=r,this._endIndex=o,this._startOverscan=i,this._endOverscan=n,0>this._startIndex&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=o(e.first,0),e.last=a(e.last,this._buffer.lines.length);for(var t=\"\",r=e.first;r<=e.last;++r)t+=this._buffer.translateBufferLineToString(r,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),i=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new o.EventEmitter,this.onInsertEmitter=new o.EventEmitter,this.onTrimEmitter=new o.EventEmitter,this._array=Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,\"onDelete\",{get:function(){return this.onDeleteEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onInsert\",{get:function(){return this.onInsertEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onTrim\",{get:function(){return this.onTrimEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"maxLength\",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=Array(e),r=0;r<a(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"length\",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error(\"Can only recycle when the buffer is full\");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,\"isFull\",{get:function(){return this._length===this._maxLength},enumerable:!0,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t){for(var i=e;i<this._length-t;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+t)];this._length-=t}for(i=this._length-1;i>=e;i--)this._array[this._getCyclicIndex(i+r.length)]=this._array[this._getCyclicIndex(i)];for(i=0;i<r.length;i++)this._array[this._getCyclicIndex(e+i)]=r[i];if(this._length+r.length>this._maxLength){var n=this._length+r.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=r.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,r){if(!(0>=t)){if(0>e||e>=this._length)throw new Error(\"start argument out of range\");if(0>e+r)throw new Error(\"Cannot shift elements in list beyond index 0\");if(0<r){for(var o=t-1;0<=o;o--)this.set(e+o+r,this.get(e+o));var i=e+t+r-this._length;if(0<i)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(o=0;o<t;o++)this.set(e+o+r,this.get(e+o))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=i},function(e,t){\"use strict\";function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();var o=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),i=2===e[t+1].getWidth(0);return o&&i?r-1:r}Object.defineProperty(t,\"__esModule\",{value:!0}),t.reflowLargerGetLinesToRemove=function(e,t,o,i,n){for(var s=[],l=0;l<e.length-1;l++){var c=l,h=e.get(++c);if(h.isWrapped){for(var u=[e.get(l)];c<e.length&&h.isWrapped;)u.push(h),h=e.get(++c);if(i>=l&&i<c)l+=u.length-1;else{for(var g=0,f=r(u,g,t),p=1,d=0;p<u.length;){var _=r(u,p,t),y=a(_-d,o-f);u[g].copyCellsFrom(u[p],d,f,y,!1),(f+=y)===o&&(g++,f=0),(d+=y)===_&&(p++,d=0),0===f&&0!=g&&2===u[g-1].getWidth(o-1)&&(u[g].copyCellsFrom(u[g-1],o-1,f++,1,!1),u[g-1].setCell(o-1,n))}u[g].replaceCells(f,o,n);for(var m=0,b=u.length-1;0<b&&(b>g||0===u[b].getTrimmedLength());b--)m++;0<m&&(s.push(l+u.length-m),s.push(m)),l+=u.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var r=[],o=0,i=t[o],n=0,s=0;s<e.length;s++)if(i===s){var a=t[++o];e.onDeleteEmitter.fire({index:s-n,amount:a}),s+=a-1,n+=a,i=t[++o]}else r.push(s);return{layout:r,countRemoved:n}},t.reflowLargerApplyNewLayout=function(e,t){for(var r=[],o=0;o<t.length;o++)r.push(e.get(t[o]));for(o=0;o<r.length;o++)e.set(o,r[o]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,o){for(var i=[],n=e.map((function(o,i){return r(e,i,t)})).reduce((function(e,t){return e+t})),s=0,a=0,l=0;l<n;){if(n-l<o){i.push(n-l);break}s+=o;var c=r(e,a,t);s>c&&(s-=c,a++);var h=2===e[a].getWidth(s-1);h&&s--;var u=h?o-1:o;i.push(u),l+=u}return i},t.getWrappedLineTrimmedLength=r},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1),s=function(e){function t(r){var o=e.call(this)||this;return o.line=r,o._id=t._nextId++,o.isDisposed=!1,o._onDispose=new n.EventEmitter,o}return i(t,e),Object.defineProperty(t.prototype,\"id\",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onDispose\",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(r(2).Disposable);t.Marker=s},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(5),s=r(28),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,r,o,i){return s.getCoords(e,t,r,o,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,i)},e.prototype.getRawByteCoords=function(e,t,r,o){var i=this.getCoords(e,t,r,o);return s.getRawByteCoords(i)},o([i(0,n.IRenderService),i(1,n.ICharSizeService)],e)}();t.MouseService=a},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),s=r(1),a=r(31),l=Object.freeze({applicationCursorKeys:!1}),c=function(){function e(e,t,r,o){this._scrollToBottom=e,this._bufferService=t,this._logService=r,this._optionsService=o,this._onData=new s.EventEmitter,this._onUserInput=new s.EventEmitter,this.decPrivateModes=a.clone(l)}return Object.defineProperty(e.prototype,\"onData\",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onUserInput\",{get:function(){return this._onUserInput.event},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.decPrivateModes=a.clone(l)},e.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var r=this._bufferService.buffer;r.ybase!==r.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data \"'+e+'\"',(function(){return e.split(\"\").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},o([i(1,n.IBufferService),i(2,n.ILogService),i(3,n.IOptionsService)],e)}();t.CoreService=c},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}},n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],s=0,a=n.length;s<a;s++,i++)o[i]=n[s];return o};Object.defineProperty(t,\"__esModule\",{value:!0});var s,a=r(0);!function(e){e[e.DEBUG=0]=\"DEBUG\",e[e.INFO=1]=\"INFO\",e[e.WARN=2]=\"WARN\",e[e.ERROR=3]=\"ERROR\",e[e.OFF=4]=\"OFF\"}(s=t.LogLevel||(t.LogLevel={}));var l={debug:s.DEBUG,info:s.INFO,warn:s.WARN,error:s.ERROR,off:s.OFF},c=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){\"logLevel\"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=l[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)\"function\"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,r){this._evalLazyOptionalParams(r),e.call.apply(e,n([console,\"xterm.js: \"+t],r))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._logLevel<=s.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._logLevel<=s.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._logLevel<=s.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._logLevel<=s.ERROR&&this._log(console.error,e,t)},o([i(0,a.IOptionsService)],e)}();t.LogService=c},function(e,t,r){\"use strict\";var o=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,\"start\",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"end\",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var r=e;e=t,t=r}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},o([i(0,n.IBufferService)],e)}();t.DirtyRowService=s},function(e,t,r){\"use strict\";var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],s=0,a=n.length;s<a;s++,i++)o[i]=n[s];return o};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(0),n=r(13),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var r=0,o=e;r<o.length;r++){var i=o[r],n=i[0],s=i[1];this.set(n,s)}}return e.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},e.prototype.forEach=function(e){this._entries.forEach((function(t,r){return e(r,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=s;var a=function(){function e(){this._services=new s,this._services.set(i.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.createInstance=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=n.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),s=[],a=0,l=i;a<l.length;a++){var c=l[a],h=this._services.get(c.id);if(!h)throw new Error(\"[createInstance] \"+e.name+\" depends on UNKNOWN service \"+c.id+\".\");s.push(h)}var u=0<i.length?i[0].index:t.length;if(t.length!==u)throw new Error(\"[createInstance] First service dependency of \"+e.name+\" at position \"+(u+1)+\" conflicts with \"+t.length+\" static arguments\");return new(e.bind.apply(e,o([void 0],o(t,s))))},e}();t.InstantiationService=a},function(e,t,r){\"use strict\";function o(e,t){var r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}var i=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=3>n?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(3>n?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(0),a=r(1),c={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(){return!0}}},h=l,u={DEFAULT:function(e){var t=[o(e,!1)+32,e.col+32,e.row+32];return t=t.map((function(e){return 127<e?127:e})),\"\x1b[M\"+h(t[0])+h(t[1])+h(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?\"m\":\"M\";return\"\x1b[<\"+o(e,!0)+\";\"+e.col+\";\"+e.row+t}},g=function(){function e(e,t){var r=this;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol=\"\",this._activeEncoding=\"\",this._onProtocolChange=new a.EventEmitter,this._lastEvent=null,Object.keys(c).forEach((function(e){return r.addProtocol(e,c[e])})),Object.keys(u).forEach((function(e){return r.addEncoding(e,u[e])})),this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,\"activeProtocol\",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol \"'+e+'\"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"activeEncoding\",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding \"'+e+'\"');this._activeEncoding=e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.activeProtocol=\"NONE\",this.activeEncoding=\"DEFAULT\",this._lastEvent=null},Object.defineProperty(e.prototype,\"onProtocolChange\",{get:function(){return this._onProtocolChange.event},enumerable:!0,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(0>e.col||e.col>=this._bufferService.cols||0>e.row||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return this._coreService.triggerDataEvent(t,!0),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{DOWN:!!(1&e),UP:!!(2&e),DRAG:!!(4&e),MOVE:!!(8&e),WHEEL:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([n(0,s.IBufferService),n(1,s.ICoreService)],e)}();t.CoreMouseService=g},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var r=this._writeBuffer[t],o=this._callbacks[t];this._action(r),o&&o()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var r=this;if(5e7<this._pendingData)throw new Error(\"write data discarded, use flow control to avoid losing data\");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return r._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var r=this._writeBuffer[this._bufferOffset],o=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(r),this._pendingData-=r.length,o&&o(),12<=Date.now()-t)break}this._writeBuffer.length>this._bufferOffset?(50<this._bufferOffset&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;0<=e;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var r=this,o={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(o),t.dispose=function(){return r._wrappedAddonDispose(o)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error(\"Could not dispose an addon that has not been loaded\");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=r}])},e.exports=t()},function(e){var t=Math.max,r=Math.floor,o=Math.round,i=Math.min,n=String.fromCharCode;!function(t,r){e.exports=r()}(window,(function(){return function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=11)}([function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR=\"\",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=\" \",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t){\"use strict\";function r(e,t,r){var i=o(e.createShader(t));return e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.error(e.getShaderInfoLog(i)),void e.deleteShader(i))}function o(e){if(!e)throw new Error(\"value must not be falsy\");return e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),t.createProgram=function(e,t,i){var n=o(e.createProgram());return e.attachShader(n,o(r(e,e.VERTEX_SHADER,t))),e.attachShader(n,o(r(e,e.FRAGMENT_SHADER,i))),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)?n:(console.error(e.getProgramInfoLog(n)),void e.deleteProgram(n))},t.createShader=r,t.expandFloat32Array=function(e,t){for(var r=i(2*e.length,t),o=new Float32Array(r),n=0;n<e.length;n++)o[n]=e[n];return o},t.throwIfFalsy=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(0),i={css:\"\",rgba:0};t.generateConfig=function(e,t,r,o){var n={foreground:o.foreground,background:o.background,cursor:i,cursorAccent:i,selection:i,ansi:o.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:r.getOption(\"fontFamily\"),fontSize:r.getOption(\"fontSize\"),fontWeight:r.getOption(\"fontWeight\"),fontWeightBold:r.getOption(\"fontWeightBold\"),allowTransparency:r.getOption(\"allowTransparency\"),colors:n}},t.configEquals=function(e,t){for(var r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<o.DEFAULT_COLOR}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t){\"use strict\";function r(e,t,r,o){if(void 0===r&&(r=0),void 0===o&&(o=e.length),r>=e.length)return e;r=(e.length+r)%e.length,o=o>=e.length?e.length:(e.length+o)%e.length;for(var i=r;i<o;++i)e[i]=t;return e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.fill=function(e,t,o,i){return e.fill?e.fill(t,o,i):r(e,t,o,i)},t.fillFallback=r,t.concat=function(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}},function(e,n,s){\"use strict\";var a,l=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(n,\"__esModule\",{value:!0});var c=s(12),h=s(14),u=s(16),g=s(9),f=s(19),p=s(3),d=s(6),_=s(20),y=s(0),m=s(7),b=s(21);n.INDICIES_PER_CELL=4;var S=function(e){function s(t,r,o){var i=e.call(this)||this;if(i._terminal=t,i._colors=r,i._model=new d.RenderModel,i._core=i._terminal._core,i._applyBgLuminanceBasedSelection(),i._renderLayers=[new h.LinkRenderLayer(i._core.screenElement,2,i._colors,i._core),new u.CursorRenderLayer(i._core.screenElement,3,i._colors)],i.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},i._devicePixelRatio=window.devicePixelRatio,i._updateDimensions(),i._canvas=document.createElement(\"canvas\"),i._gl=i._canvas.getContext(\"webgl2\",{antialias:!1,depth:!1,preserveDrawingBuffer:o}),!i._gl)throw new Error(\"WebGL2 not supported\");return i._core.screenElement.appendChild(i._canvas),i._rectangleRenderer=new f.RectangleRenderer(i._terminal,i._colors,i._gl,i.dimensions),i._glyphRenderer=new c.GlyphRenderer(i._terminal,i._colors,i._gl,i.dimensions),i.onCharSizeChanged(),i}return l(s,e),s.prototype.dispose=function(){this._renderLayers.forEach((function(e){return e.dispose()})),this._core.screenElement.removeChild(this._canvas),e.prototype.dispose.call(this)},s.prototype._applyBgLuminanceBasedSelection=function(){this._colors.selection=.5<m.getLuminance(this._colors.background)?{css:\"#000\",rgba:255}:{css:\"#fff\",rgba:4294967295}},s.prototype.setColors=function(e){var t=this;this._colors=e,this._applyBgLuminanceBasedSelection(),this._renderLayers.forEach((function(e){e.setColors(t._terminal,t._colors),e.reset(t._terminal)})),this._rectangleRenderer.setColors(),this._glyphRenderer.setColors(),this._refreshCharAtlas(),this._model.clear()},s.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._terminal.cols,this._terminal.rows))},s.prototype.onResize=function(){var e=this;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows),this._rectangleRenderer.onResize(),this._renderLayers.forEach((function(t){return t.resize(e._terminal,e.dimensions)})),this._canvas.width=this.dimensions.scaledCanvasWidth,this._canvas.height=this.dimensions.scaledCanvasHeight,this._canvas.style.width=this.dimensions.canvasWidth+\"px\",this._canvas.style.height=this.dimensions.canvasHeight+\"px\",this._core.screenElement.style.width=this.dimensions.canvasWidth+\"px\",this._core.screenElement.style.height=this.dimensions.canvasHeight+\"px\",this._glyphRenderer.setDimensions(this.dimensions),this._glyphRenderer.onResize(),this._refreshCharAtlas(),this._model.clear()},s.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},s.prototype.onBlur=function(){var e=this;this._renderLayers.forEach((function(t){return t.onBlur(e._terminal)}))},s.prototype.onFocus=function(){var e=this;this._renderLayers.forEach((function(t){return t.onFocus(e._terminal)}))},s.prototype.onSelectionChanged=function(e,t,r){var o=this;this._renderLayers.forEach((function(i){return i.onSelectionChanged(o._terminal,e,t,r)})),this._updateSelectionModel(e,t),this._rectangleRenderer.updateSelection(this._model.selection,r),this._glyphRenderer.updateSelection(this._model,r),this._core.refresh(0,this._terminal.rows-1)},s.prototype.onCursorMove=function(){var e=this;this._renderLayers.forEach((function(t){return t.onCursorMove(e._terminal)}))},s.prototype.onOptionsChanged=function(){var e=this;this._renderLayers.forEach((function(t){return t.onOptionsChanged(e._terminal)})),this._updateDimensions(),this._refreshCharAtlas()},s.prototype._refreshCharAtlas=function(){if(!(0>=this.dimensions.scaledCharWidth&&0>=this.dimensions.scaledCharHeight)){var e=g.acquireCharAtlas(this._terminal,this._colors,this.dimensions.scaledCharWidth,this.dimensions.scaledCharHeight);if(!(\"getRasterizedGlyph\"in e))throw new Error(\"The webgl renderer only works with the webgl char atlas\");this._charAtlas=e,this._charAtlas.warmUp(),this._glyphRenderer.setAtlas(this._charAtlas)}},s.prototype.clear=function(){var e=this;this._renderLayers.forEach((function(t){return t.reset(e._terminal)}))},s.prototype.registerCharacterJoiner=function(){return-1},s.prototype.deregisterCharacterJoiner=function(){return!1},s.prototype.renderRows=function(e,t){var r=this;this._renderLayers.forEach((function(o){return o.onGridChanged(r._terminal,e,t)})),this._glyphRenderer.beginFrame()&&this._model.clear(),this._updateModel(e,t),this._rectangleRenderer.render(),this._glyphRenderer.render(this._model,this._model.selection.hasSelection)},s.prototype._updateModel=function(e,t){for(var r=this._core,o=e;o<=t;o++){var i=o+r.buffer.ydisp,s=r.buffer.lines.get(i);this._model.lineLengths[o]=0;for(var a=0;a<r.cols;a++){var l=s.get(a),c=l[y.CHAR_DATA_CHAR_INDEX],h=l[y.CHAR_DATA_CODE_INDEX],u=b.getCompatAttr(s,a),g=(o*r.cols+a)*n.INDICIES_PER_CELL;if(h!==y.NULL_CELL_CODE&&(this._model.lineLengths[o]=a+1),this._model.cells[g]!==h||this._model.cells[g+1]!==u){var f=u>>18,_=511&u,m=511&u>>9;if(8&f){var S=_;_=m,(m=S)===y.DEFAULT_COLOR&&(m=p.INVERTED_DEFAULT_COLOR),_===y.DEFAULT_COLOR&&(_=p.INVERTED_DEFAULT_COLOR)}m+=r.options.drawBoldTextInBrightColors&&1&f&&8>m&&m!==p.INVERTED_DEFAULT_COLOR?8:0,1<c.length&&(h|=d.COMBINED_CHAR_BIT_MASK),this._model.cells[g]=h,this._model.cells[g+1]=u,this._model.cells[g+2]=_,this._model.cells[g+3]=m,this._glyphRenderer.updateCell(a,o,h,u,_,m,c)}}}this._rectangleRenderer.updateBackgrounds(this._model)},s.prototype._updateSelectionModel=function(e,r){var o=this._terminal;if(e&&r&&(e[0]!==r[0]||e[1]!==r[1])){var n=e[1]-o.buffer.viewportY,s=r[1]-o.buffer.viewportY,a=t(n,0),l=i(s,o.rows-1);a>=o.rows||0>l?this._model.clearSelection():(this._model.selection.hasSelection=!0,this._model.selection.viewportStartRow=n,this._model.selection.viewportEndRow=s,this._model.selection.viewportCappedStartRow=a,this._model.selection.viewportCappedEndRow=l,this._model.selection.startCol=e[0],this._model.selection.endCol=r[0])}else this._model.clearSelection()},s.prototype._updateDimensions=function(){this._core._charSizeService.width&&this._core._charSizeService.height&&(this.dimensions.scaledCharWidth=r(this._core._charSizeService.width*this._devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._core._charSizeService.height*this._devicePixelRatio),this.dimensions.scaledCellHeight=r(this.dimensions.scaledCharHeight*this._terminal.getOption(\"lineHeight\")),this.dimensions.scaledCharTop=1===this._terminal.getOption(\"lineHeight\")?0:o((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+o(this._terminal.getOption(\"letterSpacing\")),this.dimensions.scaledCharLeft=r(this._terminal.getOption(\"letterSpacing\")/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=o(this.dimensions.scaledCanvasHeight/this._devicePixelRatio),this.dimensions.canvasWidth=o(this.dimensions.scaledCanvasWidth/this._devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.scaledCellHeight/this._devicePixelRatio,this.dimensions.actualCellWidth=this.dimensions.scaledCellWidth/this._devicePixelRatio)},s}(_.Disposable);n.WebglRenderer=S},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(4);t.RENDER_MODEL_INDICIES_PER_CELL=4,t.COMBINED_CHAR_BIT_MASK=2147483648;var i=function(){function e(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection={hasSelection:!1,viewportStartRow:0,viewportEndRow:0,viewportCappedStartRow:0,viewportCappedEndRow:0,startCol:0,endCol:0}}return e.prototype.resize=function(e,r){var o=e*r*t.RENDER_MODEL_INDICIES_PER_CELL;o!==this.cells.length&&(this.cells=new Uint32Array(o),this.lineLengths=new Uint32Array(r))},e.prototype.clear=function(){o.fill(this.cells,0,0),o.fill(this.lineLengths,0,0),this.clearSelection()},e.prototype.clearSelection=function(){this.selection.hasSelection=!1,this.selection.viewportStartRow=0,this.selection.viewportEndRow=0,this.selection.viewportCappedStartRow=0,this.selection.viewportCappedEndRow=0,this.selection.startCol=0,this.selection.endCol=0},e}();t.RenderModel=i},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getLuminance=function(e){return(.299*(255&e.rgba>>24)+.587*(255&e.rgba>>16)+.114*(255&e.rgba>>8))/255}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(9),i=r(1),n=function(){function e(e,t,r,o,i){this._container=e,this._alpha=o,this._colors=i,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:\"\",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement(\"canvas\"),this._canvas.classList.add(\"xterm-\"+t+\"-layer\"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){this._container.removeChild(this._canvas),this._charAtlas&&this._charAtlas.dispose()},e.prototype._initCanvas=function(){this._ctx=i.throwIfFalsy(this._canvas.getContext(\"2d\",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(){},e.prototype.onSelectionChanged=function(e,t,r,o){void 0===o&&(o=!1)},e.prototype.setColors=function(e,t){this._refreshCharAtlas(e,t)},e.prototype._setTransparency=function(e,t){if(t!==this._alpha){var r=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,r),this._refreshCharAtlas(e,this._colors),this.onGridChanged(e,0,e.rows-1)}},e.prototype._refreshCharAtlas=function(e,t){0>=this._scaledCharWidth&&0>=this._scaledCharHeight||(this._charAtlas=o.acquireCharAtlas(e,t,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e,t){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+\"px\",this._canvas.style.height=t.canvasHeight+\"px\",this._alpha||this._clearAll(),this._refreshCharAtlas(e,this._colors)},e.prototype._fillCells=function(e,t,r,o){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,r){void 0===r&&(r=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,r,o){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,o*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,r,o){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,r,o){this._ctx.font=this._getFont(e,!1,!1),this._ctx.textBaseline=\"middle\",this._clipRow(e,o),this._ctx.fillText(t.getChars(),r*this._scaledCellWidth+this._scaledCharLeft,o*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._clipRow=function(e,t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,e.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t,r){return(r?\"italic\":\"\")+\" \"+(t?e.getOption(\"fontWeightBold\"):e.getOption(\"fontWeight\"))+\" \"+e.getOption(\"fontSize\")*window.devicePixelRatio+\"px \"+e.getOption(\"fontFamily\")},e}();t.BaseRenderLayer=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),i=r(15),n=[];t.acquireCharAtlas=function(e,t,r,s){for(var a,l=o.generateConfig(r,s,e,t),c=0;c<n.length;c++)if(0<=(a=(h=n[c]).ownedBy.indexOf(e))){if(o.configEquals(h.config,l))return h.atlas;1===h.ownedBy.length?(h.atlas.dispose(),n.splice(c,1)):h.ownedBy.splice(a,1);break}for(c=0;c<n.length;c++){var h=n[c];if(o.configEquals(h.config,l))return h.ownedBy.push(e),h.atlas}var u={atlas:new i.WebglCharAtlas(document,l),config:l,ownedBy:[e]};return n.push(u),u.atlas},t.removeTerminalFromCache=function(e){for(var t,r=0;r<n.length;r++)if(-1!==(t=n[r].ownedBy.indexOf(e))){1===n[r].ownedBy.length?(n[r].atlas.dispose(),n.splice(r,1)):n[r].ownedBy.splice(t,1);break}}},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(17),s=r(0),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.combinedData=\"\",t}return i(t,e),t.fromCharData=function(e){var r=new t;return r.setFromCharData(e),r},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?n.stringFromCodePoint(2097151&this.content):\"\"},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(2<e[s.CHAR_DATA_CHAR_INDEX].length)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var r=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&56319>=r){var o=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&57343>=o?this.content=1024*(r-55296)+o-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(r(18).AttributeData);t.CellData=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(5),i=function(){function e(e){this._preserveDrawingBuffer=e}return e.prototype.activate=function(e){if(!e.element)throw new Error(\"Cannot activate WebglRendererAddon before Terminal.open\");var t=e._core._renderService,r=e._core._colorManager.colors;t.setRenderer(new o.WebglRenderer(e,r,this._preserveDrawingBuffer))},e.prototype.dispose=function(){throw new Error(\"WebglRendererAddon.dispose Not yet implemented\")},e}();t.WebglAddon=i},function(e,r,o){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=o(1),n=o(5),s=o(6),a=o(4),l=o(13),c=o(0),h=o(7),u=10*Float32Array.BYTES_PER_ELEMENT,g=function(){function e(e,t,r,o){this._terminal=e,this._colors=t,this._gl=r,this._dimensions=o,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)],selectionAttributes:new Float32Array(0)};var n=this._gl,s=i.throwIfFalsy(i.createProgram(n,\"#version 300 es\\nlayout (location = 0) in vec2 a_unitquad;\\nlayout (location = 1) in vec2 a_cellpos;\\nlayout (location = 2) in vec2 a_offset;\\nlayout (location = 3) in vec2 a_size;\\nlayout (location = 4) in vec2 a_texcoord;\\nlayout (location = 5) in vec2 a_texsize;\\n\\nuniform mat4 u_projection;\\nuniform vec2 u_resolution;\\n\\nout vec2 v_texcoord;\\n\\nvoid main() {\\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\\n}\",\"#version 300 es\\nprecision lowp float;\\n\\nin vec2 v_texcoord;\\n\\nuniform sampler2D u_texture;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  outColor = texture(u_texture, v_texcoord);\\n}\"));this._program=s,this._projectionLocation=i.throwIfFalsy(n.getUniformLocation(this._program,\"u_projection\")),this._resolutionLocation=i.throwIfFalsy(n.getUniformLocation(this._program,\"u_resolution\")),this._textureLocation=i.throwIfFalsy(n.getUniformLocation(this._program,\"u_texture\")),this._vertexArrayObject=n.createVertexArray(),n.bindVertexArray(this._vertexArrayObject);var a=new Float32Array([0,0,1,0,0,1,1,1]),l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,a,n.STATIC_DRAW),n.enableVertexAttribArray(0),n.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);var c=new Uint8Array([0,1,3,0,2,3]),h=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h),n.bufferData(n.ELEMENT_ARRAY_BUFFER,c,n.STATIC_DRAW),this._attributesBuffer=i.throwIfFalsy(n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,this._attributesBuffer),n.enableVertexAttribArray(2),n.vertexAttribPointer(2,2,n.FLOAT,!1,u,0),n.vertexAttribDivisor(2,1),n.enableVertexAttribArray(3),n.vertexAttribPointer(3,2,n.FLOAT,!1,u,2*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(3,1),n.enableVertexAttribArray(4),n.vertexAttribPointer(4,2,n.FLOAT,!1,u,4*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(4,1),n.enableVertexAttribArray(5),n.vertexAttribPointer(5,2,n.FLOAT,!1,u,6*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(5,1),n.enableVertexAttribArray(1),n.vertexAttribPointer(1,2,n.FLOAT,!1,u,8*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(1,1),this._atlasTexture=i.throwIfFalsy(n.createTexture()),n.bindTexture(n.TEXTURE_2D,this._atlasTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),this.onResize()}return e.prototype.beginFrame=function(){return!this._atlas||this._atlas.beginFrame()},e.prototype.updateCell=function(e,t,r,o,i,n,s){this._updateCell(this._vertices.attributes,e,t,r,o,i,n,s)},e.prototype._updateCell=function(e,t,r,o,i,n,s,l){var h=10*(r*this._terminal.cols+t);if(o!==c.NULL_CELL_CODE&&o!==c.WHITESPACE_CELL_CODE&&void 0!==o){var u;if(!this._atlas)throw new Error(\"atlas must be set before updating cell\");(u=l&&1<l.length?this._atlas.getRasterizedGlyphCombinedChar(l,i,n,s):this._atlas.getRasterizedGlyph(o,i,n,s))?(e[h]=-u.offset.x+this._dimensions.scaledCharLeft,e[h+1]=-u.offset.y+this._dimensions.scaledCharTop,e[h+2]=u.size.x/this._dimensions.scaledCanvasWidth,e[h+3]=u.size.y/this._dimensions.scaledCanvasHeight,e[h+4]=u.texturePositionClipSpace.x,e[h+5]=u.texturePositionClipSpace.y,e[h+6]=u.sizeClipSpace.x,e[h+7]=u.sizeClipSpace.y):a.fill(e,0,h,h+10-1-2)}else a.fill(e,0,h,h+10-1-2)},e.prototype.updateSelection=function(e,r){var o=this._terminal;this._vertices.selectionAttributes=l.slice(this._vertices.attributes,0);var i=h.getLuminance(this._colors.background),n=.5<i?7:0,s=.5<i?0:7;if(r)for(var a=e.selection.startCol,c=e.selection.endCol-a,u=e.selection.viewportCappedEndRow-e.selection.viewportCappedStartRow+1,g=e.selection.viewportCappedStartRow;g<e.selection.viewportCappedStartRow+u;g++)this._updateSelectionRange(a,a+c,g,e,s,n);else{a=e.selection.viewportStartRow===e.selection.viewportCappedStartRow?e.selection.startCol:0;var f=e.selection.viewportCappedStartRow===e.selection.viewportCappedEndRow?e.selection.endCol:o.cols;this._updateSelectionRange(a,f,e.selection.viewportCappedStartRow,e,s,n);var p=t(e.selection.viewportCappedEndRow-e.selection.viewportCappedStartRow-1,0);for(g=e.selection.viewportCappedStartRow+1;g<=e.selection.viewportCappedStartRow+p;g++)this._updateSelectionRange(0,f,g,e,s,n);if(e.selection.viewportCappedStartRow!==e.selection.viewportCappedEndRow){var d=e.selection.viewportEndRow===e.selection.viewportCappedEndRow?e.selection.endCol:o.cols;this._updateSelectionRange(0,d,e.selection.viewportCappedEndRow,e,s,n)}}},e.prototype._updateSelectionRange=function(e,t,r,o,i,a){for(var l,c=this._terminal,h=r+c.buffer.viewportY,u=e;u<t;u++){var g=(r*this._terminal.cols+u)*n.INDICIES_PER_CELL,f=o.cells[g+1];if(f=-262144&f|i<<9|a,o.cells[g]&s.COMBINED_CHAR_BIT_MASK){l||(l=c.buffer.getLine(h));var p=l.getCell(u).char;this._updateCell(this._vertices.selectionAttributes,u,r,o.cells[g],f,i,a,p)}else this._updateCell(this._vertices.selectionAttributes,u,r,o.cells[g],f,i,a)}},e.prototype.onResize=function(){var e=this._terminal,t=this._gl;t.viewport(0,0,t.canvas.width,t.canvas.height);var r=e.cols*e.rows*10;if(this._vertices.count!==r){this._vertices.count=r,this._vertices.attributes=new Float32Array(r);for(var o=0;o<this._vertices.attributesBuffers.length;o++)this._vertices.attributesBuffers[o]=new Float32Array(r);for(var i=0,n=0;n<e.rows;n++)for(var s=0;s<e.cols;s++)this._vertices.attributes[i+8]=s/e.cols,this._vertices.attributes[i+9]=n/e.rows,i+=10}},e.prototype.setColors=function(){},e.prototype.render=function(e,t){if(this._atlas){var r=this._gl;r.useProgram(this._program),r.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;for(var o=this._vertices.attributesBuffers[this._activeBuffer],n=0,s=0;s<e.lineLengths.length;s++){var a=s*this._terminal.cols*10,l=(t?this._vertices.selectionAttributes:this._vertices.attributes).subarray(a,a+10*e.lineLengths[s]);o.set(l,n),n+=l.length}r.bindBuffer(r.ARRAY_BUFFER,this._attributesBuffer),r.bufferData(r.ARRAY_BUFFER,o.subarray(0,n),r.STREAM_DRAW),this._atlas.hasCanvasChanged&&(this._atlas.hasCanvasChanged=!1,r.uniform1i(this._textureLocation,0),r.activeTexture(r.TEXTURE0+0),r.bindTexture(r.TEXTURE_2D,this._atlasTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._atlas.cacheCanvas),r.generateMipmap(r.TEXTURE_2D)),r.uniformMatrix4fv(this._projectionLocation,!1,i.PROJECTION_MATRIX),r.uniform2f(this._resolutionLocation,r.canvas.width,r.canvas.height),r.drawElementsInstanced(r.TRIANGLES,6,r.UNSIGNED_BYTE,0,n/10)}},e.prototype.setAtlas=function(e){var t=this._gl;this._atlas=e,t.bindTexture(t.TEXTURE_2D,this._atlasTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.cacheCanvas),t.generateMipmap(t.TEXTURE_2D)},e.prototype.setDimensions=function(e){this._dimensions=e},e}();r.GlyphRenderer=g},function(e,t){\"use strict\";function r(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),0>t&&(t=(e.length+t)%e.length),r=r>=e.length?e.length:(e.length+r)%e.length,t=i(t,r);for(var o=new e.constructor(r-t),n=0;n<r-t;++n)o[n]=e[n+t];return o}Object.defineProperty(t,\"__esModule\",{value:!0}),t.slice=function(e,t,o){return e.slice?e.slice(t,o):r(e,t,o)},t.sliceFallback=r},function(e,t,r){\"use strict\";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(8),s=r(3),a=r(2),l=function(e){function t(t,r,o,i){var n=e.call(this,t,\"link\",r,!0,o)||this;return i.linkifier.onLinkHover((function(e){return n._onLinkHover(e)})),i.linkifier.onLinkLeave((function(e){return n._onLinkLeave(e)})),n}return i(t,e),t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;0<e&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onLinkHover=function(e){if(this._ctx.fillStyle=e.fg===s.INVERTED_DEFAULT_COLOR?this._colors.background.css:void 0!==e.fg&&a.is256Color(e.fg)?this._colors.ansi[e.fg].css:this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(){this._clearCurrentLink()},t}(n.BaseRenderLayer);t.LinkRenderLayer=l},function(e,r,o){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=o(3),s=o(0),a=o(2),l=o(1),c=1024,h=1024,u={css:\"rgba(0, 0, 0, 0)\",rgba:0},g={offset:{x:0,y:0},texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}},f=2,p=function(){function e(e,t){this._config=t,this._didWarmUp=!1,this._cacheMap={},this._cacheMapCombined={},this._currentRowY=0,this._currentRowX=0,this._currentRowHeight=0,this.hasCanvasChanged=!1,this._workBoundingBox={top:0,left:0,bottom:0,right:0},this.cacheCanvas=e.createElement(\"canvas\"),this.cacheCanvas.width=c,this.cacheCanvas.height=h,this._cacheCtx=l.throwIfFalsy(this.cacheCanvas.getContext(\"2d\",{alpha:!0})),this._tmpCanvas=e.createElement(\"canvas\"),this._tmpCanvas.width=2*this._config.scaledCharWidth+2*f,this._tmpCanvas.height=this._config.scaledCharHeight+2*f,this._tmpCtx=l.throwIfFalsy(this._tmpCanvas.getContext(\"2d\",{alpha:this._config.allowTransparency})),e.body.appendChild(this.cacheCanvas)}return e.prototype.dispose=function(){this.cacheCanvas.parentElement&&this.cacheCanvas.parentElement.removeChild(this.cacheCanvas)},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){for(var e,t,r=33;126>r;r++)t=this._drawToCache(r,s.DEFAULT_ATTR,s.DEFAULT_COLOR,s.DEFAULT_COLOR),this._cacheMap[r]=((e={})[s.DEFAULT_ATTR]=t,e)},e.prototype.beginFrame=function(){return this._currentRowY>819&&(this._cacheCtx.clearRect(0,0,c,h),this._cacheMap={},this._currentRowHeight=0,this._currentRowX=0,this._currentRowY=0,this._doWarmUp(),!0)},e.prototype.getRasterizedGlyphCombinedChar=function(e,t,r,o){var i=this._cacheMapCombined[e];i||(i={},this._cacheMapCombined[e]=i);var n=i[t];return n||(n=this._drawToCache(e,t,r,o),i[t]=n),n},e.prototype.getRasterizedGlyph=function(e,t,r,o){var i=this._cacheMap[e];i||(i={},this._cacheMap[e]=i);var n=i[t];return n||(n=this._drawToCache(e,t,r,o),i[t]=n),n},e.prototype._getColorFromAnsiIndex=function(e){if(e>=this._config.colors.ansi.length)throw new Error(\"No color found for idx \"+e);return this._config.colors.ansi[e]},e.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?u:e===i.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:a.is256Color(e)?this._getColorFromAnsiIndex(e):this._config.colors.background},e.prototype._getForegroundColor=function(e){return e===i.INVERTED_DEFAULT_COLOR?this._config.colors.background:a.is256Color(e)?this._getColorFromAnsiIndex(e):this._config.colors.foreground},e.prototype._drawToCache=function(e,r,o,s){var a=\"number\"==typeof e?n(e):e;this.hasCanvasChanged=!0;var l=r>>18;this._tmpCtx.save();var u=this._getBackgroundColor(o);this._tmpCtx.globalCompositeOperation=\"copy\",this._tmpCtx.fillStyle=u.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation=\"source-over\";var p=1&l?this._config.fontWeightBold:this._config.fontWeight,d=64&l?\"italic\":\"\";this._tmpCtx.font=d+\" \"+p+\" \"+this._config.fontSize*this._config.devicePixelRatio+\"px \"+this._config.fontFamily,this._tmpCtx.textBaseline=\"top\",this._tmpCtx.fillStyle=this._getForegroundColor(s).css,!!(32&l)&&(this._tmpCtx.globalAlpha=i.DIM_OPACITY),this._tmpCtx.fillText(a,f,f),this._tmpCtx.restore();var _=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);if(function(e,t){for(var r=!0,o=t.rgba>>>24,i=255&t.rgba>>>16,n=255&t.rgba>>>8,s=0;s<e.data.length;s+=4)e.data[s]===o&&e.data[s+1]===i&&e.data[s+2]===n?e.data[s+3]=0:r=!1;return r}(_,u))return g;var y=this._findGlyphBoundingBox(_,this._workBoundingBox),m=this._clipImageData(_,this._workBoundingBox);return this._currentRowX+this._config.scaledCharWidth>c&&(this._currentRowX=0,this._currentRowY+=this._currentRowHeight,this._currentRowHeight=0),y.texturePosition.x=this._currentRowX,y.texturePosition.y=this._currentRowY,y.texturePositionClipSpace.x=this._currentRowX/c,y.texturePositionClipSpace.y=this._currentRowY/h,this._currentRowHeight=t(this._currentRowHeight,y.size.y),this._currentRowX+=y.size.x,this._cacheCtx.putImageData(m,y.texturePosition.x,y.texturePosition.y),y},e.prototype._findGlyphBoundingBox=function(e,t){t.top=0;for(var r=!1,o=0;o<this._tmpCanvas.height;o++){for(var i,n=0;n<this._tmpCanvas.width;n++)if(i=o*this._tmpCanvas.width*4+4*n+3,0!==e.data[i]){t.top=o,r=!0;break}if(r)break}for(t.left=0,r=!1,n=0;n<this._tmpCanvas.width;n++){for(o=0;o<this._tmpCanvas.height;o++)if(i=o*this._tmpCanvas.width*4+4*n+3,0!==e.data[i]){t.left=n,r=!0;break}if(r)break}for(t.right=this._tmpCanvas.width,r=!1,n=this._tmpCanvas.width-1;0<=n;n--){for(o=0;o<this._tmpCanvas.height;o++)if(i=o*this._tmpCanvas.width*4+4*n+3,0!==e.data[i]){t.right=n,r=!0;break}if(r)break}for(t.bottom=this._tmpCanvas.height,r=!1,o=this._tmpCanvas.height-1;0<=o;o--){for(n=0;n<this._tmpCanvas.width;n++)if(i=o*this._tmpCanvas.width*4+4*n+3,0!==e.data[i]){t.bottom=o,r=!0;break}if(r)break}return{texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:t.right-t.left+1,y:t.bottom-t.top+1},sizeClipSpace:{x:(t.right-t.left+1)/c,y:(t.bottom-t.top+1)/h},offset:{x:-t.left+f,y:-t.top+f}}},e.prototype._clipImageData=function(e,t){for(var r=t.right-t.left+1,o=t.bottom-t.top+1,i=new Uint8ClampedArray(r*o*4),n=t.top;n<=t.bottom;n++)for(var s=t.left;s<=t.right;s++){var a=n*this._tmpCanvas.width*4+4*s,l=(n-t.top)*r*4+4*(s-t.left);i[l]=e.data[a],i[l+1]=e.data[a+1],i[l+2]=e.data[a+2],i[l+3]=e.data[a+3]}return new ImageData(i,r,o)},e}();r.WebglCharAtlas=p},function(e,t,r){\"use strict\";function o(e){return document.activeElement===e.textarea&&document.hasFocus()}var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(8),a=r(10),l=function(e){function t(t,r,o){var i=e.call(this,t,\"cursor\",r,!0,o)||this;return i._cell=new a.CellData,i._state={x:0,y:0,isFocused:!1,style:\"\",width:0},i._cursorRenderers={bar:i._renderBarCursor.bind(i),block:i._renderBlockCursor.bind(i),underline:i._renderUnderlineCursor.bind(i)},i}return n(t,e),t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this._state={x:0,y:0,isFocused:!1,style:\"\",width:0}},t.prototype.reset=function(e){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this.onOptionsChanged(e))},t.prototype.onBlur=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),e.refresh(e.buffer.cursorY,e.buffer.cursorY)},t.prototype.onFocus=function(e){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(e):e.refresh(e.buffer.cursorY,e.buffer.cursorY)},t.prototype.onOptionsChanged=function(e){var t=this;e.getOption(\"cursorBlink\")?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new c(e,(function(){t._render(e,!0)}))):this._cursorBlinkStateManager&&this._cursorBlinkStateManager.dispose(),e.refresh(e.buffer.cursorY,e.buffer.cursorY)},t.prototype.onCursorMove=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype.onGridChanged=function(e){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(e,!1):this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype._render=function(e){if(e._core.cursorState&&!e._core.cursorHidden){var t=e.buffer.baseY+e.buffer.cursorY,r=t-e.buffer.viewportY;if(0>r||r>=e.rows)this._clearCursor();else if(e._core.buffer.lines.get(t).loadCell(e.buffer.cursorX,this._cell),void 0!==this._cell.content){if(!o(e)){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var i=e.getOption(\"cursorStyle\");return i&&\"block\"!==i?this._cursorRenderers[i](e,e.buffer.cursorX,r,this._cell):this._renderBlurCursor(e,e.buffer.cursorX,r,this._cell),this._ctx.restore(),this._state.x=e.buffer.cursorX,this._state.y=r,this._state.isFocused=!1,this._state.style=i,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===e.buffer.cursorX&&this._state.y===r&&this._state.isFocused===o(e)&&this._state.style===e.getOption(\"cursorStyle\")&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[e.getOption(\"cursorStyle\")||\"block\"](e,e.buffer.cursorX,r,this._cell),this._ctx.restore(),this._state.x=e.buffer.cursorX,this._state.y=r,this._state.isFocused=!1,this._state.style=e.getOption(\"cursorStyle\"),this._state.width=this._cell.getWidth()}else this._clearCursor()}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:\"\",width:0})},t.prototype._renderBarCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(t,r),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,r,o){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(t,r,o.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(e,o,t,r),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(t,r),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,r,o){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(t,r,o.getWidth(),1),this._ctx.restore()},t}(s.BaseRenderLayer);t.CursorRenderLayer=l;var c=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,o(e)&&this._restartInterval()}return Object.defineProperty(e.prototype,\"isPaused\",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,0<e)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(e){this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation(e)},e}()},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.stringFromCodePoint=function(e){return 65535<e?n(55296+((e-=65536)>>10))+n(e%1024+56320):n(e)},t.utf32ToString=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length);for(var o,i=\"\",s=t;s<r;++s)65535<(o=e[s])?i+=n(55296+((o-=65536)>>10))+n(o%1024+56320):i+=n(o);return i};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var o=0,i=0;this._interim&&(56320<=(a=e.charCodeAt(i++))&&57343>=a?t[o++]=1024*(this._interim-55296)+a-56320+65536:(t[o++]=this._interim,t[o++]=a),this._interim=0);for(var n,s=i;s<r;++s)if(55296<=(n=e.charCodeAt(s))&&56319>=n){if(++s>=r)return this._interim=n,o;var a;56320<=(a=e.charCodeAt(s))&&57343>=a?t[o++]=1024*(n-55296)+a-56320+65536:(t[o++]=n,t[o++]=a)}else t[o++]=n;return o},e}();t.StringToUtf32=r;var o=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var o,i,n,s,a=0,l=0,c=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var g=0,f=void 0;(f=63&this.interim[++g])&&4>g;)u<<=6,u|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,d=p-g;c<d;){if(c>=r)return 0;if(128!=(192&(f=e[c++]))){c--,h=!0;break}this.interim[g++]=f,u<<=6,u|=63&f}h||(2==p?128>u?c--:t[a++]=u:3==p?2048>u||55296<=u&&57343>=u||(t[a++]=u):65536>u||1114111<u||(t[a++]=u)),this.interim.fill(0)}for(var _=c;_<r;){for(;!(!(_<r-4)||128&(o=e[_])||128&(i=e[_+1])||128&(n=e[_+2])||128&(s=e[_+3]));)t[a++]=o,t[a++]=i,t[a++]=n,t[a++]=s,_+=4;if(128>(o=e[_++]))t[a++]=o;else if(192==(224&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(128>(l=(31&o)<<6|63&i)){_--;continue}t[a++]=l}else if(224==(240&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,a;if(128!=(192&(n=e[_++]))){_--;continue}if(2048>(l=(15&o)<<12|(63&i)<<6|63&n)||55296<=l&&57343>=l)continue;t[a++]=l}else if(240==(248&o)){if(_>=r)return this.interim[0]=o,a;if(128!=(192&(i=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,a;if(128!=(192&(n=e[_++]))){_--;continue}if(_>=r)return this.interim[0]=o,this.interim[1]=i,this.interim[2]=n,a;if(128!=(192&(s=e[_++]))){_--;continue}if(65536>(l=(7&o)<<18|(63&i)<<12|(63&n)<<6|63&s)||1114111<l)continue;t[a++]=l}}return a},e}();t.Utf8ToUtf32=o},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.fg=0,this.bg=0}return e.toColorRGB=function(e){return[255&e>>>16,255&e>>>8,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e}();t.AttributeData=r},function(e,r,o){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=o(1),n=o(4),s=o(3),a=o(2),l=o(0),c=8,h=c*Float32Array.BYTES_PER_ELEMENT,u=function(){function e(e,t,r,o){this._terminal=e,this._colors=t,this._gl=r,this._dimensions=o,this._vertices={count:0,attributes:new Float32Array(20*c),selection:new Float32Array(3*c)};var n=this._gl;this._program=i.throwIfFalsy(i.createProgram(n,\"#version 300 es\\nlayout (location = 0) in vec2 a_position;\\nlayout (location = 1) in vec2 a_size;\\nlayout (location = 2) in vec3 a_color;\\nlayout (location = 3) in vec2 a_unitquad;\\n\\nuniform mat4 u_projection;\\nuniform vec2 u_resolution;\\n\\nout vec3 v_color;\\n\\nvoid main() {\\n  vec2 zeroToOne = (a_position + (a_unitquad * a_size)) / u_resolution;\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_color = a_color;\\n}\",\"#version 300 es\\nprecision lowp float;\\n\\nin vec3 v_color;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  outColor = vec4(v_color, 1);\\n}\")),this._resolutionLocation=i.throwIfFalsy(n.getUniformLocation(this._program,\"u_resolution\")),this._projectionLocation=i.throwIfFalsy(n.getUniformLocation(this._program,\"u_projection\")),this._vertexArrayObject=n.createVertexArray(),n.bindVertexArray(this._vertexArrayObject);var s=new Float32Array([0,0,1,0,0,1,1,1]),a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW),n.enableVertexAttribArray(3),n.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);var l=new Uint8Array([0,1,3,0,2,3]),u=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,u),n.bufferData(n.ELEMENT_ARRAY_BUFFER,l,n.STATIC_DRAW),this._attributesBuffer=i.throwIfFalsy(n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,this._attributesBuffer),n.enableVertexAttribArray(0),n.vertexAttribPointer(0,2,n.FLOAT,!1,h,0),n.vertexAttribDivisor(0,1),n.enableVertexAttribArray(1),n.vertexAttribPointer(1,2,n.FLOAT,!1,h,2*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(1,1),n.enableVertexAttribArray(2),n.vertexAttribPointer(2,4,n.FLOAT,!1,h,4*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(2,1),this._updateCachedColors()}return e.prototype.render=function(){var e=this._gl;e.useProgram(this._program),e.bindVertexArray(this._vertexArrayObject),e.uniformMatrix4fv(this._projectionLocation,!1,i.PROJECTION_MATRIX),e.uniform2f(this._resolutionLocation,e.canvas.width,e.canvas.height),e.bindBuffer(e.ARRAY_BUFFER,this._attributesBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertices.attributes,e.DYNAMIC_DRAW),e.drawElementsInstanced(this._gl.TRIANGLES,6,e.UNSIGNED_BYTE,0,this._vertices.count),e.bindBuffer(e.ARRAY_BUFFER,this._attributesBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertices.selection,e.DYNAMIC_DRAW),e.drawElementsInstanced(this._gl.TRIANGLES,6,e.UNSIGNED_BYTE,0,3)},e.prototype.onResize=function(){this._updateViewportRectangle()},e.prototype.setColors=function(){this._updateCachedColors(),this._updateViewportRectangle()},e.prototype._updateCachedColors=function(){this._bgFloat=this._colorToFloat32Array(this._colors.background),this._selectionFloat=this._colorToFloat32Array(this._colors.selection)},e.prototype._updateViewportRectangle=function(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.scaledCellWidth,this._terminal.rows*this._dimensions.scaledCellHeight,this._bgFloat)},e.prototype.updateSelection=function(e,r){var o=this._terminal;if(e.hasSelection)if(r){var i=e.startCol,s=e.endCol-i,a=e.viewportCappedEndRow-e.viewportCappedStartRow+1;this._addRectangleFloat(this._vertices.selection,0,i*this._dimensions.scaledCellWidth,e.viewportCappedStartRow*this._dimensions.scaledCellHeight,s*this._dimensions.scaledCellWidth,a*this._dimensions.scaledCellHeight,this._selectionFloat),n.fill(this._vertices.selection,0,c)}else{i=e.viewportStartRow===e.viewportCappedStartRow?e.startCol:0;var l=e.viewportCappedStartRow===e.viewportCappedEndRow?e.endCol:o.cols;this._addRectangleFloat(this._vertices.selection,0,i*this._dimensions.scaledCellWidth,e.viewportCappedStartRow*this._dimensions.scaledCellHeight,(l-i)*this._dimensions.scaledCellWidth,this._dimensions.scaledCellHeight,this._selectionFloat);var h=t(e.viewportCappedEndRow-e.viewportCappedStartRow-1,0);if(this._addRectangleFloat(this._vertices.selection,c,0,(e.viewportCappedStartRow+1)*this._dimensions.scaledCellHeight,o.cols*this._dimensions.scaledCellWidth,h*this._dimensions.scaledCellHeight,this._selectionFloat),e.viewportCappedStartRow!==e.viewportCappedEndRow){var u=e.viewportEndRow===e.viewportCappedEndRow?e.endCol:o.cols;this._addRectangleFloat(this._vertices.selection,2*c,0,e.viewportCappedEndRow*this._dimensions.scaledCellHeight,u*this._dimensions.scaledCellWidth,this._dimensions.scaledCellHeight,this._selectionFloat)}else n.fill(this._vertices.selection,0,2*c)}else n.fill(this._vertices.selection,0,0)},e.prototype.updateBackgrounds=function(e){for(var t=this._terminal,r=this._vertices,o=1,i=0;i<t.rows;i++){for(var n=-1,s=l.DEFAULT_COLOR,a=0;a<t.cols;a++){var h=4*(i*t.cols+a),u=e.cells[h+2];if(u!==s){if(s!==l.DEFAULT_COLOR){var g=o++*c;this._updateRectangle(r,g,s,n,a,i)}n=a,s=u}}s!==l.DEFAULT_COLOR&&(g=o++*c,this._updateRectangle(r,g,s,n,t.cols,i))}r.count=o},e.prototype._updateRectangle=function(e,t,r,o,n,l){var h;h=r===s.INVERTED_DEFAULT_COLOR?this._colors.foreground:a.is256Color(r)?this._colors.ansi[r]:this._colors.foreground,e.attributes.length<t+4&&(e.attributes=i.expandFloat32Array(e.attributes,this._terminal.rows*this._terminal.cols*c));var u=o*this._dimensions.scaledCellWidth,g=l*this._dimensions.scaledCellHeight,f=(255&h.rgba>>24)/255,p=(255&h.rgba>>16)/255,d=(255&h.rgba>>8)/255;this._addRectangle(e.attributes,t,u,g,(n-o)*this._dimensions.scaledCellWidth,this._dimensions.scaledCellHeight,f,p,d,1)},e.prototype._addRectangle=function(e,t,r,o,i,n,s,a,l,c){e[t]=r,e[t+1]=o,e[t+2]=i,e[t+3]=n,e[t+4]=s,e[t+5]=a,e[t+6]=l,e[t+7]=c},e.prototype._addRectangleFloat=function(e,t,r,o,i,n,s){e[t]=r,e[t+1]=o,e[t+2]=i,e[t+3]=n,e[t+4]=s[0],e[t+5]=s[1],e[t+6]=s[2],e[t+7]=s[3]},e.prototype._colorToFloat32Array=function(e){return new Float32Array([(255&e.rgba>>24)/255,(255&e.rgba>>16)/255,(255&e.rgba>>8)/255,(255&e.rgba)/255])},e}();r.RectangleRenderer=u},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){this._disposables.push(e)},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();t.Disposable=r},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(10);t.getCompatAttr=function(e,t){var r=new o.CellData;return e.loadCell(t,r),(-1===r.getBgColor()?256:r.getBgColor())|(-1===r.getFgColor()?256:r.getFgColor())<<9|((r.isBold()?1:0)|(r.isUnderline()?2:0)|(r.isBlink()?4:0)|(r.isInverse()?8:0)|(r.isDim()?32:0)|(r.isItalic()?64:0))<<18}}])}))},function(e){var t=Math.max,r=Math.floor;window,e.exports=function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,o){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0});var i=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core,o=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(o.getPropertyValue(\"height\")),n=t(0,parseInt(o.getPropertyValue(\"width\"))),s=window.getComputedStyle(this._terminal.element),a=i-(parseInt(s.getPropertyValue(\"padding-top\"))+parseInt(s.getPropertyValue(\"padding-bottom\"))),l=n-(parseInt(s.getPropertyValue(\"padding-right\"))+parseInt(s.getPropertyValue(\"padding-left\")))-e.viewport.scrollBarWidth;return{cols:t(2,r(l/e._renderService.dimensions.actualCellWidth)),rows:t(1,r(a/e._renderService.dimensions.actualCellHeight))}}},e}();o.FitAddon=i}])},function(e,t){\"use strict\";\n/*!\n * libdot (https://npmjs.com/package/libdot)\n * @license BSD-3-Clause\n * @version 3.0.0\n * ==libdot/LICENSE==\n * Copyright (c) 2006-2009 The Chromium OS Authors. All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n * 3. Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */var r=String.fromCharCode;t.UTF8Decoder=function(){this.bytesLeft=0,this.codePoint=0,this.lowerBound=0},t.UTF8Decoder.prototype.decode=function(e){for(var t,o=\"\",i=0;i<e.length;i++)if(t=e.charCodeAt(i),0==this.bytesLeft)127>=t?o+=e.charAt(i):192<=t&&223>=t?(this.codePoint=t-192,this.bytesLeft=1,this.lowerBound=128):224<=t&&239>=t?(this.codePoint=t-224,this.bytesLeft=2,this.lowerBound=2048):240<=t&&247>=t?(this.codePoint=t-240,this.bytesLeft=3,this.lowerBound=65536):248<=t&&251>=t?(this.codePoint=t-248,this.bytesLeft=4,this.lowerBound=2097152):252<=t&&253>=t?(this.codePoint=t-252,this.bytesLeft=5,this.lowerBound=67108864):o+=\"�\";else if(128<=t&&191>=t){if(this.bytesLeft--,this.codePoint=(this.codePoint<<6)+(t-128),0==this.bytesLeft){var n=this.codePoint;n<this.lowerBound||55296<=n&&57343>=n||1114111<n?o+=\"�\":65536>n?o+=r(n):o+=r(55296+(1023&(n-=65536)>>>10),56320+(1023&n))}}else o+=\"�\",this.bytesLeft=0,i--;return o}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1);console.log(\"hterm: before lib.init\"),o.lib.init((function(){console.log(\"lib.init\")})),console.log(\"hterm: after lib.init\");var i=function(){function e(e){var t=this;this.elem=e,o.hterm.defaultStorage=new o.lib.Storage.Memory,this.term=new o.hterm.Terminal,this.term.onTerminalReady=function(){var e=t.term.io.push();e.onVTKeystroke=function(){},e.sendString=function(){},e.onTerminalResize=function(){}},this.term.decorate(document.querySelector(\"#terminal\")),this.term.installKeyboard()}return e.prototype.info=function(){return{columns:this.columns,rows:this.rows}},e.prototype.output=function(e){null!=this.term.io&&this.term.io.writeUTF8(e)},e.prototype.showMessage=function(e,t){this.message=e,0<t?this.term.io.showOverlay(e,t):this.term.io.showOverlay(e,null)},e.prototype.removeMessage=function(){this.term.io.showOverlay(this.message,0)},e.prototype.setWindowTitle=function(e){this.term.setWindowTitle(e)},e.prototype.setPreferences=function(e){var t=this;Object.keys(e).forEach((function(r){t.term.getPrefs().set(r,e[r])}))},e.prototype.onInput=function(e){this.term.io.onVTKeystroke=function(t){e(t)},this.term.io.sendString=function(t){e(t)}},e.prototype.onResize=function(e){var t=this;this.term.io.onTerminalResize=function(r,o){t.columns=r,t.rows=o,e(r,o)}},e.prototype.deactivate=function(){this.term.io.onVTKeystroke=function(){},this.term.io.sendString=function(){},this.term.io.onTerminalResize=function(){},this.term.uninstallKeyboard()},e.prototype.reset=function(){this.removeMessage(),this.term.installKeyboard()},e.prototype.close=function(){this.term.uninstallKeyboard()},e}();t.Hterm=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(11);t.protocols=[\"wetty\"];var i=function(){function e(e,t){this.term=e,this.connectionFactory=t}return e.prototype.open=function(){var e=this,t=this.connectionFactory.create();return t.onOpen((function(){var r=e.term.info(),i=function(e,r){t.send(o.Type.SESSION_RESIZE,JSON.stringify({Cols:e,Rows:r}))};e.term.onResize(i),i(r.columns,r.rows),e.term.onInput((function(e){t.send(o.Type.CLIENT_INPUT,e)}))})),t.onReceive((function(r){var i=r.slice(1);switch(r[0].charCodeAt(0)){case o.Type.SESSION_OUTPUT:e.term.output(i);break;case o.Type.CLIENT_CLOSE:t.close()}})),t.onClose((function(){clearInterval(void 0),e.term.deactivate(),e.term.showMessage(\"Connection Closed\",0)})),t.open(),function(){t.close()}},e}();t.WeTTY=i},function(e,t,r){var o=r(12),i=Function(\"return this\")();o.exportSymbol(\"proto.msg.Type\",null,i),proto.msg.Type={CLIENT_INPUT:0,SESSION_OUTPUT:1,SESSION_RESIZE:2,SESSION_CLOSE:3,CLIENT_CLOSE:4},o.object.extend(t,proto.msg)},function(module,exports,__webpack_require__){var _Mathpow=Math.pow,_Mathabs3=Math.abs,_Mathmax5=Math.max,_Mathfloor5=Math.floor,_Mathround4=Math.round,_Mathmin4=Math.min,_StringfromCharCode5=String.fromCharCode,_Stringprototype2=String.prototype;(function(global,Buffer){\n/*!\n * google-protobuf (https://npmjs.com/package/google-protobuf)\n * @license BSD-3-Clause\n * @version 3.11.1\n */\nvar $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e+=\"\");for(var o,i=e.length,n=0;n<i;n++)if(o=e[n],t.call(r,o,n,e))return{i:n,v:o};return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return\"undefined\"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,o){if(t){for(r=$jscomp.global,e=e.split(\".\"),o=0;o<e.length-1;o++){var i=e[o];i in r||(r[i]={}),r=r[i]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill(\"Array.prototype.findIndex\",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),\"es6\",\"es3\"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError(\"The 'this' value for String.prototype.\"+r+\" must not be null or undefined\");if(t instanceof RegExp)throw new TypeError(\"First argument to String.prototype.\"+r+\" must not be a regular expression\");return e+\"\"},$jscomp.polyfill(\"String.prototype.endsWith\",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,\"endsWith\");e+=\"\",void 0===t&&(t=r.length),t=_Mathmax5(0,_Mathmin4(0|t,r.length));for(var o=e.length;0<o&&0<t;)if(r[--t]!=e[--o])return!1;return 0>=o}}),\"es6\",\"es3\"),$jscomp.polyfill(\"Array.prototype.find\",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),\"es6\",\"es3\"),$jscomp.polyfill(\"String.prototype.startsWith\",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,\"startsWith\");e+=\"\";var o=r.length,i=e.length;t=_Mathmax5(0,_Mathmin4(0|t,r.length));for(var n=0;n<i&&t<o;)if(r[t++]!=e[n++])return!1;return n>=i}}),\"es6\",\"es3\"),$jscomp.polyfill(\"String.prototype.repeat\",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,\"repeat\");if(0>e||1342177279<e)throw new RangeError(\"Invalid count value\");e|=0;for(var r=\"\";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),\"es6\",\"es3\");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return\"string\"==typeof e},goog.isBoolean=function(e){return\"boolean\"==typeof e},goog.isNumber=function(e){return\"number\"==typeof e},goog.exportPath_=function(e,t,r){e=e.split(\".\"),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript(\"var \"+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?r[o]=t:r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={}},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE=\"en\",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error(\"goog.provide cannot be used within a module.\");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector(\"script[nonce]\"))&&(e=e.nonce||e.getAttribute(\"nonce\"))&&goog.NONCE_PATTERN_.test(e)?e:\"\"},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error(\"Invalid module identifier\");if(!goog.isInGoogModuleLoader_())throw Error(\"Module \"+e+\" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");if(goog.moduleLoaderState_.moduleName)throw Error(\"goog.module may only be called once per module.\");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(){return null},goog.ModuleType={ES6:\"es6\",GOOG:\"goog\"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!(!e||\"function\"!=typeof e.getCurrentModulePath||!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||\"function\"!=typeof t.getCurrentModulePath)throw Error('Module with namespace \"'+e+'\" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||\"\",Error(\"Importing test-only code into non-debug environment\"+(e?\": \"+e:\".\"))},goog.forwardDeclare=function(){},goog.getObjectByName=function(e,t){e=e.split(\".\"),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(){},goog.requireType=function(){return{}},goog.basePath=\"\",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error(\"unimplemented abstract method\")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE=\"detect\",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE=\"\",goog.TRANSPILER=\"transpile.js\",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('\"use strict\";let x = 1; function f() { return typeof x; };f() == \"number\";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return\"(function(){\"+e+\"\\n;})();\\n\"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:\"\",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error(\"Invalid module definition\");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error('Invalid module name \"'+o+'\"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&\"object\"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split(\"/\");for(var t=0;t<e.length;)\".\"==e[t]?e.splice(t,1):t&&\"..\"==e[t]&&e[t-1]&&\"..\"!=e[t-1]?e.splice(--t,2):t++;return e.join(\"/\")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open(\"get\",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var o=goog.global.$jscomp;o||(goog.global.$jscomp=o={});var i=o.transpile;if(!i){var n=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(n);if(s){if(function(){(0,eval)(s+\"\\n//# sourceURL=\"+n)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the \"transpile\" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(o=goog.global.$jscomp).transpile}}return i||(i=o.transpile=function(e,t){return goog.logToConsole_(t+\" requires transpilation but no transpiler was found.\"),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;if(\"object\"==t){if(!e)return\"null\";if(e instanceof Array)return\"array\";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if(\"[object Window]\"==r)return\"object\";if(\"[object Array]\"==r||\"number\"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==t&&void 0===e.call)return\"object\";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return\"array\"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return\"array\"==t||\"object\"==t&&\"number\"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&\"function\"==typeof e.getFullYear},goog.isFunction=function(e){return\"function\"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return\"object\"==t&&null!=e||\"function\"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&\"removeAttribute\"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_=\"closure_uid_\"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if(\"object\"==t||\"array\"==t){if(\"function\"==typeof e.clone)return e.clone();for(var r in t=\"array\"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),e.apply(this,r)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,\"JavaScript\");else{if(!goog.global.eval)throw Error(\"goog.globalEval not available\");if(null==goog.evalWorksForGlobals_){try{goog.global.eval(\"var _evalTest_ = 1;\")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement(\"SCRIPT\");r.type=\"text/javascript\",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if(\".\"==(e+\"\").charAt(0))throw Error('className passed in goog.getCssName must not start with \".\". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split(\"-\");for(var t=[],o=0;o<e.length;o++)t.push(r(e[o]));return t.join(\"-\")};return o=goog.cssNameMapping_?\"BY_WHOLE\"==goog.cssNameMappingStyle_?r:o:function(e){return e},e=t?e+\"-\"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,\"&lt;\")),t&&(e=e.replace(/\\{\\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}},goog.base=function(e,t){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");if(void 0!==r.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return r.superClass_.constructor.apply(e,o)}if(\"string\"!=typeof t&&\"symbol\"!=typeof t)throw Error(\"method names provided to goog.base must be a string or a symbol\");for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var n=e.constructor.prototype;n;n=Object.getPrototypeOf(n))if(n[t]===r)i=!0;else if(i)return n[t].apply(e,o);if(e[t]===r)return e.constructor.prototype[t].apply(e,o);throw Error(\"goog.base called from a method of one name to a method of a different name\")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error(\"goog.scope is not supported within a module.\");e.call(goog.global)},goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error(\"cannot instantiate an interface (no constructor defined).\")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=o&&(o instanceof Function?o(r):goog.defineClass.applyProperties_(r,o)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&r&&Object.seal instanceof Function&&Object.seal(t),t};return o},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_=\"goog_defineClass_legacy_unsealable\",goog.TRUSTED_TYPES_POLICY_NAME=\"\",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if(\"undefined\"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+\"#base\"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;return e===t.INT32||e===t.INT64||e===t.UINT32||e===t.UINT64||e===t.SINT32||e===t.SINT64||e===t.BOOL||e===t.ENUM||e===t.VHASH64?r.VARINT:e===t.DOUBLE||e===t.FIXED64||e===t.SFIXED64||e===t.FHASH64?r.FIXED64:e===t.STRING||e===t.MESSAGE||e===t.BYTES?r.DELIMITED:e===t.FLOAT||e===t.FIXED32||e===t.SFIXED32?r.FIXED32:r.INVALID},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH=\"\\0\\0\\0\\0\\0\\0\\0\\0\",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=e+\"\"),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name=\"CustomError\",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name=\"AssertionError\",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r=\"\",o=(e=e.split(\"%s\")).length-1,i=0;i<o;i++)r+=e[i]+(i<t.length?t[i]:\"%s\");return r+e[o]},goog.asserts.doAssertFailure_=function(e,t,r,o){var i=\"Assertion failed\";if(r){i+=\": \"+r;var n=o}else e&&(i+=\": \"+e,n=t);e=new goog.asserts.AssertionError(\"\"+i,n||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_(\"\",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_(\"Expected to exist: %s.\",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError(\"Failure\"+(e?\": \"+e:\"\"),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_(\"Expected number but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_(\"Expected string but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_(\"Expected function but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_(\"Expected object but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_(\"Expected array but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_(\"Expected boolean but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_(\"Expected Element but got %s: %s.\",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_(\"Expected instanceof %s but got %s.\",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t){return!goog.asserts.ENABLE_ASSERTS||\"number\"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_(\"Expected %s to be a finite number but it is not.\",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+\" should not be enumerable in Object.prototype.\")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||\"unknown type name\":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?\"null\":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?_Mathmax5(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=_Mathmax5(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var o=e.length,i=goog.isString(e)?e.split(\"\"):e,n=0;n<o;n++)n in i&&t.call(r,i[n],n,e)},goog.array.forEachRight=function(e,t,r){var o=e.length,i=goog.isString(e)?e.split(\"\"):e;for(--o;0<=o;--o)o in i&&t.call(r,i[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var o=e.length,i=[],n=0,s=goog.isString(e)?e.split(\"\"):e,a=0;a<o;a++)if(a in s){var l=s[a];t.call(r,l,a,e)&&(i[n++]=l)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var o=e.length,i=Array(o),n=goog.isString(e)?e.split(\"\"):e,s=0;s<o;s++)s in n&&(i[s]=t.call(r,n[s],s,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,o){var i=r;return goog.array.forEach(e,(function(r,n){i=t.call(o,i,r,n,e)})),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,o){var i=r;return goog.array.forEachRight(e,(function(r,n){i=t.call(o,i,r,n,e)})),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var o=e.length,i=goog.isString(e)?e.split(\"\"):e,n=0;n<o;n++)if(n in i&&t.call(r,i[n],n,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var o=e.length,i=goog.isString(e)?e.split(\"\"):e,n=0;n<o;n++)if(n in i&&!t.call(r,i[n],n,e))return!1;return!0},goog.array.count=function(e,t,r){var o=0;return goog.array.forEach(e,(function(e,i,n){t.call(r,e,i,n)&&++o}),r),o},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var o=e.length,i=goog.isString(e)?e.split(\"\"):e,n=0;n<o;n++)if(n in i&&t.call(r,i[n],n,e))return n;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var o=e.length,i=goog.isString(e)?e.split(\"\"):e;for(--o;0<=o;o--)if(o in i&&t.call(r,i[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var o;2==arguments.length||0>(o=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return!!(0<=(t=goog.array.lastIndexOf(e,t)))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return!!(0<=(t=goog.array.findIndex(e,t,r)))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var o=0;return goog.array.forEachRight(e,(function(i,n){t.call(r,i,n,e)&&goog.array.removeAt(e,n)&&o++})),o},goog.array.concat=function(){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e){for(var t,r=1;r<arguments.length;r++)if(t=arguments[r],goog.isArrayLike(t)){var o=e.length||0,i=t.length||0;e.length=o+i;for(var n=0;n<i;n++)e[o+n]=t[n]}else e.push(t)},goog.array.splice=function(e){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var o=function(e){return goog.isObject(e)?\"o\"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||o,o={};for(var i=0,n=0;n<e.length;){var s=e[n++],a=r(s);Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,t[i++]=s)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,o,i){for(var n,s=0,a=e.length;s<a;){var l=s+a>>1,c=r?t.call(i,e[l],l,e):t(o,e[l]);0<c?s=l+1:(a=l,n=!c)}return n?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]={index:o,value:e[o]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return i(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=r[o].value},goog.array.sortByKey=function(e,t,r){var o=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return o(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var o,i=1;i<e.length;i++)if(0<(o=t(e[i-1],e[i]))||0==o&&r)return!1;return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<o;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var o,i=_Mathmin4(e.length,t.length),n=0;n<i;n++)if(0!=(o=r(e[n],t[n])))return o;return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return!!(0>(r=goog.array.binarySearch(e,t,r)))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return!!(0<=(t=goog.array.binarySearch(e,t,r)))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var o={},i=0;i<e.length;i++){var n=e[i],s=t.call(r,n,i,e);goog.isDef(s)&&(o[s]||(o[s]=[])).push(n)}return o},goog.array.toObject=function(e,t,r){var o={};return goog.array.forEach(e,(function(i,n){o[t.call(r,i,n,e)]=i})),o},goog.array.range=function(e,t,r){var o=[],i=0,n=e;if(void 0!==t&&(i=e,n=t),0>(r=r||1)*(n-i))return[];if(0<r)for(e=i;e<n;e+=r)o.push(e);else for(e=i;e>n;e+=r)o.push(e);return o},goog.array.repeat=function(e,t){for(var r=[],o=0;o<t;o++)r[o]=e;return r},goog.array.flatten=function(){for(var e,t=[],r=0;r<arguments.length;r++)if(e=arguments[r],goog.isArray(e))for(var o,i=0;i<e.length;i+=8192){o=goog.array.slice(e,i,i+8192),o=goog.array.flatten.apply(null,o);for(var n=0;n<o.length;n++)t.push(o[n])}else t.push(e);return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(){if(!arguments.length)return[];for(var e=[],t=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<t&&(t=arguments[r].length);for(r=0;r<t;r++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][r]);e.push(o)}return e},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var o=_Mathfloor5(t()*(r+1)),i=e[r];e[r]=e[o],e[o]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t,r=[],o=0,i=0;i<e.length;i++)255<(t=e.charCodeAt(i))&&(r[o++]=255&t,t>>=8),r[o++]=t;return r},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return _StringfromCharCode5.apply(null,e);for(var t,r=\"\",o=0;o<e.length;o+=8192)t=goog.array.slice(e,o,o+8192),r+=_StringfromCharCode5.apply(null,t);return r},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:\"0\"+e})).join(t||\"\")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,\"Key string length must be multiple of 2\");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t,r=[],o=0,i=0;i<e.length;i++)128>(t=e.charCodeAt(i))?r[o++]=t:(2048>t?r[o++]=192|t>>6:(55296==(64512&t)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++i)),r[o++]=240|t>>18,r[o++]=128|63&t>>12):r[o++]=224|t>>12,r[o++]=128|63&t>>6),r[o++]=128|63&t);return r},goog.crypt.utf8ByteArrayToString=function(e){for(var t,r=[],o=0,i=0;o<e.length;)if(128>(t=e[o++]))r[i++]=_StringfromCharCode5(t);else if(191<t&&224>t){var n=e[o++];r[i++]=_StringfromCharCode5((31&t)<<6|63&n)}else if(239<t&&365>t){n=e[o++];var s=e[o++];t=((7&t)<<18|(63&n)<<12|(63&s)<<6|63&e[o++])-65536,r[i++]=_StringfromCharCode5(55296+(t>>10)),r[i++]=_StringfromCharCode5(56320+(1023&t))}else n=e[o++],s=e[o++],r[i++]=_StringfromCharCode5((15&t)<<12|(63&n)<<6|63&s);return r.join(\"\")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,\"XOR array lengths must match\");for(var r=[],o=0;o<e.length;o++)r.push(e[o]^t[o]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\\s\\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&_Stringprototype2.trim?function(e){return e.trim()}:function(e){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=(e+\"\").toLowerCase())<(t=(t+\"\").toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\\r\\n|\\r|\\n)/g,t?\"<br />\":\"<br>\")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,\"&amp;\").replace(goog.string.internal.LT_RE_,\"&lt;\").replace(goog.string.internal.GT_RE_,\"&gt;\").replace(goog.string.internal.QUOT_RE_,\"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_,\"&#39;\").replace(goog.string.internal.NULL_RE_,\"&#0;\");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf(\"&\")&&(e=e.replace(goog.string.internal.AMP_RE_,\"&amp;\")),-1!=e.indexOf(\"<\")&&(e=e.replace(goog.string.internal.LT_RE_,\"&lt;\")),-1!=e.indexOf(\">\")&&(e=e.replace(goog.string.internal.GT_RE_,\"&gt;\")),-1!=e.indexOf('\"')&&(e=e.replace(goog.string.internal.QUOT_RE_,\"&quot;\")),-1!=e.indexOf(\"'\")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,\"&#39;\")),-1!=e.indexOf(\"\\0\")&&(e=e.replace(goog.string.internal.NULL_RE_,\"&#0;\"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/\"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\\x00/g,goog.string.internal.ALL_RE_=/[\\x00&<>\"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g,\" &#160;\"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(e+\"\").split(\".\"),t=goog.string.internal.trim(t+\"\").split(\".\");for(var o=_Mathmax5(e.length,t.length),i=0;0==r&&i<o;i++){var n=e[i]||\"\",s=t[i]||\"\";do{if(n=/(\\d*)(\\D*)(.*)/.exec(n)||[\"\",\"\",\"\",\"\"],s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],0==n[0].length&&0==s[0].length)break;r=0==n[1].length?0:parseInt(n[1],10);var a=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==n[2].length,0==s[2].length)||goog.string.internal.compareElements_(n[2],s[2]),n=n[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||\"\",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return\"Const{\"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+\"}\"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail(\"expected object of type Const, got '\"+e+\"'\"),\"type_error:Const\")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(\"\"),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error(\"This browser doesn't seem to support blob URLs\")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+\"#html\"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(\"ar\"==goog.LOCALE.substring(0,2).toLowerCase()||\"fa\"==goog.LOCALE.substring(0,2).toLowerCase()||\"he\"==goog.LOCALE.substring(0,2).toLowerCase()||\"iw\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ps\"==goog.LOCALE.substring(0,2).toLowerCase()||\"sd\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ug\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ur\"==goog.LOCALE.substring(0,2).toLowerCase()||\"yi\"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||\"-\"==goog.LOCALE.substring(2,3)||\"_\"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&\"ckb\"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||\"-\"==goog.LOCALE.substring(3,4)||\"_\"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&(\"-\"==goog.LOCALE.substring(2,3)||\"_\"==goog.LOCALE.substring(2,3))&&(\"adlm\"==goog.LOCALE.substring(3,7).toLowerCase()||\"arab\"==goog.LOCALE.substring(3,7).toLowerCase()||\"hebr\"==goog.LOCALE.substring(3,7).toLowerCase()||\"nkoo\"==goog.LOCALE.substring(3,7).toLowerCase()||\"rohg\"==goog.LOCALE.substring(3,7).toLowerCase()||\"thaa\"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&(\"-\"==goog.LOCALE.substring(3,4)||\"_\"==goog.LOCALE.substring(3,4))&&(\"adlm\"==goog.LOCALE.substring(4,8).toLowerCase()||\"arab\"==goog.LOCALE.substring(4,8).toLowerCase()||\"hebr\"==goog.LOCALE.substring(4,8).toLowerCase()||\"nkoo\"==goog.LOCALE.substring(4,8).toLowerCase()||\"rohg\"==goog.LOCALE.substring(4,8).toLowerCase()||\"thaa\"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:\"\u202a\",RLE:\"\u202b\",PDF:\"\u202c\",LRM:\"\u200e\",RLM:\"\u200f\"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT=\"right\",goog.i18n.bidi.LEFT=\"left\",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return\"number\"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_=\"A-Za-zÀ-ÖØ-öø-ʸ̀-\u0590ऀ-\u1fff\u200eⰀ-\\ud801\\ud804-\\ud839\\ud83c-\\udbff豈-\ufb1c︀-\ufe6f\ufefd-\uffff\",goog.i18n.bidi.rtlChars_=\"֑-ۯۺ-ࣿ\u200f\\ud802-\\ud803\\ud83a-\\ud83bיִ-\ufdffﹰ-ﻼ\",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,\"\"):e},goog.i18n.bidi.rtlCharReg_=new RegExp(\"[\"+goog.i18n.bidi.rtlChars_+\"]\"),goog.i18n.bidi.ltrCharReg_=new RegExp(\"[\"+goog.i18n.bidi.ltrChars_+\"]\"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp(\"^[\"+goog.i18n.bidi.ltrChars_+\"]\"),goog.i18n.bidi.rtlRe_=new RegExp(\"^[\"+goog.i18n.bidi.rtlChars_+\"]\"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp(\"^[^\"+goog.i18n.bidi.rtlChars_+\"]*[\"+goog.i18n.bidi.ltrChars_+\"]\"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp(\"^[^\"+goog.i18n.bidi.ltrChars_+\"]*[\"+goog.i18n.bidi.rtlChars_+\"]\"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\\/\\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp(\"[\"+goog.i18n.bidi.ltrChars_+\"][^\"+goog.i18n.bidi.rtlChars_+\"]*$\"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp(\"[\"+goog.i18n.bidi.rtlChars_+\"][^\"+goog.i18n.bidi.ltrChars_+\"]*$\"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+\"$&\"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return\"<\"==e.charAt(0)?e.replace(/<\\w+/,\"$& dir=rtl\"):\"\\n<span dir=rtl>\"+e+\"</span>\"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return\"<\"==e.charAt(0)?e.replace(/<\\w+/,\"$& dir=ltr\"):\"\\n<span dir=ltr>\"+e+\"</span>\"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,\":$1 $4 $3 $2\").replace(goog.i18n.bidi.leftRe_,\"%%%%\").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\\u0591-\\u05f2])\"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\\u0591-\\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,\"$1״\").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,\"$1׳\")},goog.i18n.bidi.wordSeparatorRe_=/\\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\\d\\u06f0-\\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,o=0,i=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var n=e[t];goog.i18n.bidi.startsWithRtl(n)?(r++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(n)?i=!0:goog.i18n.bidi.hasAnyLtr(n)?o++:goog.i18n.bidi.hasNumeralsRe_.test(n)&&(i=!0)}return 0==o?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?\"rtl\":\"ltr\")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir=\"ltr\";break;case goog.i18n.bidi.Dir.RTL:e.dir=\"rtl\";break;default:e.removeAttribute(\"dir\")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=\"\",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),o=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||\"\";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_(\"?\",r[2]||\"\",e)+goog.html.TrustedResourceUrl.stringifyParams_(\"#\",o,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+\"}\"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:TrustedResourceUrl\")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error(\"Invalid TrustedResourceUrl format: \"+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error('Found marker, \"'+o+'\", in format string, \"'+r+'\", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[o])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(e+\"\")})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|\\/[^/\\\\]|[^:/\\\\%]+\\/|[^:/\\\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,o)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t=\"\",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):\"\";for(var o in r){var i=r[o];i=goog.isArray(i)?i:[i];for(var n,s=0;s<i.length;s++)null!=(n=i[s])&&(t||(t=e),t+=(t.length>e.length?\"&\":\"\")+encodeURIComponent(o)+\"=\"+encodeURIComponent(n+\"\"))}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=\"\",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING=\"about:invalid#zClosurez\",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return\"SafeUrl{\"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+\"}\"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail(\"expected object of type SafeUrl, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:SafeUrl\")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\\/csv|video\\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\\w+=(?:\\w+|\"[\\w;=]+\"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,\"\")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,\"tel:\")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,\"fb-messenger://share\")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,\"whatsapp://send\")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,\"sms:\")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf(\"#\");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,\"ssh://\")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=\"object\"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():e+\"\",goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e=\"object\"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():e+\"\",t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),\"%s does not match the safe URL pattern\",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=\"\",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,\";\"),\"Last character of style string is not ';': \"+e),goog.asserts.assert(goog.string.internal.contains(e,\":\"),\"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \"+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return\"SafeStyle{\"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+\"}\"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail(\"expected object of type SafeStyle, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:SafeStyle\")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\"),goog.html.SafeStyle.INNOCUOUS_STRING=\"zClosurez\",goog.html.SafeStyle.create=function(e){var t,r=\"\";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error(\"Name allows only [-_a-zA-Z0-9], got: \"+t);var o=e[t];null!=o&&(r+=t+\":\"+(o=goog.isArray(o)?goog.array.map(o,goog.html.SafeStyle.sanitizePropertyValue_).join(\" \"):goog.html.SafeStyle.sanitizePropertyValue_(o))+\";\")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url(\"'+goog.html.SafeUrl.unwrap(e).replace(/</g,\"%3c\").replace(/[\\\\\"]/g,\"\\\\$&\")+'\")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(e+\"\"),/[{;}]/.test(e))throw new goog.asserts.AssertionError(\"Value does not allow [{;}], got: %s.\",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,\"$1\").replace(goog.html.SafeStyle.FUNCTIONS_RE_,\"$1\").replace(goog.html.SafeStyle.URL_RE_,\"url\");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail(\"String value disallows comments, got: \"+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \"+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail(\"String value requires balanced quotes, got: \"+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail(\"String value allows only \"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+\" and simple functions, got: \"+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t,r=!0,o=!0,i=0;i<e.length;i++)\"'\"==(t=e.charAt(i))&&o?r=!r:'\"'==t&&r&&(o=!o);return r&&o},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t,r=!0,o=/^[-_a-zA-Z0-9]$/,i=0;i<e.length;i++)if(\"]\"==(t=e.charAt(i))){if(r)return!1;r=!0}else if(\"[\"==t){if(!r)return!1;r=!1}else if(!r&&!o.test(t))return!1;return r},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=\"[-,.\\\"'%_!# a-zA-Z0-9\\\\[\\\\]]\",goog.html.SafeStyle.VALUE_RE_=new RegExp(\"^\"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+\"+$\"),goog.html.SafeStyle.URL_RE_=/\\b(url\\([ \\t\\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \\t\\n]*\\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-+*/0-9a-z.%\\[\\], ]+\\)/g,goog.html.SafeStyle.COMMENT_RE_=/\\/\\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,o){var i=\"\";return r=r.replace(/^(['\"])(.*)\\1$/,(function(e,t,r){return i=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+i+e+i+o}))},goog.html.SafeStyle.concat=function(){var e=\"\",t=function(r){goog.isArray(r)?goog.array.forEach(r,t):e+=goog.html.SafeStyle.unwrap(r)};return goog.array.forEach(arguments,t),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=\"\",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(goog.html.SafeScript.stringify_(arguments[r]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"(\"+goog.string.Const.unwrap(e)+\")(\"+t.join(\", \")+\");\")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return\"SafeScript{\"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+\"}\"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail(\"expected object of type SafeScript, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:SafeScript\")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,\"\\\\x3c\")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\"),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var o in e)t.call(r,e[o],o,e)},goog.object.filter=function(e,t,r){var o,i={};for(o in e)t.call(r,e[o],o,e)&&(i[o]=e[o]);return i},goog.object.map=function(e,t,r){var o,i={};for(o in e)i[o]=t.call(r,e[o],o,e);return i},goog.object.some=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,r){for(var o in e)if(!t.call(r,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],o=0;for(t in e)r[o++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],o=0;for(t in e)r[o++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),o=r?t:arguments;for(r=r?0:1;r<o.length;r++){if(null==e)return;e=e[o[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return o},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key \"'+t+'\"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if(\"object\"==t||\"array\"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t=\"array\"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],goog.object.extend=function(e){for(var t,r,o=1;o<arguments.length;o++){for(t in r=arguments[o])e[t]=r[t];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)t=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}},goog.object.create=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error(\"Uneven number of arguments\");for(var t={},r=0;r<e;r+=2)t[arguments[r]]=arguments[r+1];return t},goog.object.createSet=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},r=0;r<e;r++)t[arguments[r]]=!0;return t},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++)o[i[n]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=\"\",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,\"<\"))throw Error(\"Selector does not allow '<', got: \"+e);var r=e.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g,\"\");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(r))throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \"+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error(\"() and [] in selector must be balanced, got: \"+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+\"{\"+goog.html.SafeStyle.unwrap(t).replace(/</g,\"\\\\3C \")+\"}\",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t,r={\"(\":\")\",\"[\":\"]\"},o=[],i=0;i<e.length;i++)if(r[t=e[i]])o.push(r[t]);else if(goog.object.contains(r,t)&&o.pop()!=t)return!1;return 0==o.length},goog.html.SafeStyleSheet.concat=function(){var e=\"\",t=function(r){goog.isArray(r)?goog.array.forEach(r,t):e+=goog.html.SafeStyleSheet.unwrap(r)};return goog.array.forEach(arguments,t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,\"<\"),\"Forbidden '<' character in style sheet string: \"+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return\"SafeStyleSheet{\"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+\"}\"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail(\"expected object of type SafeStyleSheet, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:SafeStyleSheet\")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName(\"A\"),goog.dom.TagName.ABBR=new goog.dom.TagName(\"ABBR\"),goog.dom.TagName.ACRONYM=new goog.dom.TagName(\"ACRONYM\"),goog.dom.TagName.ADDRESS=new goog.dom.TagName(\"ADDRESS\"),goog.dom.TagName.APPLET=new goog.dom.TagName(\"APPLET\"),goog.dom.TagName.AREA=new goog.dom.TagName(\"AREA\"),goog.dom.TagName.ARTICLE=new goog.dom.TagName(\"ARTICLE\"),goog.dom.TagName.ASIDE=new goog.dom.TagName(\"ASIDE\"),goog.dom.TagName.AUDIO=new goog.dom.TagName(\"AUDIO\"),goog.dom.TagName.B=new goog.dom.TagName(\"B\"),goog.dom.TagName.BASE=new goog.dom.TagName(\"BASE\"),goog.dom.TagName.BASEFONT=new goog.dom.TagName(\"BASEFONT\"),goog.dom.TagName.BDI=new goog.dom.TagName(\"BDI\"),goog.dom.TagName.BDO=new goog.dom.TagName(\"BDO\"),goog.dom.TagName.BIG=new goog.dom.TagName(\"BIG\"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName(\"BLOCKQUOTE\"),goog.dom.TagName.BODY=new goog.dom.TagName(\"BODY\"),goog.dom.TagName.BR=new goog.dom.TagName(\"BR\"),goog.dom.TagName.BUTTON=new goog.dom.TagName(\"BUTTON\"),goog.dom.TagName.CANVAS=new goog.dom.TagName(\"CANVAS\"),goog.dom.TagName.CAPTION=new goog.dom.TagName(\"CAPTION\"),goog.dom.TagName.CENTER=new goog.dom.TagName(\"CENTER\"),goog.dom.TagName.CITE=new goog.dom.TagName(\"CITE\"),goog.dom.TagName.CODE=new goog.dom.TagName(\"CODE\"),goog.dom.TagName.COL=new goog.dom.TagName(\"COL\"),goog.dom.TagName.COLGROUP=new goog.dom.TagName(\"COLGROUP\"),goog.dom.TagName.COMMAND=new goog.dom.TagName(\"COMMAND\"),goog.dom.TagName.DATA=new goog.dom.TagName(\"DATA\"),goog.dom.TagName.DATALIST=new goog.dom.TagName(\"DATALIST\"),goog.dom.TagName.DD=new goog.dom.TagName(\"DD\"),goog.dom.TagName.DEL=new goog.dom.TagName(\"DEL\"),goog.dom.TagName.DETAILS=new goog.dom.TagName(\"DETAILS\"),goog.dom.TagName.DFN=new goog.dom.TagName(\"DFN\"),goog.dom.TagName.DIALOG=new goog.dom.TagName(\"DIALOG\"),goog.dom.TagName.DIR=new goog.dom.TagName(\"DIR\"),goog.dom.TagName.DIV=new goog.dom.TagName(\"DIV\"),goog.dom.TagName.DL=new goog.dom.TagName(\"DL\"),goog.dom.TagName.DT=new goog.dom.TagName(\"DT\"),goog.dom.TagName.EM=new goog.dom.TagName(\"EM\"),goog.dom.TagName.EMBED=new goog.dom.TagName(\"EMBED\"),goog.dom.TagName.FIELDSET=new goog.dom.TagName(\"FIELDSET\"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName(\"FIGCAPTION\"),goog.dom.TagName.FIGURE=new goog.dom.TagName(\"FIGURE\"),goog.dom.TagName.FONT=new goog.dom.TagName(\"FONT\"),goog.dom.TagName.FOOTER=new goog.dom.TagName(\"FOOTER\"),goog.dom.TagName.FORM=new goog.dom.TagName(\"FORM\"),goog.dom.TagName.FRAME=new goog.dom.TagName(\"FRAME\"),goog.dom.TagName.FRAMESET=new goog.dom.TagName(\"FRAMESET\"),goog.dom.TagName.H1=new goog.dom.TagName(\"H1\"),goog.dom.TagName.H2=new goog.dom.TagName(\"H2\"),goog.dom.TagName.H3=new goog.dom.TagName(\"H3\"),goog.dom.TagName.H4=new goog.dom.TagName(\"H4\"),goog.dom.TagName.H5=new goog.dom.TagName(\"H5\"),goog.dom.TagName.H6=new goog.dom.TagName(\"H6\"),goog.dom.TagName.HEAD=new goog.dom.TagName(\"HEAD\"),goog.dom.TagName.HEADER=new goog.dom.TagName(\"HEADER\"),goog.dom.TagName.HGROUP=new goog.dom.TagName(\"HGROUP\"),goog.dom.TagName.HR=new goog.dom.TagName(\"HR\"),goog.dom.TagName.HTML=new goog.dom.TagName(\"HTML\"),goog.dom.TagName.I=new goog.dom.TagName(\"I\"),goog.dom.TagName.IFRAME=new goog.dom.TagName(\"IFRAME\"),goog.dom.TagName.IMG=new goog.dom.TagName(\"IMG\"),goog.dom.TagName.INPUT=new goog.dom.TagName(\"INPUT\"),goog.dom.TagName.INS=new goog.dom.TagName(\"INS\"),goog.dom.TagName.ISINDEX=new goog.dom.TagName(\"ISINDEX\"),goog.dom.TagName.KBD=new goog.dom.TagName(\"KBD\"),goog.dom.TagName.KEYGEN=new goog.dom.TagName(\"KEYGEN\"),goog.dom.TagName.LABEL=new goog.dom.TagName(\"LABEL\"),goog.dom.TagName.LEGEND=new goog.dom.TagName(\"LEGEND\"),goog.dom.TagName.LI=new goog.dom.TagName(\"LI\"),goog.dom.TagName.LINK=new goog.dom.TagName(\"LINK\"),goog.dom.TagName.MAIN=new goog.dom.TagName(\"MAIN\"),goog.dom.TagName.MAP=new goog.dom.TagName(\"MAP\"),goog.dom.TagName.MARK=new goog.dom.TagName(\"MARK\"),goog.dom.TagName.MATH=new goog.dom.TagName(\"MATH\"),goog.dom.TagName.MENU=new goog.dom.TagName(\"MENU\"),goog.dom.TagName.MENUITEM=new goog.dom.TagName(\"MENUITEM\"),goog.dom.TagName.META=new goog.dom.TagName(\"META\"),goog.dom.TagName.METER=new goog.dom.TagName(\"METER\"),goog.dom.TagName.NAV=new goog.dom.TagName(\"NAV\"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName(\"NOFRAMES\"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName(\"NOSCRIPT\"),goog.dom.TagName.OBJECT=new goog.dom.TagName(\"OBJECT\"),goog.dom.TagName.OL=new goog.dom.TagName(\"OL\"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName(\"OPTGROUP\"),goog.dom.TagName.OPTION=new goog.dom.TagName(\"OPTION\"),goog.dom.TagName.OUTPUT=new goog.dom.TagName(\"OUTPUT\"),goog.dom.TagName.P=new goog.dom.TagName(\"P\"),goog.dom.TagName.PARAM=new goog.dom.TagName(\"PARAM\"),goog.dom.TagName.PICTURE=new goog.dom.TagName(\"PICTURE\"),goog.dom.TagName.PRE=new goog.dom.TagName(\"PRE\"),goog.dom.TagName.PROGRESS=new goog.dom.TagName(\"PROGRESS\"),goog.dom.TagName.Q=new goog.dom.TagName(\"Q\"),goog.dom.TagName.RP=new goog.dom.TagName(\"RP\"),goog.dom.TagName.RT=new goog.dom.TagName(\"RT\"),goog.dom.TagName.RTC=new goog.dom.TagName(\"RTC\"),goog.dom.TagName.RUBY=new goog.dom.TagName(\"RUBY\"),goog.dom.TagName.S=new goog.dom.TagName(\"S\"),goog.dom.TagName.SAMP=new goog.dom.TagName(\"SAMP\"),goog.dom.TagName.SCRIPT=new goog.dom.TagName(\"SCRIPT\"),goog.dom.TagName.SECTION=new goog.dom.TagName(\"SECTION\"),goog.dom.TagName.SELECT=new goog.dom.TagName(\"SELECT\"),goog.dom.TagName.SMALL=new goog.dom.TagName(\"SMALL\"),goog.dom.TagName.SOURCE=new goog.dom.TagName(\"SOURCE\"),goog.dom.TagName.SPAN=new goog.dom.TagName(\"SPAN\"),goog.dom.TagName.STRIKE=new goog.dom.TagName(\"STRIKE\"),goog.dom.TagName.STRONG=new goog.dom.TagName(\"STRONG\"),goog.dom.TagName.STYLE=new goog.dom.TagName(\"STYLE\"),goog.dom.TagName.SUB=new goog.dom.TagName(\"SUB\"),goog.dom.TagName.SUMMARY=new goog.dom.TagName(\"SUMMARY\"),goog.dom.TagName.SUP=new goog.dom.TagName(\"SUP\"),goog.dom.TagName.SVG=new goog.dom.TagName(\"SVG\"),goog.dom.TagName.TABLE=new goog.dom.TagName(\"TABLE\"),goog.dom.TagName.TBODY=new goog.dom.TagName(\"TBODY\"),goog.dom.TagName.TD=new goog.dom.TagName(\"TD\"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName(\"TEMPLATE\"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName(\"TEXTAREA\"),goog.dom.TagName.TFOOT=new goog.dom.TagName(\"TFOOT\"),goog.dom.TagName.TH=new goog.dom.TagName(\"TH\"),goog.dom.TagName.THEAD=new goog.dom.TagName(\"THEAD\"),goog.dom.TagName.TIME=new goog.dom.TagName(\"TIME\"),goog.dom.TagName.TITLE=new goog.dom.TagName(\"TITLE\"),goog.dom.TagName.TR=new goog.dom.TagName(\"TR\"),goog.dom.TagName.TRACK=new goog.dom.TagName(\"TRACK\"),goog.dom.TagName.TT=new goog.dom.TagName(\"TT\"),goog.dom.TagName.U=new goog.dom.TagName(\"U\"),goog.dom.TagName.UL=new goog.dom.TagName(\"UL\"),goog.dom.TagName.VAR=new goog.dom.TagName(\"VAR\"),goog.dom.TagName.VIDEO=new goog.dom.TagName(\"VIDEO\"),goog.dom.TagName.WBR=new goog.dom.TagName(\"WBR\"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:\"\"},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\\w[\\w ]+)\\/([^\\s]+)\\s*(?:\\((.*?)\\))?/g,o=[];t=r.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Opera\")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Trident\")||goog.labs.userAgent.util.matchUserAgent(\"MSIE\")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edge\")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edg/\")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent(\"OPR\")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Firefox\")||goog.labs.userAgent.util.matchUserAgent(\"FxiOS\")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Safari\")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent(\"Android\"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Coast\")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent(\"iPad\")||goog.labs.userAgent.util.matchUserAgent(\"iPhone\"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent(\"AppleWebKit\")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent(\"Chrome\")||goog.labs.userAgent.util.matchUserAgent(\"CriOS\"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Android\")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent(\"Silk\")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),r[e]||\"\"}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var o=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e([\"Version\",\"Opera\"]):goog.labs.userAgent.browser.isEdge()?e([\"Edge\"]):goog.labs.userAgent.browser.isEdgeChromium()?e([\"Edg\"]):goog.labs.userAgent.browser.isChrome()?e([\"Chrome\",\"CriOS\"]):(t=t[2])&&t[1]||\"\"},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\\d\\.]*)/.exec(e);if(t&&t[1])return t[1];t=\"\";var r=/MSIE +([\\d\\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\\/(\\d.\\d)/.exec(e),\"7.0\"!=r[1])t=r[1];else if(e&&e[1])switch(e[1]){case\"4.0\":t=\"8.0\";break;case\"5.0\":t=\"9.0\";break;case\"6.0\":t=\"10.0\";break;case\"7.0\":t=\"11.0\"}else t=\"7.0\";return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=\"\",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return\"SafeHtml{\"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+\"}\"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail(\"expected object of type SafeHtml, got '\"+e+\"' of type \"+goog.typeOf(e)),\"type_error:SafeHtml\")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=\"object\"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():e+\"\",goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(e+\"\"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(e+\"\",t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(\"Invalid tag name <\"+e+\">.\");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(\"Tag name <\"+e+\"> is not allowed for SafeHtml.\")},goog.html.SafeHtml.createIframe=function(e,t,r,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:\"\"},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\",e,o)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(\"The browser does not support sandboxed iframes.\");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox=\"\",e=goog.html.SafeHtml.combineAttributes(i,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\",e,o)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&\"sandbox\"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var o=r.toLowerCase();if(\"language\"==o||\"src\"==o||\"text\"==o||\"type\"==o)throw Error('Cannot set \"'+o+'\" attribute')}for(r=\"\",e=goog.array.concat(e),o=0;o<e.length;o++)r+=goog.html.SafeScript.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:\"text/css\"},{},t);var r=\"\";e=goog.array.concat(e);for(var o=0;o<e.length;o++)r+=goog.html.SafeStyleSheet.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,\";\")&&(e=\"'\"+e.replace(/'/g,\"%27\")+\"'\"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\",{\"http-equiv\":\"refresh\",content:(t||0)+\"; url=\"+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if(\"style\"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute \"'+t+'\" requires goog.string.Const value, \"'+r+'\" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute \"'+t+'\" on tag \"'+e+'\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"'+r+'\" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),\"String or number value expected, got \"+typeof r+\" with value: \"+r),t+'=\"'+goog.string.internal.htmlEscape(r+\"\")+'\"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The \"style\" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+\" given: \"+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,o){return(t=goog.html.SafeHtml.create(t,r,o)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),o=[],i=function(e){goog.isArray(e)?goog.array.forEach(e,i):(e=goog.html.SafeHtml.htmlEscape(e),o.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e){var t=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return t.dir_=e,t},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var o=null,i=\"<\"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,\"Void tag <\"+e+\"> does not allow content.\"),i+=\">\"):(o=goog.html.SafeHtml.concat(r),i+=\">\"+goog.html.SafeHtml.unwrap(o)+\"</\"+e+\">\",o=o.getDirection()),(e=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,o)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r=\"\";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error('Invalid attribute name \"'+o+'\".');var i=t[o];goog.isDefAndNotNull(i)&&(r+=\" \"+goog.html.SafeHtml.getAttrNameAndValue_(e,o,i))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var o,i={};for(o in e)goog.asserts.assert(o.toLowerCase()==o,\"Must be lower case\"),i[o]=e[o];for(o in t)goog.asserts.assert(o.toLowerCase()==o,\"Must be lower case\"),i[o]=t[o];for(o in r){var n=o.toLowerCase();if(n in e)throw Error('Cannot override \"'+n+'\" attribute, got \"'+o+'\" with value \"'+r[o]+'\"');n in t&&delete i[n],i[o]=r[o]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),\"must provide justification\"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),\"must provide non-empty justification\"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLAnchorElement\")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLButtonElement\")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLLinkElement\")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLImageElement\")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLAudioElement\")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLVideoElement\")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLInputElement\")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLTextAreaElement\")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLCanvasElement\")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLEmbedElement\")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLFormElement\")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLFrameElement\")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLIFrameElement\")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLObjectElement\")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,\"HTMLScriptElement\")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?\"undefined\":null===e?\"null\":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return\"<object could not be stringified>\"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=Array.prototype.slice.call(arguments);return r.push.apply(r,t),e.apply(this,r)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(){var e=arguments,t=e.length;return function(){var r;t&&(r=e[t-1].apply(this,arguments));for(var o=t-2;0<=o;o--)r=e[o].call(this,r);return r}},goog.functions.sequence=function(){var e=arguments,t=e.length;return function(){for(var r,o=0;o<t;o++)r=e[o].apply(this,arguments);return r}},goog.functions.and=function(){var e=arguments,t=e.length;return function(){for(var r=0;r<t;r++)if(!e[r].apply(this,arguments))return!1;return!0}},goog.functions.or=function(){var e=arguments,t=e.length;return function(){for(var r=0;r<t;r++)if(e[r].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e){var t=function(){};return t.prototype=e.prototype,t=new t,e.apply(t,Array.prototype.slice.call(arguments,1)),t},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var o=0;return function(){goog.global.clearTimeout(o);var i=arguments;o=goog.global.setTimeout((function(){e.apply(r,i)}),t)}},goog.functions.throttle=function(e,t,r){var o=0,i=!1,n=[],s=function(){o=0,i&&(i=!1,a())},a=function(){o=goog.global.setTimeout(s,t),e.apply(r,n)};return function(){n=arguments,o?i=!0:a()}},goog.functions.rateLimit=function(e,t,r){var o=0,i=function(){o=0};return function(){o||(o=goog.global.setTimeout(i,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:\"afterbegin\",AFTEREND:\"afterend\",BEFOREBEGIN:\"beforebegin\",BEFOREEND:\"beforeend\"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&\"undefined\"==typeof document)return!1;var e=document.createElement(\"div\"),t=document.createElement(\"div\");return t.appendChild(document.createElement(\"div\")),e.appendChild(t),(!goog.DEBUG||e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \"+e.tagName+\".\")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,\"stylesheet\")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute(\"nonce\",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute(\"nonce\",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,o,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):\"\",o,i)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,\"text/html\")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\\/.*/g.test(e.type))throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Image blob URL.\"),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:\"\u00a0\"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e){for(var t=e.split(\"%s\"),r=\"\",o=Array.prototype.slice.call(arguments,1);o.length&&1<t.length;)r+=t.shift()+o.shift();return r+t.join(\"%s\")},goog.string.collapseWhitespace=function(e){return e.replace(/[\\s\\xa0]+/g,\" \").replace(/^\\s+|\\s+$/g,\"\")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\\t\\n\\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return\" \"==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&\" \"<=e&&\"~\">=e||\"\u0080\"<=e&&\"�\">=e},goog.string.stripNewlines=function(e){return e.replace(/(\\r\\n|\\r|\\n)+/g,\" \")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\\r\\n|\\r|\\n)/g,\"\\n\")},goog.string.normalizeWhitespace=function(e){return e.replace(/\\xa0|\\s/g,\" \")},goog.string.normalizeSpaces=function(e){return e.replace(/\\xa0|[ \\t]+/g,\" \")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\\t\\r\\n ]+/g,\" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g,\"\")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\\s\\xa0]+/,\"\")},goog.string.trimRight=function(e){return e.replace(/[\\s\\xa0]+$/,\"\")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(r),i=t.toLowerCase().match(r),n=_Mathmin4(o.length,i.length),s=0;s<n;s++){r=o[s];var a=i[s];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return o.length==i.length?e<t?-1:1:o.length-i.length},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\\d+|\\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\\d+|\\.\\d+|\\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(e+\"\")},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\\+/g,\" \"))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,\"&#101;\")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,\"&\")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&\"document\"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,\"&\")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"'},o=t?t.createElement(\"div\"):goog.global.document.createElement(\"div\");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var i=r[e];return i||(\"#\"==t.charAt(0)&&(t=+(\"0\"+t.substr(1)),isNaN(t)||(i=_StringfromCharCode5(t))),i||(goog.dom.safe.setInnerHtml(o,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"),e+\" \")),i=o.firstChild.nodeValue.slice(0,-1)),r[e]=i)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){return\"amp\"===t?\"&\":\"lt\"===t?\"<\":\"gt\"===t?\">\":\"quot\"===t?'\"':\"#\"!=t.charAt(0)||(t=+(\"0\"+t.substr(1)),isNaN(t))?e:_StringfromCharCode5(t)}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g,\" &#160;\"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\\n ]) /g,\"$1\"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r,o=t.length,i=0;i<o;i++)if(r=1==o?t:t.charAt(i),e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1);return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+\"...\"),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,o){if(r&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var i=e.length-o;e=e.substring(0,t-o)+\"...\"+e.substring(i)}else e.length>t&&(o=_Mathfloor5(t/2),i=e.length-o,e=e.substring(0,o+t%2)+\"...\"+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={\"\\0\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\v\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"\\\\u003C\"},goog.string.jsEscapeCache_={\"'\":\"\\\\'\"},goog.string.quote=function(e){e+=\"\";for(var t=['\"'],r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[o]||(31<i&&127>i?o:goog.string.escapeChar(o))}return t.push('\"'),t.join(\"\")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join(\"\")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r=\"\\\\x\",(16>t||256<t)&&(r+=\"0\")):(r=\"\\\\u\",4096>t&&(r+=\"0\")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var o=e;return 0<=t&&t<e.length&&0<r&&(o=e.substr(0,t)+e.substr(t+r,e.length-t-r)),o},goog.string.remove=function(e,t){return e.replace(t,\"\")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),\"g\"),e.replace(t,\"\")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),\"g\"),e.replace(t,r.replace(/\\$/g,\"$$$$\"))},goog.string.regExpEscape=function(e){return(e+\"\").replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,\"\\\\$1\").replace(/\\x08/g,\"\\\\x08\")},goog.string.repeat=_Stringprototype2.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):e+\"\").indexOf(\".\"))&&(r=e.length),goog.string.repeat(\"0\",_Mathmax5(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?\"\":e+\"\"},goog.string.buildString=function(){return Array.prototype.join.call(arguments,\"\")},goog.string.getRandomString=function(){return _Mathfloor5(2147483648*Math.random()).toString(36)+_Mathabs3(_Mathfloor5(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=0|2147483648*Math.random(),goog.string.createUniqueString=function(){return\"goog_\"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=+e;return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return(e+\"\").replace(/\\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return(e+\"\").replace(/([A-Z])/g,\"-$1\").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):\"\\\\s\",e.replace(new RegExp(\"(^\"+(t?\"|[\"+t+\"]+\":\"\")+\")([a-z])\",\"g\"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return(e.charAt(0)+\"\").toUpperCase()+(e.substr(1)+\"\").toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e+=\"\"),goog.isString(e)?/^\\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var o=[];0<r&&e.length;)o.push(e.shift()),r--;return e.length&&o.push(e.join(t)),o},goog.string.lastComponent=function(e,t){if(!t)return e;\"string\"==typeof t&&(t=[t]);for(var r=-1,o=0;o<t.length;o++)if(\"\"!=t[o]){var i=e.lastIndexOf(t[o]);i>r&&(r=i)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return _Mathmax5(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){o[0]=i+1;for(var n=0;n<t.length;n++)o[n+1]=_Mathmin4(o[n]+1,r[n+1]+1,r[n]+ +(e[i]!=t[n]));for(n=0;n<r.length;n++)r[n]=o[n]}return o[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent(\"Android\")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPod\")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPhone\")&&!goog.labs.userAgent.util.matchUserAgent(\"iPod\")&&!goog.labs.userAgent.util.matchUserAgent(\"iPad\")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPad\")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent(\"Macintosh\")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent(\"Linux\")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent(\"Windows\")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent(\"CrOS\")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent(\"CrKey\")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"KaiOS\")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"GAFP\")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t=\"\";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:\"0.0\":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/).exec(e))&&e[1].replace(/_/g,\".\"):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,\".\"):\"10\":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\\/(\\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\\s+([^\\);]+)(\\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/).exec(e))&&e[1]),t||\"\"},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[\" \"](e),e},goog.reflect.sinkValue[\" \"]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent(\"Presto\")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent(\"Trident\")||goog.labs.userAgent.util.matchUserAgent(\"MSIE\")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edge\")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"WebKit\")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent(\"Gecko\")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return\"Gecko\"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,\"Firefox\"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\\/([^\\s;]+)/.exec(t)))return t[1]}return\"\"},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t,r=0;r<e.length;r++)if(\"Edge\"==(t=e[r])[0])return t},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||\"\"},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent(\"Mobile\")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||\"\"},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||\"\",\"X11\")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e=\"\",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:\"\"),goog.userAgent.IE&&(null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e))?t+\"\":e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\\);]+)(\\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\\/([\\d\\.]+)/.exec(e):goog.userAgent.IE?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\\/(\\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \\/]?(\\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return+goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+\"+/=\",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+\"-_.\",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_=\"=.\",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||\"function\"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&\"function\"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),\"encodeByteArray takes an array as a parameter\"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],o=0;o<e.length;o+=3){var i=e[o],n=o+1<e.length,s=n?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=i>>2;i=(3&i)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,a||(l=64,n||(s=64)),r.push(t[c],t[i],t[s]||\"\",t[l]||\"\")}return r.join(\"\")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r=\"\";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=_StringfromCharCode5(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e){var t=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){t.push(e)})),t},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher(\"10\"),\"Browser does not support typed arrays\");var t=e.length,r=3*t/4;r%3?r=_Mathfloor5(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var o=new Uint8Array(r),i=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){o[i++]=e})),o.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;o<e.length;){var r=e.charAt(o++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error(\"Unknown base64 encoding at char: \"+r)}return t}goog.crypt.base64.init_();for(var o=0;;){var i=r(-1),n=r(0),s=r(64),a=r(64);if(64===a&&-1===i)break;t(i<<2|n>>4),64!=s&&(t(240&n<<4|s>>2),64!=a&&t(192&s<<6|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e,t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(\"\"),r=[\"+/=\",\"+/\",\"-_=\",\"-_.\",\"-_\"],o=0;5>o;o++){e=t.concat(r[o].split(\"\")),goog.crypt.base64.byteToCharMaps_[o]=e;for(var i=0;i<e.length;i++){var n=e[i],s=goog.crypt.base64.charToByteMap_[n];void 0===s?goog.crypt.base64.charToByteMap_[n]=i:goog.asserts.assert(s===i)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=_Mathfloor5((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=_Mathabs3(e))>>>0;e=_Mathfloor5((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*_Mathabs3(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(2139095040|t<<31)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=_Mathround4(e/1401298464324817e-60),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=_Mathfloor5(Math.log(e)/Math.LN2);e*=_Mathpow(2,-r),e=8388607&_Mathround4(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(2146435072|t<<31)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/5e-324;e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var o=0;if(2<=(r=e))for(;2<=r&&1023>o;)o++,r/=2;else for(;1>r&&-1022<o;)r*=2,o--;e=1048575&(r=e*_Mathpow(2,-o))*jspb.BinaryConstants.TWO_TO_20,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),i=e.charCodeAt(3),n=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(o<<16)+(i<<24)>>>0,jspb.utils.split64High=n+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var o=t>>31;return r(e<<1^o,(t<<1|e>>>31)^o)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var o=-(1&e);return r((e>>>1|t<<31)^o,t>>>1^o)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=255&e>>>23;return e&=8388607,255==r?e?NaN:1/0*t:0==r?1401298464324817e-60*t*e:t*_Mathpow(2,r-150)*(e+8388608)},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,o=2047&t>>>20;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==o?e?NaN:1/0*r:0==o?5e-324*r*e:r*_Mathpow(2,o-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return _StringfromCharCode5(255&e>>>0,255&e>>>8,255&e>>>16,255&e>>>24,255&t>>>0,255&t>>>8,255&t>>>16,255&t>>>24)},jspb.utils.DIGITS=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"],jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?e+\"\":\"\",t?\"0000000\".slice(e.length)+e:e}if(2097151>=t)return\"\"+(jspb.BinaryConstants.TWO_TO_32*t+e);var o=16777215&(e>>>24|t<<8)>>>0;return e=(16777215&e)+6777216*o+6710656*(t=65535&t>>16),o+=8147497*t,t*=2,1e7<=e&&(o+=_Mathfloor5(e/1e7),e%=1e7),1e7<=o&&(t+=_Mathfloor5(o/1e7),o%=1e7),r(t,0)+r(o,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?\"-\"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=jspb.utils.hash64ToDecimalString(e[o],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*o[r]+t,o[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;\"-\"===e[0]&&(r=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)o[e]=255&~o[e]}(),t(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return _StringfromCharCode5(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]=\"0\",t[1]=\"x\";for(var r,o=0;8>o;o++)r=e.charCodeAt(7-o),t[2*o+2]=jspb.utils.toHexDigit_(r>>4),t[2*o+3]=jspb.utils.toHexDigit_(15&r);return t.join(\"\")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert(\"0\"==e[0]),goog.asserts.assert(\"x\"==e[1]);for(var t=\"\",r=0;8>r;r++){var o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),i=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=_StringfromCharCode5(16*o+i)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var o=0,i=t;i<r;i++)o+=e[i]>>7;return r-t-o},jspb.utils.countVarintFields=function(e,t,r,o){var i=0;if(128>(o=8*o+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==o;)for(i++;;){var n=e[t++];if(0==(128&n))break}else for(;t<r;){for(n=o;128<n;){if(e[t]!=(128|127&n))return i;t++,n>>=7}if(e[t++]!=n)break;for(i++;0!=(128&(n=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,o,i){var n=0;if(128>o)for(;t<r&&e[t++]==o;)n++,t+=i;else for(;t<r;){for(var s=o;128<s;){if(e[t++]!=(128|127&s))return n;s>>=7}if(e[t++]!=s)break;n++,t+=i}return n},jspb.utils.countFixed32Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,o){var i=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var n=o;128<n;){if(e[t++]!=(128|127&n))return i;n>>=7}if(e[t++]!=n)break;i++;for(var s=0,a=1;s+=(127&(n=e[t++]))*a,a*=128,0!=(128&n););t+=s}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='\"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+=\"\\\\x\",16>e[r]&&(t+=\"0\"),t+=e[r].toString(16)}return t+'\"'},jspb.utils.debugScalarToTextFormat=function(e){return\"string\"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t,r=new Uint8Array(e.length),o=0;o<e.length;o++){if(255<(t=e.charCodeAt(o)))throw Error(\"Conversion error: string contains codepoint outside of byte range\");r[o]=t}return r},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail(\"Type not convertible to Uint8Array.\"),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,r),o}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0===t?0:t,this.end_=void 0===r?this.bytes_.length:this.start_+r,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,o=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,o|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)o|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;return 128>t?e(r>>>0,o>>>0):(goog.asserts.fail(\"Failed to read varint, encoding is invalid.\"),void(this.error_=!0))},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var o=0,i=0,n=r+7;n>=r;n--)o=o<<8|t[n],i=i<<8|t[n+4];return e(o,i)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|o<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|o<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var o,i=[],n=\"\";r<e;){if(128>(o=t[r++]))i.push(o);else{if(192>o)continue;if(224>o){var s=t[r++];i.push((31&o)<<6|63&s)}else if(240>o){s=t[r++];var a=t[r++];i.push((15&o)<<12|(63&s)<<6|63&a)}else if(248>o){o=(7&o)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],o-=65536,i.push(55296+(1023&o>>10),56320+(1023&o))}}8192<=i.length&&(n+=_StringfromCharCode5.apply(null,i),i.length=0)}return n+=goog.crypt.byteArrayToString(i),this.cursor_=r,n},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail(\"Invalid byte length!\"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],o=e[t+1],i=e[t+2],n=e[t+3],s=e[t+4],a=e[t+5],l=e[t+6];return e=e[t+7],this.cursor_+=8,_StringfromCharCode5(r,o,i,n,s,a,l,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,r),o}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail(\"Decoder hit an error\"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail(\"Invalid wire type: %s (at position %s)\",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_==jspb.BinaryConstants.WireType.VARINT?this.decoder_.skipVarint():(goog.asserts.fail(\"Invalid wire type for skipVarintField\"),this.skipField())},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail(\"Invalid wire type for skipDelimitedField\"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32?this.decoder_.advance(4):(goog.asserts.fail(\"Invalid wire type for skipFixed32Field\"),this.skipField())},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64?this.decoder_.advance(8):(goog.asserts.fail(\"Invalid wire type for skipFixed64Field\"),this.skipField())},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail(\"Unmatched start-group tag: stream EOF\"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail(\"Unmatched end-group tag\"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail(\"Invalid wire encoding for field.\")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail(\"Group field type not supported in readAny()\");case t.MESSAGE:goog.asserts.fail(\"Message field type not supported in readAny()\");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail(\"Invalid field type in readAny()\")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail(\"Group submessage did not end with an END_GROUP tag\"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var o=this.map_[t[e]];(r=o.valueWrapper)&&r.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r,o=this.toArray(),i=[],n=0;n<o.length;n++){r=this.map_[o[n][0].toString()],this.wrapEntry_(r);var s=r.valueWrapper;s?(goog.asserts.assert(t),i.push([r.key,t(e,s)])):i.push([r.key,r.value])}return i},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var i=e[o][0],n=r(e[o][1]);t.set(i,n)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},\"undefined\"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r,o=0;o<t.length;o++)r=this.map_[t[o]],e.push([r.key,r.value]);return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r,o=0;o<t.length;o++)r=this.map_[t[o]],e.push([r.key,this.wrapEntry_(r)]);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var o,i=0;i<r.length;i++)o=this.map_[r[i]],e.call(t,this.wrapEntry_(o),o.key,this)},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,o,i){var n=this.stringKeys_();n.sort();for(var s,a=0;a<n.length;a++)s=this.map_[n[a]],t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(s),i):o.call(t,2,s.value),t.endSubMessage()},jspb.Map.deserializeBinary=function(e,t,r,o,i,n,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?n=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(i),s||(s=new e.valueCtor_),o.call(t,s,i)):s=o.call(t))}goog.asserts.assert(null!=n),goog.asserts.assert(null!=s),e.set(n,s)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,o,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=o,this.isRepeated=i},jspb.ExtensionFieldBinaryInfo=function(e,t,r,o,i,n){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=i,this.isPacked=n},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=\"function\"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,o,i,n){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?r+\"\":void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)(r=i[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(n&&n.length)for(t=0;t<n.length;t++)jspb.Message.computeOneofCase(e,n[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||\"object\"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,o=-1;return r&&(o=r-1,r=e.array[o],jspb.Message.isExtensionObject_(r))?(e.pivot_=jspb.Message.getFieldNumber_(e,o),void(e.extensionObject_=r)):void(-1<t?(e.pivot_=_Mathmax5(t,jspb.Message.getFieldNumber_(e,o+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE)},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var o=[],i=0;i<e.length;i++)o[i]=t.call(e[i],r,e[i]);return o},jspb.Message.toObjectExtension=function(e,t,r,o,i){for(var n in r){var s=r[n],a=o.call(e,s);if(null!=a){for(var l in s.fieldName)if(s.fieldName.hasOwnProperty(l))break;t[l]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,i):s.toObjectFn(i,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,o){for(var i in r){var n=r[i],s=n.fieldInfo;if(!n.binaryWriterFn)throw Error(\"Message extension present that was generated without binary serialization support\");var a=o.call(e,s);if(null!=a)if(s.isMessageType()){if(!n.binaryMessageSerializeFn)throw Error(\"Message extension present holding submessage without binary support enabled, and message is being serialized to binary format\");n.binaryWriterFn.call(t,s.fieldIndex,a,n.binaryMessageSerializeFn)}else n.binaryWriterFn.call(t,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,o,i){var n=r[t.getFieldNumber()];if(n){if(r=n.fieldInfo,!n.binaryReaderFn)throw Error(\"Deserializing extension whose generated code does not support binary format\");if(r.isMessageType()){var s=new r.ctor;n.binaryReaderFn.call(t,s,n.binaryMessageDeserializeFn)}else s=n.binaryReaderFn.call(t);r.isRepeated&&!n.isPacked?(t=o.call(e,r))?t.push(s):i.call(e,r,[s]):i.call(e,r,s)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}return e.extensionObject_?(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r:void 0},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=+r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=!!r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||\"string\"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail(\"Cannot coerce to b64 string: \"+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:\"string\"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail(\"Cannot coerce to Uint8Array: \"+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&\"string\"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail(\"Inconsistent type in JSPB repeated field array. Got \"+goog.typeOf(e)+\" expected \"+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,o)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,\"\")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,\"\")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,\"0\")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),r===o?e.array[jspb.Message.getIndex_(e,t)]=null:jspb.Message.setField(e,t,r),e},jspb.Message.addToRepeatedField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null==o?t.push(r):t.splice(o,0,r),e},jspb.Message.setOneofField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==o&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,o)},jspb.Message.computeOneofCase=function(e,t){for(var r,o,i=0;i<t.length;i++){var n=t[i],s=jspb.Message.getField(e,n);null!=s&&(r=n,o=s,jspb.Message.setField(e,n,void 0))}return r?(jspb.Message.setField(e,r,o),r):0},jspb.Message.getWrapperField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(o||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var o=jspb.Message.getRepeatedField(e,r),i=[],n=0;n<o.length;n++)i[n]=new t(o[n]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.setOneofWrapperField=function(e,t,r,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=o?o.toArray():o;return e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,r,i)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var o=[],i=0;i<r.length;i++)o[i]=r[i].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,o,i){jspb.Message.wrapRepeatedField_(e,o,t);var n=e.wrappers_[t];return n||(n=e.wrappers_[t]=[]),r=r||new o,e=jspb.Message.getRepeatedField(e,t),null==i?(n.push(r),e.push(r.toArray())):(n.splice(i,0,r),e.splice(i,0,r.toArray())),r},jspb.Message.toMap=function(e,t,r,o){for(var i={},n=0;n<e.length;n++)i[t.call(e[n])]=r?r.call(e[n],o,e[n]):e[n];return i},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error(\"Messages have different types.\");var r=e.toArray();t=t.toArray();var o=[],i=0,n=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),i=1);i<n;i++)jspb.Message.compareFields(r[i],t[i])||(o[i]=t[i]);return new e.constructor(o)},jspb.Message.equals=function(e,t){return e==t||e&&t&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,o={};for(r in e)o[r]=0;for(r in t)o[r]=0;for(r in o)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!(\"number\"==typeof e&&isNaN(e)||\"number\"==typeof t&&isNaN(t))&&e+\"\"==t+\"\";if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var o,i,n=_Mathmax5(e.length,t.length);for(r=0;r<n;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===e.length-1),o=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(r===t.length-1),i=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!(o||i)||(o=o||{},i=i||{},jspb.Message.compareExtensions(o,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error(\"Invalid type in JSPB array\")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,\"Copy source and target message should have the same type.\"),e=jspb.Message.clone(e);for(var r=t.toArray(),o=e.toArray(),i=r.length=0;i<o.length;i++)r[i]=o[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(goog.isArray(e)){for(var t,r=Array(e.length),o=0;o<e.length;o++)null!=(t=e[o])&&(r[o]=\"object\"==typeof t?jspb.Message.clone_(goog.asserts.assert(t)):t);return r}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(o in r={},e)null!=(t=e[o])&&(r[o]=\"object\"==typeof t?jspb.Message.clone_(goog.asserts.assert(t)):t);return r},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((4294967295&this.lo+e.lo)>>>0>>>0,((4294967295&this.hi+e.hi)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((4294967295&this.lo-e.lo)>>>0>>>0,((4294967295&this.hi-e.hi)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,o=65535&t,i=t>>>16;for(t=r*o+65536*(65535&r*i)+65536*(65535&(e>>>=16)*o),r=e*i+(r*i>>>16)+(e*o>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(r)&&(t=t.add(o),r=r.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e=\"\",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return\"\"==e&&(e=\"0\"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if(\"0\">e[o]||\"9\"<e[o])return null;var i=parseInt(e[o],10);r.lo=i,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((4294967295&this.lo+e.lo)>>>0>>>0,((4294967295&this.hi+e.hi)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((4294967295&this.lo-e.lo)>>>0>>>0,((4294967295&this.hi-e.hi)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?\"-\":\"\")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&\"-\"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(t==_Mathfloor5(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(128|127&e),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(t==_Mathfloor5(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(128|127&e),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(128|127&e),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(255&e>>>0)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(255&e>>>0),this.buffer_.push(255&e>>>8)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(255&e>>>0),this.buffer_.push(255&e>>>8),this.buffer_.push(255&e>>>16),this.buffer_.push(255&e>>>24)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(255&e>>>0)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(255&e>>>0),this.buffer_.push(255&e>>>8)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(255&e>>>0),this.buffer_.push(255&e>>>8),this.buffer_.push(255&e>>>16),this.buffer_.push(255&e>>>24)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(\"boolean\"==typeof e||\"number\"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==_Mathfloor5(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t,r=this.buffer_.length,o=0;o<e.length;o++)if(128>(t=e.charCodeAt(o)))this.buffer_.push(t);else if(2048>t)this.buffer_.push(192|t>>6),this.buffer_.push(128|63&t);else if(65536>t)if(55296<=t&&56319>=t&&o+1<e.length){var i=e.charCodeAt(o+1);56320<=i&&57343>=i&&(t=1024*(t-55296)+i-56320+65536,this.buffer_.push(240|t>>18),this.buffer_.push(128|63&t>>12),this.buffer_.push(128|63&t>>6),this.buffer_.push(128|63&t),o++)}else this.buffer_.push(224|t>>12),this.buffer_.push(128|63&t>>6),this.buffer_.push(128|63&t);return this.buffer_.length-r},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(128|127&t),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e,t=new Uint8Array(this.totalLength_+this.encoder_.length()),r=this.blocks_,o=r.length,i=0,n=0;n<o;n++)e=r[n],t.set(e,i),i+=e.length;return r=this.encoder_.end(),t.set(r,i),i+=r.length,goog.asserts.assert(i==t.length),this.blocks_=[t],t},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==_Mathfloor5(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var o=jspb.BinaryConstants.FieldType;e===o.DOUBLE?this.writeDouble(t,r):e===o.FLOAT?this.writeFloat(t,r):e===o.INT64?this.writeInt64(t,r):e===o.UINT64?this.writeUint64(t,r):e===o.INT32?this.writeInt32(t,r):e===o.FIXED64?this.writeFixed64(t,r):e===o.FIXED32?this.writeFixed32(t,r):e===o.BOOL?this.writeBool(t,r):e===o.STRING?this.writeString(t,r):e===o.GROUP?goog.asserts.fail(\"Group field type not supported in writeAny()\"):e===o.MESSAGE?goog.asserts.fail(\"Message field type not supported in writeAny()\"):e===o.BYTES?this.writeBytes(t,r):e===o.UINT32?this.writeUint32(t,r):e===o.ENUM?this.writeEnum(t,r):e===o.SFIXED32?this.writeSfixed32(t,r):e===o.SFIXED64?this.writeSfixed64(t,r):e===o.SINT32?this.writeSint32(t,r):e===o.SINT64?this.writeSint64(t,r):e===o.FHASH64?this.writeFixedHash64(t,r):e===o.VHASH64?this.writeVarintHash64(t,r):goog.asserts.fail(\"Invalid field type in writeAny()\")},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert(\"boolean\"==typeof t||\"number\"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var o=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,o){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitFixed64(e,r(t[i]),o(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,o){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitVarint64(e,r(t[i]),o(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,o){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitZigzagVarint64(e,r(t[i]),o(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var o,i=0;i<t.length;i++)o=this.beginDelimited_(e),r(t[i],this),this.endDelimited_(o)},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitFixed64(r(t[i]),o(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitVarint64(r(t[i]),o(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var i=this.encoder_,n=0;n<t.length;n++)jspb.utils.toZigzag64(r(t[n]),o(t[n]),(function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r,o=0;o<t.length;o++)r=jspb.arith.Int64.fromString(t[o]),this.encoder_.writeSplitVarint64(r.lo,r.hi);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r,o=0;o<t.length;o++)r=jspb.arith.UInt64.fromString(t[o]),this.encoder_.writeSplitVarint64(r.lo,r.hi);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(0),__webpack_require__(13).Buffer)},function(e,t,r){\"use strict\";var o=Math.pow,i=Math.floor,n=Math.min,s=String.fromCharCode;(function(e){function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t)throw new RangeError(\"Invalid typed array length\");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return g(this,e)}return h(this,e,t,r)}function h(e,t,r,o){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,o){if(t.byteLength,0>r||t.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<r+(o||0))throw new RangeError(\"'length' is out of bounds\");return t=void 0===r&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,r):new Uint8Array(t,r,o),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,r,o):\"string\"==typeof t?function(e,t,r){if((\"string\"!=typeof r||\"\"===r)&&(r=\"utf8\"),!c.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var o=0|d(t,r),i=(e=l(e,o)).write(t,r);return i!==o&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|p(t.length);return 0===(e=l(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||function(e){return e!=e}\n/*!\n * buffer (https://npmjs.com/package/buffer)\n * @license MIT\n * @version 4.9.2\n * ==buffer/LICENSE==\n * The MIT License (MIT)\n * \n * Copyright (c) Feross Aboukhadijeh, and other contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */(t.length)?l(e,0):f(e,t);if(\"Buffer\"===t.type&&G(t.data))return f(e,t.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function u(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(0>e)throw new RangeError('\"size\" argument must not be negative')}function g(e,t){if(u(t),e=l(e,0>t?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=0>t.length?0:0|p(t.length);e=l(e,r);for(var o=0;o<r;o+=1)e[o]=255&t[o];return e}function p(e){if(e>=a())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a().toString(16)+\" bytes\");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return H(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return W(e).length;default:if(o)return H(e).length;t=(\"\"+t).toLowerCase(),o=!0}}function _(e,t,r){var o=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return L(this,t,r);case\"utf8\":case\"utf-8\":return R(this,t,r);case\"ascii\":return P(this,t,r);case\"latin1\":case\"binary\":return I(this,t,r);case\"base64\":return E(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return D(this,t,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),o=!0}}function y(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function m(e,t,r,o,i){if(0===e.length)return-1;if(\"string\"==typeof r?(o=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),0>r&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(0>r){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=c.from(t,o)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,o,i);if(\"number\"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,o,i);throw new TypeError(\"val must be string, number or Buffer\")}function b(e,t,r,o,i){function n(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var s,a=1,l=e.length,c=t.length;if(void 0!==o&&(\"ucs2\"===(o=(o+\"\").toLowerCase())||\"ucs-2\"===o||\"utf16le\"===o||\"utf-16le\"===o)){if(2>e.length||2>t.length)return-1;a=2,l/=2,c/=2,r/=2}if(i){var h=-1;for(s=r;s<l;s++)if(n(e,s)!==n(t,-1==h?0:s-h))-1!=h&&(s-=s-h),h=-1;else if(-1==h&&(h=s),s-h+1===c)return h*a}else for(r+c>l&&(r=l-c),s=r;0<=s;s--){for(var u=!0,g=0;g<c;g++)if(n(e,s+g)!==n(t,g)){u=!1;break}if(u)return s}return-1}function S(e,t,r,o){r=+r||0;var i=e.length-r;o?(o=+o)>i&&(o=i):o=i;var n=t.length;if(0!=n%2)throw new TypeError(\"Invalid hex string\");o>n/2&&(o=n/2);for(var s,a=0;a<o;++a){if(s=parseInt(t.substr(2*a,2),16),isNaN(s))return a;e[r+a]=s}return a}function v(e,t,r,o){return V(H(t,e.length-r),e,r,o)}function C(e,t,r,o){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,o)}function A(e,t,r,o){return C(e,t,r,o)}function w(e,t,r,o){return V(W(t),e,r,o)}function T(e,t,r,o){return V(function(e,t){for(var r,o,i,n=[],s=0;s<e.length&&!(0>(t-=2));++s)r=e.charCodeAt(s),o=r>>8,i=r%256,n.push(i),n.push(o);return n}(t,e.length-r),e,r,o)}function E(e,t,r){return 0===t&&r===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,r))}function R(e,t,r){r=n(e.length,r);for(var o=[],i=t;i<r;){var s,a,l,c,h=e[i],u=null,g=239<h?4:223<h?3:191<h?2:1;if(i+g<=r)1==g?128>h&&(u=h):2==g?128==(192&(s=e[i+1]))&&(127<(c=(31&h)<<6|63&s)&&(u=c)):3==g?(s=e[i+1],a=e[i+2],128==(192&s)&&128==(192&a)&&(2047<(c=(15&h)<<12|(63&s)<<6|63&a)&&(55296>c||57343<c)&&(u=c))):4==g&&(s=e[i+1],a=e[i+2],l=e[i+3],128==(192&s)&&128==(192&a)&&128==(192&l)&&(65535<(c=(15&h)<<18|(63&s)<<12|(63&a)<<6|63&l)&&1114112>c&&(u=c)));null===u?(u=65533,g=1):65535<u&&(u-=65536,o.push(55296|1023&u>>>10),u=56320|1023&u),o.push(u),i+=g}return O(o)}function O(e){var t=e.length;if(t<=Y)return s.apply(String,e);for(var r=\"\",o=0;o<t;)r+=s.apply(String,e.slice(o,o+=Y));return r}function P(e,t,r){var o=\"\";r=n(e.length,r);for(var i=t;i<r;++i)o+=s(127&e[i]);return o}function I(e,t,r){var o=\"\";r=n(e.length,r);for(var i=t;i<r;++i)o+=s(e[i]);return o}function L(e,t,r){var o=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>o)&&(r=o);for(var i=\"\",n=t;n<r;++n)i+=j(e[n]);return i}function D(e,t,r){for(var o=e.slice(t,r),i=\"\",n=0;n<o.length;n+=2)i+=s(o[n]+256*o[n+1]);return i}function M(e,t,r){if(0!=e%1||0>e)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function x(e,t,r,o,i,n){if(!c.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<n)throw new RangeError('\"value\" argument is out of bounds');if(r+o>e.length)throw new RangeError(\"Index out of range\")}function k(e,t,r,o){0>t&&(t=65535+t+1);for(var i=0,s=n(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function F(e,t,r,o){0>t&&(t=4294967295+t+1);for(var i=0,s=n(e.length-r,4);i<s;++i)e[r+i]=255&t>>>8*(o?i:3-i)}function B(e,t,r,o){if(r+o>e.length)throw new RangeError(\"Index out of range\");if(0>r)throw new RangeError(\"Index out of range\")}function N(e,t,r,o,i){return i||B(e,0,r,4),z.write(e,t,r,o,23,4),r+4}function U(e,t,r,o,i){return i||B(e,0,r,8),z.write(e,t,r,o,52,8),r+8}function j(e){return 16>e?\"0\"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,o=e.length,i=null,n=[],s=0;s<o;++s){if(55295<(r=e.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(t-=3)&&n.push(239,191,189);continue}if(s+1===o){-1<(t-=3)&&n.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(t-=3)&&n.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&n.push(239,191,189);if(i=null,128>r){if(0>(t-=1))break;n.push(r)}else if(2048>r){if(0>(t-=2))break;n.push(192|r>>6,128|63&r)}else if(65536>r){if(0>(t-=3))break;n.push(224|r>>12,128|63&r>>6,128|63&r)}else{if(!(1114112>r))throw new Error(\"Invalid code point\");if(0>(t-=4))break;n.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}}return n}function W(e){return K.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(q,\"\")).length)return\"\";for(;0!=e.length%4;)e+=\"=\";return e}(e))}function V(e,t,r,o){for(var i=0;i<o&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}var K=r(14),z=r(15),G=r(16);t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT?function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}():e.TYPED_ARRAY_SUPPORT,t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return h(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,o){return u(t),0>=t?l(e,t):void 0===r?l(e,t):\"string\"==typeof o?l(e,t).fill(r,o):l(e,t).fill(r)}(null,e,t,r)},c.allocUnsafe=function(e){return g(null,e)},c.allocUnsafeSlow=function(e){return g(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var r=e.length,o=t.length,i=0,s=n(r,o);i<s;++i)if(e[i]!==t[i]){r=e[i],o=t[i];break}return r<o?-1:o<r?1:0},c.isEncoding=function(e){switch((e+\"\").toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(e,t){if(!G(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var o=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var n=e[r];if(!c.isBuffer(n))throw new TypeError('\"list\" argument must be an Array of Buffers');n.copy(o,i),i+=n.length}return o},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0==e?\"\":0===arguments.length?R(this,0,e):_.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e=\"\",r=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},c.prototype.compare=function(e,t,r,o,i){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),0>t||r>e.length||0>o||i>this.length)throw new RangeError(\"out of range index\");if(o>=i&&t>=r)return 0;if(o>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(o>>>=0),a=(r>>>=0)-(t>>>=0),l=n(s,a),h=this.slice(o,i),u=e.slice(t,r),g=0;g<l;++g)if(h[g]!==u[g]){s=h[g],a=u[g];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,o){if(void 0===t)o=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)o=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(r)?(r|=0,void 0===o&&(o=\"utf8\")):(o=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),0<e.length&&(0>r||0>t)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");o||(o=\"utf8\");for(var n=!1;;)switch(o){case\"hex\":return S(this,e,t,r);case\"utf8\":case\"utf-8\":return v(this,e,t,r);case\"ascii\":return C(this,e,t,r);case\"latin1\":case\"binary\":return A(this,e,t,r);case\"base64\":return w(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return T(this,e,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+o);o=(\"\"+o).toLowerCase(),n=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;c.prototype.slice=function(e,t){var r,o=this.length;if(0>(e=~~e)?0>(e+=o)&&(e=0):e>o&&(e=o),0>(t=void 0===t?o:~~t)?0>(t+=o)&&(t=0):t>o&&(t=o),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var n=0;n<i;++n)r[n]=this[n+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var o=this[e],i=1,n=0;++n<t&&(i*=256);)o+=this[e+n]*i;return o},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var o=this[e+--t],i=1;0<t&&(i*=256);)o+=this[e+--t]*i;return o},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var i=this[e],n=1,s=0;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=o(2,8*t)),i},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var i=t,n=1,s=this[e+--i];0<i&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=o(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),z.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),z.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),z.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),z.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,i){(e=+e,t|=0,r|=0,i)||x(this,e,t,r,o(2,8*r)-1,0);var n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=255&e/n;return t+r},c.prototype.writeUIntBE=function(e,t,r,i){(e=+e,t|=0,r|=0,i)||x(this,e,t,r,o(2,8*r)-1,0);var n=r-1,s=1;for(this[t+n]=255&e;0<=--n&&(s*=256);)this[t+n]=255&e/s;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=i(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t|=0,!i){var n=o(2,8*r-1);x(this,e,t,r,n-1,-n)}var s=0,a=1,l=0;for(this[t]=255&e;++s<r&&(a*=256);)0>e&&0==l&&0!==this[t+s-1]&&(l=1),this[t+s]=255&(e/a>>0)-l;return t+r},c.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t|=0,!i){var n=o(2,8*r-1);x(this,e,t,r,n-1,-n)}var s=r-1,a=1,l=0;for(this[t+s]=255&e;0<=--s&&(a*=256);)0>e&&0==l&&0!==this[t+s+1]&&(l=1),this[t+s]=255&(e/a>>0)-l;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=i(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,o){if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),0<o&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError(\"targetStart out of bounds\");if(0>r||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(0>o)throw new RangeError(\"sourceEnd out of bounds\");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var i,n=o-r;if(this===e&&r<t&&t<o)for(i=n-1;0<=i;--i)e[i+t]=this[i+r];else if(1e3>n||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<n;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+n),t);return n},c.prototype.fill=function(e,t,r,o){if(\"string\"==typeof e){if(\"string\"==typeof t?(o=t,t=0,r=this.length):\"string\"==typeof r&&(o=r,r=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==o&&\"string\"!=typeof o)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof o&&!c.isEncoding(o))throw new TypeError(\"Unknown encoding: \"+o)}else\"number\"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var s=c.isBuffer(e)?e:H(new c(e,o).toString()),a=s.length;for(n=0;n<r-t;++n)this[n+t]=s[n%a]}return this};var q=/[^+\\/0-9A-Za-z-_]/g}).call(this,r(0))},function(e,t){\"use strict\";\n/*!\n * base64-js (https://npmjs.com/package/base64-js)\n * @license MIT\n * @version 1.3.1\n * ==base64-js/LICENSE==\n * The MIT License (MIT)\n * \n * Copyright (c) 2014 Jameson Little\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */function r(e){var t=e.length;if(0<t%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.indexOf(\"=\");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function o(e){return n[63&e>>18]+n[63&e>>12]+n[63&e>>6]+n[63&e]}function i(e,t,r){for(var i,n=[],s=t;s<r;s+=3)i=(16711680&e[s]<<16)+(65280&e[s+1]<<8)+(255&e[s+2]),n.push(o(i));return n.join(\"\")}t.byteLength=function(e){var t=r(e),o=t[0],i=t[1];return 3*(o+i)/4-i},t.toByteArray=function(e){var t,o,i=r(e),n=i[0],l=i[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,n,l)),h=0,u=0<l?n-4:n;for(o=0;o<u;o+=4)t=s[e.charCodeAt(o)]<<18|s[e.charCodeAt(o+1)]<<12|s[e.charCodeAt(o+2)]<<6|s[e.charCodeAt(o+3)],c[h++]=255&t>>16,c[h++]=255&t>>8,c[h++]=255&t;return 2===l&&(t=s[e.charCodeAt(o)]<<2|s[e.charCodeAt(o+1)]>>4,c[h++]=255&t),1===l&&(t=s[e.charCodeAt(o)]<<10|s[e.charCodeAt(o+1)]<<4|s[e.charCodeAt(o+2)]>>2,c[h++]=255&t>>8,c[h++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,s=[],a=16383,l=0,c=r-o;l<c;l+=a)s.push(i(e,l,l+a>c?c:l+a));return 1==o?(t=e[r-1],s.push(n[t>>2]+n[63&t<<4]+\"==\")):2==o&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[63&t>>4]+n[63&t<<2]+\"=\")),s.join(\"\")};for(var n=[],s=[],a=\"undefined\"==typeof Uint8Array?Array:Uint8Array,l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",c=0,h=l.length;c<h;++c)n[c]=l[c],s[l.charCodeAt(c)]=c;s[45]=62,s[95]=63},function(e,t){var r=Math.pow;t.read=function(e,t,o,i,n){var s,a,l=8*n-i-1,c=(1<<l)-1,h=c>>1,u=-7,g=o?n-1:0,f=o?-1:1,p=e[t+g];for(g+=f,s=p&(1<<-u)-1,p>>=-u,u+=l;0<u;s=256*s+e[t+g],g+=f,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=i;0<u;a=256*a+e[t+g],g+=f,u-=8);if(0===s)s=1-h;else{if(s===c)return a?NaN:1/0*(p?-1:1);a+=r(2,i),s-=h}return(p?-1:1)*a*r(2,s-i)},t.write=function(e,t,o,i,n,s){var a,l,c,h=8*s-n-1,u=(1<<h)-1,g=u>>1,f=23===n?5.960464477539062e-8:0,p=i?0:s-1,d=i?1:-1,_=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),1>t*(c=r(2,-a))&&(a--,c*=2),2<=(t+=1<=a+g?f/c:f*r(2,1-g))*c&&(a++,c/=2),a+g>=u?(l=0,a=u):1<=a+g?(l=(t*c-1)*r(2,n),a+=g):(l=t*r(2,g-1)*r(2,n),a=0));8<=n;e[o+p]=255&l,p+=d,l/=256,n-=8);for(a=a<<n|l,h+=n;0<h;e[o+p]=255&a,p+=d,a/=256,h-=8);e[o+p-d]|=128*_}},function(e){\n/*!\n * isarray (https://npmjs.com/package/isarray)\n * @license MIT\n * @version 1.0.0\n */\nvar t={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==t.call(e)}},function(e,t){\"use strict\";var r=String.fromCharCode;Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){this.url=e,this.protocols=t}return e.prototype.create=function(){return new i(this.url,this.protocols)},e}();t.ConnectionFactory=o;var i=function(){function e(e,t){this.ws=new WebSocket(e,t),this.ws.binaryType=\"arraybuffer\"}return e.prototype.open=function(){},e.prototype.close=function(){this.ws.close()},e.prototype.send=function(e,t){this.ws.send((new TextEncoder).encode(r(e)+t))},e.prototype.isOpen=function(){return this.ws.readyState==WebSocket.CONNECTING||this.ws.readyState==WebSocket.OPEN},e.prototype.onOpen=function(e){this.ws.onopen=function(){e()}},e.prototype.onReceive=function(e){this.ws.onmessage=function(t){e(function(e){return r.apply(null,new Uint8Array(e))}(t.data))}},e.prototype.onClose=function(e){this.ws.onclose=function(){e()}},e}();t.Connection=i}]);\n//# sourceMappingURL=wetty-bundle.js.map",
	}
)
